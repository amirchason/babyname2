/*! For license information please see 362.bfd28bf4.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksoulseed=self.webpackChunksoulseed||[]).push([[362],{1362:(e,a,t)=>{t.r(a),t.d(a,{default:()=>f});var n=t(9950),s=t(9396);const i=(0,t(6230).A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var o=t(2550),r=t(6327),l=t(4814),c=t(5995),d=t(5838),m=t(5328),g=t(1318),h=t(3577),x=t(2536),u=t(6747),p=t(5381),v=t(8940),y=t(5974),w=t(4414);const f=()=>{const[e,a]=(0,n.useState)([]),[t,f]=(0,n.useState)([]),[b,j]=(0,n.useState)([]),[k,N]=(0,n.useState)(null),[A,C]=(0,n.useState)(0),[F,P]=(0,n.useState)(!0),[S,T]=(0,n.useState)(null),[L,M]=(0,n.useState)("compact"),B=(0,s.Zp)(),O=(0,p.d)(),{isAuthenticated:D}=(0,v.A)();(0,n.useEffect)(()=>{E()},[]);const E=async()=>{P(!0),await m.A.loadFullDatabase();const e=await m.A.getPopularNames(1e4),t=g.A.getFavorites(),n=g.A.getPinnedFavorites(),s=t.map(a=>e.find(e=>e.name===a)).filter(Boolean),i=s.filter(e=>n.includes(e.name)),o=s.filter(e=>!n.includes(e.name)),r=[...i].sort((e,a)=>{const t=g.A.getLikeCount(e.name)||1;return(g.A.getLikeCount(a.name)||1)-t}),l=[...o].sort((e,a)=>{const t=g.A.getLikeCount(e.name)||1;return(g.A.getLikeCount(a.name)||1)-t});a([...r,...l]),f(r),j(l),P(!1)},z=()=>{E()},H=n=>{const s=e.map(e=>e.name),i=s.indexOf(n);g.A.incrementLikeCount(n);const o=[...t].sort((e,a)=>{const t=g.A.getLikeCount(e.name)||1;return(g.A.getLikeCount(a.name)||1)-t}),r=[...b].sort((e,a)=>{const t=g.A.getLikeCount(e.name)||1;return(g.A.getLikeCount(a.name)||1)-t}),l=[...o,...r].map(e=>e.name),c=l.indexOf(n),d=s.some((e,a)=>e!==l[a]);d&&c<i?(T(n),f(o),j(r),a([...o,...r]),setTimeout(()=>T(null),600)):(f(o),j(r),a([...o,...r]))};return(0,w.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:[(0,w.jsx)(y.A,{title:"SoulSeed",showBackButton:!0}),(0,w.jsx)("div",{className:"sticky z-40 bg-white/95 backdrop-blur-lg border-b border-purple-100/50",style:{top:"var(--app-header-height, 73px)"},children:(0,w.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2",children:(0,w.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,w.jsx)("div",{className:"flex-1 min-w-0",children:(0,w.jsxs)("div",{className:"flex items-baseline gap-2 flex-wrap",children:[(0,w.jsx)("h2",{className:"text-base font-semibold text-gray-900",children:"Favorites"}),!F&&e.length>0&&(0,w.jsxs)("span",{className:"text-xs text-gray-500 flex items-center gap-1.5 flex-wrap",children:[t.length>0&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("span",{className:"inline-flex items-center gap-0.5 whitespace-nowrap",children:[(0,w.jsx)("svg",{className:"w-3 h-3 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,w.jsx)("path",{d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z"})}),(0,w.jsx)("span",{className:"font-medium text-yellow-700",children:t.length})]}),(0,w.jsx)("span",{className:"text-gray-400",children:"\u2022"})]}),(0,w.jsxs)("span",{className:"whitespace-nowrap",children:[e.length," total"]})]})]})}),e.length>0&&(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsxs)("button",{onClick:async()=>{if(0===e.length)return void O.warning("No favorites to share!");let a="\u2728 My Favorite Baby Names \u2728\n\n";t.length>0&&(a+="\ud83d\udccc Top Picks:\n",t.forEach((e,t)=>{const n=g.A.getLikeCount(e.name);a+="".concat(t+1,". ").concat(e.name),n>1&&(a+=" (".concat(n,"\u2764\ufe0f)")),e.origin&&(a+=" - ".concat(e.origin)),a+="\n"}),a+="\n"),b.length>0&&(a+=t.length>0?"Other Favorites:\n":"",b.forEach((e,n)=>{const s=g.A.getLikeCount(e.name);a+="".concat(t.length+n+1,". ").concat(e.name),s>1&&(a+=" (".concat(s,"\u2764\ufe0f)")),e.origin&&(a+=" - ".concat(e.origin)),a+="\n"})),a+="\n\ud83c\udf7c Created with SoulSeed - where your baby name blooms";try{navigator.share?(await navigator.share({title:"My Favorite Baby Names",text:a}),O.success("Shared successfully!")):(await navigator.clipboard.writeText(a),O.success("Copied to clipboard!"))}catch(n){console.error("Error sharing:",n);try{await navigator.clipboard.writeText(a),O.success("Copied to clipboard!")}catch(s){O.error("Failed to share. Please try again.")}}},className:"group flex items-center gap-1.5 px-3 py-1.5 text-purple-600 hover:text-white bg-purple-50 hover:bg-gradient-to-r hover:from-purple-500 hover:to-pink-500 rounded-lg transition-all duration-300 shadow-sm hover:shadow-md",title:"Share favorites list",children:[(0,w.jsx)(i,{className:"w-4 h-4 transition-transform group-hover:scale-110"}),(0,w.jsx)("span",{className:"text-xs font-medium hidden sm:inline",children:"Share"})]}),(0,w.jsxs)("div",{className:"flex items-center gap-0.5 bg-gray-100 rounded-lg p-0.5",children:[(0,w.jsx)("button",{onClick:()=>M("card"),className:"p-1.5 rounded transition-all ".concat("card"===L?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700"),title:"Card view",children:(0,w.jsx)(o.A,{className:"w-4 h-4"})}),(0,w.jsx)("button",{onClick:()=>M("compact"),className:"p-1.5 rounded transition-all ".concat("compact"===L?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700"),title:"Compact view",children:(0,w.jsx)(r.A,{className:"w-4 h-4"})})]}),(0,w.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to clear all favorites? This will delete your favorites from both device and cloud."))try{console.log("[FavoritesPage] Starting to clear favorites..."),await g.A.clearFavorites(),console.log("[FavoritesPage] Favorites cleared successfully"),await new Promise(e=>setTimeout(e,200));const e=g.A.getFavorites();if(console.log("[FavoritesPage] After clear, remaining favorites:",e.length),e.length>0){console.error("[FavoritesPage] Failed to clear - still has",e.length,"favorites"),await g.A.clearFavorites(),await new Promise(e=>setTimeout(e,200));const a=g.A.getFavorites();console.log("[FavoritesPage] After second clear, remaining:",a.length)}a([]),D?O.success("All favorites cleared from device and cloud!"):O.success("All favorites cleared from device!")}catch(e){console.error("[FavoritesPage] Error clearing favorites:",e),a([]),D?O.warning("Favorites cleared locally, but cloud sync failed. They will sync next time you log in."):O.success("All favorites cleared!")}},className:"group flex items-center gap-1.5 px-3 py-1.5 text-red-600 hover:text-white bg-red-50 hover:bg-gradient-to-r hover:from-red-500 hover:to-pink-500 rounded-lg transition-all duration-300 shadow-sm hover:shadow-md",title:"Clear all favorites",children:[(0,w.jsx)(l.A,{className:"w-4 h-4 transition-transform group-hover:scale-110"}),(0,w.jsx)("span",{className:"text-xs font-medium hidden sm:inline",children:"Clear"})]})]})]})})}),(0,w.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8 pt-20",children:F?(0,w.jsx)("div",{className:"text-center py-20",children:(0,w.jsxs)("div",{className:"inline-flex items-center gap-3 text-gray-500",children:[(0,w.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),(0,w.jsx)("span",{className:"text-lg",children:"Loading favorites..."})]})}):0===e.length?(0,w.jsxs)("div",{className:"text-center py-20",children:[(0,w.jsx)(c.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,w.jsx)("p",{className:"text-xl text-gray-500 mb-4",children:"No favorite names yet"}),(0,w.jsx)("button",{onClick:()=>B("/"),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Browse Names"})]}):(0,w.jsxs)("div",{children:[t.length>0&&(0,w.jsxs)("div",{className:"mb-8",children:[(0,w.jsxs)("h2",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center justify-between",children:[(0,w.jsxs)("span",{className:"flex items-center gap-2",children:[(0,w.jsx)("svg",{className:"w-5 h-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,w.jsx)("path",{d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z"})}),"Pinned Favorites"]}),(0,w.jsxs)("span",{className:"text-sm text-gray-500 font-normal",children:[t.length,"/20 pinned"]})]}),"card"===L?(0,w.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 bg-yellow-50/30 rounded-xl",children:t.map((e,a)=>(0,w.jsx)(d.P.div,{layout:!0,initial:{opacity:0,scale:.8},animate:S===e.name?{opacity:1,scale:[1,1.1,1],y:[-30,0],boxShadow:["0 0 0 0 rgba(234, 179, 8, 0)","0 0 30px 10px rgba(234, 179, 8, 0.5)","0 0 0 0 rgba(234, 179, 8, 0)"]}:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8},transition:{layout:{duration:.3,ease:[.4,0,.2,1]},opacity:{duration:.2},scale:{duration:.2},y:{duration:.4,ease:[.34,1.56,.64,1]},boxShadow:{duration:.4}},children:(0,w.jsx)(h.A,{name:e,onClick:e=>{N(e),C(a)},onFavoriteToggle:()=>H(e.name),onDislikeToggle:z,isPinned:!0,onPin:z,showPinOption:!0,likeCount:g.A.getLikeCount(e.name)})},"pinned-".concat(e.name)))}):(0,w.jsx)("div",{className:"bg-yellow-50/30 rounded-xl overflow-hidden",children:t.map((e,a)=>(0,w.jsx)(x.A,{name:e,onClick:e=>{N(e),C(a)},onFavoriteToggle:()=>H(e.name),onDislikeToggle:z,likeCount:g.A.getLikeCount(e.name),isPinned:!0,onPin:z,showPinOption:!0},"pinned-compact-".concat(e.name)))})]}),b.length>0&&(0,w.jsxs)("div",{children:[t.length>0&&(0,w.jsx)("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Other Favorites"}),"card"===L?(0,w.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map((e,a)=>(0,w.jsx)(d.P.div,{layout:!0,initial:{opacity:0,scale:.8},animate:S===e.name?{opacity:1,scale:[1,1.1,1],y:[-30,0],boxShadow:["0 0 0 0 rgba(168, 85, 247, 0)","0 0 30px 10px rgba(168, 85, 247, 0.5)","0 0 0 0 rgba(168, 85, 247, 0)"]}:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8},transition:{layout:{duration:.3,ease:[.4,0,.2,1]},opacity:{duration:.2},scale:{duration:.2},y:{duration:.4,ease:[.34,1.56,.64,1]},boxShadow:{duration:.4}},children:(0,w.jsx)(h.A,{name:e,onClick:e=>{N(e),C(t.length+a)},onFavoriteToggle:()=>H(e.name),onDislikeToggle:z,isPinned:!1,onPin:z,showPinOption:!0,likeCount:g.A.getLikeCount(e.name)})},"unpinned-".concat(e.name)))}):(0,w.jsx)("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-200",children:b.map((e,a)=>(0,w.jsx)(x.A,{name:e,onClick:e=>{N(e),C(t.length+a)},onFavoriteToggle:()=>H(e.name),onDislikeToggle:z,likeCount:g.A.getLikeCount(e.name),isPinned:!1,onPin:z,showPinOption:!0},"unpinned-compact-".concat(e.name)))})]})]})}),k&&(0,w.jsx)(u.A,{name:k,names:e,currentIndex:A,onClose:()=>N(null),onNavigate:a=>{a>=0&&a<e.length&&(N(e[a]),C(a))},onFavoriteToggle:z,onDislikeToggle:z})]})}},4814:(e,a,t)=>{t.d(a,{A:()=>n});const n=(0,t(6230).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])}}]);