/*! For license information please see 938.619b9489.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksoulseed=self.webpackChunksoulseed||[]).push([[938],{1449:(e,t,r)=>{r.d(t,{A:()=>s});const s=(0,r(6230).A)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]])},7737:(e,t,r)=>{r.d(t,{A:()=>s});const s=(0,r(6230).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},8651:(e,t,r)=>{r.d(t,{A:()=>n});var s=r(9379),o=r(306),a=r(8081);const n=new class{constructor(){this.collectionName="votes"}async createVote(e,t,r){try{var s;if(!r.title||0===r.title.trim().length)throw new Error("Title is required");if(r.title.length>100)throw new Error("Title must be 100 characters or less");if(r.description&&r.description.length>500)throw new Error("Description must be 500 characters or less");if(r.names.length<2)throw new Error("At least 2 names are required");if(r.names.length>100)throw new Error("Maximum 100 names allowed");if(r.maxVotes>r.names.length)throw new Error("Max votes cannot exceed number of names");const n=(0,o.H9)((0,o.rJ)(a.db,this.collectionName)),c=n.id,i={};r.names.forEach(e=>{i[e.name]={count:0,voters:[]}});const l={createdBy:e,createdByName:t,createdAt:o.Dc.now(),updatedAt:o.Dc.now(),title:r.title.trim(),description:(null===(s=r.description)||void 0===s?void 0:s.trim())||"",names:r.names,voteType:r.voteType,maxVotes:r.maxVotes,isPublic:r.isPublic,expiresAt:r.expiresAt?o.Dc.fromDate(r.expiresAt):null,status:"active",votes:i,totalVoters:0,stats:{totalVotesCast:0,lastVoteAt:null}};return await(0,o.BN)(n,l),c}catch(n){throw console.error("Error creating vote:",n),n}}async getVote(e){try{const t=(0,o.H9)(a.db,this.collectionName,e),r=await(0,o.x7)(t);if(!r.exists())return null;const n=r.data();return n.expiresAt&&n.expiresAt.toDate()<new Date&&"active"===n.status&&(await(0,o.mZ)(t,{status:"expired"}),n.status="expired"),(0,s.A)({id:r.id},n)}catch(t){throw console.error("Error getting vote:",t),t}}async submitVote(e){try{const{voteId:t,selectedNames:r,voterId:n}=e,c=(0,o.H9)(a.db,this.collectionName,t);await(0,o.c4)(a.db,async e=>{const t=await e.get(c);if(!t.exists())throw new Error("Vote not found");const a=t.data();if("active"!==a.status)throw new Error("This vote is no longer active");if(a.expiresAt&&a.expiresAt.toDate()<new Date)throw new Error("This vote has expired");if(r.length>a.maxVotes)throw new Error("You can only vote for ".concat(a.maxVotes," name(s)"));if(0===r.length)throw new Error("Please select at least one name");const i=(0,s.A)({},a.votes),l=Object.values(i).some(e=>{var t;return null===(t=e.voters)||void 0===t?void 0:t.includes(n)});let d=!l;l&&Object.keys(i).forEach(e=>{i[e].voters.includes(n)&&(i[e].voters=i[e].voters.filter(e=>e!==n),i[e].count=i[e].voters.length)}),r.forEach(e=>{i[e]||(i[e]={count:0,voters:[]}),i[e].voters.includes(n)||(i[e].voters.push(n),i[e].count=i[e].voters.length)}),e.update(c,{votes:i,totalVoters:d?a.totalVoters+1:a.totalVoters,"stats.totalVotesCast":a.stats.totalVotesCast+r.length,"stats.lastVoteAt":o.Dc.now(),updatedAt:o.Dc.now()})})}catch(t){throw console.error("Error submitting vote:",t),t}}async getResults(e){try{const t=await this.getVote(e);if(!t)throw new Error("Vote not found");const r=[],s=Object.values(t.votes).reduce((e,t)=>e+t.count,0);return Object.entries(t.votes).forEach(e=>{let[t,o]=e;r.push({name:t,count:o.count,percentage:s>0?o.count/s*100:0,rank:0})}),r.sort((e,t)=>t.count-e.count),r.forEach((e,t)=>{e.rank=t+1}),r}catch(t){throw console.error("Error getting results:",t),t}}async getUserVotes(e){try{const t=(0,o.rJ)(a.db,this.collectionName),r=(0,o.P)(t,(0,o._M)("createdBy","==",e)),n=await(0,o.GG)(r),c=[];return n.forEach(e=>{c.push((0,s.A)({id:e.id},e.data()))}),c}catch(t){throw console.error("Error getting user votes:",t),t}}async deleteVote(e,t){try{const r=(0,o.H9)(a.db,this.collectionName,e),s=await(0,o.x7)(r);if(!s.exists())throw new Error("Vote not found");if(s.data().createdBy!==t)throw new Error("Only the creator can delete this vote");await(0,o.kd)(r)}catch(r){throw console.error("Error deleting vote:",r),r}}async closeVote(e,t){try{const r=(0,o.H9)(a.db,this.collectionName,e),s=await(0,o.x7)(r);if(!s.exists())throw new Error("Vote not found");if(s.data().createdBy!==t)throw new Error("Only the creator can close this vote");await(0,o.mZ)(r,{status:"closed",updatedAt:o.Dc.now()})}catch(r){throw console.error("Error closing vote:",r),r}}subscribeToVote(e,t){const r=(0,o.H9)(a.db,this.collectionName,e);return(0,o.aQ)(r,e=>{e.exists()?t((0,s.A)({id:e.id},e.data())):t(null)},e=>{console.error("Error listening to vote updates:",e),t(null)})}async hasUserVoted(e,t){try{const r=await this.getVote(e);return!!r&&Object.values(r.votes).some(e=>{var r;return null===(r=e.voters)||void 0===r?void 0:r.includes(t)})}catch(r){return console.error("Error checking if user voted:",r),!1}}async getUserSelection(e,t){try{const r=await this.getVote(e);if(!r)return[];const s=[];return Object.entries(r.votes).forEach(e=>{let[r,o]=e;o.voters.includes(t)&&s.push(r)}),s}catch(r){return console.error("Error getting user selection:",r),[]}}}},8935:(e,t,r)=>{r.d(t,{A:()=>s});const s=(0,r(6230).A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},9077:(e,t,r)=>{r.d(t,{A:()=>x});var s=r(9950),o=r(6429),a=r(5838),n=r(8935),c=r(6479),i=r(6311),l=r(6230);const d=(0,l.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var h=r(1449);const m=(0,l.A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var u=r(4414);function x(e){let{isOpen:t,onClose:r,voteId:l,title:x}=e;const[p,v]=(0,s.useState)(!1),y=(()=>{const e=window.location.origin;return"".concat(e,"/babyname2/vote/").concat(l)})(),w="".concat(x," - Vote for your favorite baby name!"),g="undefined"!==typeof navigator&&"share"in navigator,f=e=>{const t=encodeURIComponent(y),r=encodeURIComponent(w);let s="";switch(e){case"whatsapp":s="https://wa.me/?text=".concat(r,"%20").concat(t);break;case"facebook":s="https://www.facebook.com/sharer/sharer.php?u=".concat(t);break;case"twitter":s="https://twitter.com/intent/tweet?text=".concat(r,"&url=").concat(t);break;case"telegram":s="https://t.me/share/url?url=".concat(t,"&text=").concat(r);break;case"native":return void(async()=>{if(g)try{await navigator.share({title:w,text:"Help me choose a baby name! ".concat(w),url:y})}catch(e){console.log("Share cancelled or failed:",e)}})();case"copy":return void b()}s&&window.open(s,"_blank","noopener,noreferrer")},b=async()=>{try{await navigator.clipboard.writeText(y),v(!0),setTimeout(()=>v(!1),2e3)}catch(e){console.error("Failed to copy link:",e);const t=document.createElement("input");t.value=y,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),v(!0),setTimeout(()=>v(!1),2e3)}};return(0,u.jsx)(o.N,{children:t&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center p-4",children:(0,u.jsxs)(a.P.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"bg-white rounded-t-3xl sm:rounded-3xl shadow-2xl w-full max-w-md overflow-hidden",children:[(0,u.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-6 py-4 flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)(n.A,{className:"w-6 h-6 text-white"}),(0,u.jsx)("h2",{className:"text-xl font-bold text-white",children:"Share Vote"})]}),(0,u.jsx)("button",{onClick:r,className:"text-white hover:bg-white/20 p-2 rounded-full transition",children:(0,u.jsx)(c.A,{className:"w-5 h-5"})})]}),(0,u.jsxs)("div",{className:"p-6",children:[(0,u.jsxs)("div",{className:"mb-6",children:[(0,u.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Vote Link"}),(0,u.jsxs)("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-3 border border-gray-200",children:[(0,u.jsx)("input",{type:"text",value:y,readOnly:!0,className:"flex-1 bg-transparent text-sm text-gray-700 outline-none"}),(0,u.jsx)("button",{onClick:b,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg font-medium text-sm transition ".concat(p?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700 hover:bg-purple-200"),children:p?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.A,{className:"w-4 h-4"}),"Copied!"]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d,{className:"w-4 h-4"}),"Copy"]})})]})]}),(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Share on"}),g&&(0,u.jsxs)("button",{onClick:()=>f("native"),className:"w-full flex items-center gap-4 p-4 bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 rounded-xl hover:border-purple-400 hover:shadow-md transition group",children:[(0,u.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center group-hover:scale-110 transition",children:(0,u.jsx)(n.A,{className:"w-6 h-6 text-white"})}),(0,u.jsxs)("div",{className:"flex-1 text-left",children:[(0,u.jsx)("div",{className:"font-semibold text-gray-800",children:"Share..."}),(0,u.jsx)("div",{className:"text-sm text-gray-600",children:"Use your device's share menu"})]})]}),(0,u.jsxs)("button",{onClick:()=>f("whatsapp"),className:"w-full flex items-center gap-4 p-4 bg-green-50 border-2 border-green-200 rounded-xl hover:border-green-400 hover:shadow-md transition group",children:[(0,u.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center group-hover:scale-110 transition",children:(0,u.jsx)(h.A,{className:"w-6 h-6 text-white"})}),(0,u.jsxs)("div",{className:"flex-1 text-left",children:[(0,u.jsx)("div",{className:"font-semibold text-gray-800",children:"WhatsApp"}),(0,u.jsx)("div",{className:"text-sm text-gray-600",children:"Share with friends & family"})]})]}),(0,u.jsxs)("button",{onClick:()=>f("facebook"),className:"w-full flex items-center gap-4 p-4 bg-blue-50 border-2 border-blue-200 rounded-xl hover:border-blue-400 hover:shadow-md transition group",children:[(0,u.jsx)("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center group-hover:scale-110 transition",children:(0,u.jsx)("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,u.jsxs)("div",{className:"flex-1 text-left",children:[(0,u.jsx)("div",{className:"font-semibold text-gray-800",children:"Facebook"}),(0,u.jsx)("div",{className:"text-sm text-gray-600",children:"Post to your timeline"})]})]}),(0,u.jsxs)("button",{onClick:()=>f("twitter"),className:"w-full flex items-center gap-4 p-4 bg-sky-50 border-2 border-sky-200 rounded-xl hover:border-sky-400 hover:shadow-md transition group",children:[(0,u.jsx)("div",{className:"w-12 h-12 bg-sky-500 rounded-full flex items-center justify-center group-hover:scale-110 transition",children:(0,u.jsx)("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),(0,u.jsxs)("div",{className:"flex-1 text-left",children:[(0,u.jsx)("div",{className:"font-semibold text-gray-800",children:"Twitter / X"}),(0,u.jsx)("div",{className:"text-sm text-gray-600",children:"Tweet to followers"})]})]}),(0,u.jsxs)("button",{onClick:()=>f("telegram"),className:"w-full flex items-center gap-4 p-4 bg-cyan-50 border-2 border-cyan-200 rounded-xl hover:border-cyan-400 hover:shadow-md transition group",children:[(0,u.jsx)("div",{className:"w-12 h-12 bg-cyan-500 rounded-full flex items-center justify-center group-hover:scale-110 transition",children:(0,u.jsx)(m,{className:"w-6 h-6 text-white"})}),(0,u.jsxs)("div",{className:"flex-1 text-left",children:[(0,u.jsx)("div",{className:"font-semibold text-gray-800",children:"Telegram"}),(0,u.jsx)("div",{className:"text-sm text-gray-600",children:"Send to contacts"})]})]})]}),(0,u.jsx)("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-100",children:(0,u.jsxs)("p",{className:"text-sm text-gray-700 text-center",children:["\ud83d\udca1 ",(0,u.jsx)("span",{className:"font-semibold",children:"Pro Tip:"})," The more people vote, the better your decision!"]})})]})]})})})})}},9680:(e,t,r)=>{r.d(t,{A:()=>s});const s=(0,r(6230).A)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])}}]);