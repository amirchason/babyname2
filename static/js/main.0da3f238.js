/*! For license information please see main.0da3f238.js.LICENSE.txt */
(()=>{"use strict";var e={24:(e,t,n)=>{n.d(t,{$:()=>r,V:()=>i});let r=()=>{},i=()=>{}},266:(e,t,n)=>{n.d(t,{S:()=>r});const r=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g},453:(e,t,n)=>{n.d(t,{V:()=>r});const r=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2},498:(e,t,n)=>{n.d(t,{cY:()=>m,FA:()=>M,g:()=>D,u:()=>l,Uj:()=>s,Fy:()=>v,tD:()=>z,bD:()=>L,hp:()=>B,T9:()=>p,Tj:()=>h,yU:()=>d,XA:()=>f,mS:()=>c,Ku:()=>H,ZQ:()=>x,sr:()=>A,zJ:()=>g,c1:()=>C,Im:()=>O,lT:()=>P,zW:()=>N,jZ:()=>E,lV:()=>T,nr:()=>I,Ov:()=>_,gE:()=>y,Am:()=>j,I9:()=>V,P1:()=>S,eX:()=>R});var r=n(2555);const i=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;s||(d=64,a||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==l)throw new o;const c=t<<2|a>>4;if(r.push(c),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==l){const e=s<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(e){return function(e){const t=i(e);return a.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return a.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const u=()=>{try{return c().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/babyname2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NAME:"New Baby Name",REACT_APP_VERSION:"2.0.0",REACT_APP_BASE_URL:"http://localhost:3000",REACT_APP_API_URL:"http://localhost:5000",REACT_APP_GOOGLE_API_KEY:"AIzaSyALzy3qXMyXPtLl7pUuCDo_eE5X89u3dpA",REACT_APP_GEMINI_API_KEY:"AIzaSyALzy3qXMyXPtLl7pUuCDo_eE5X89u3dpA",REACT_APP_YOUTUBE_API_KEY:"AIzaSyALzy3qXMyXPtLl7pUuCDo_eE5X89u3dpA",REACT_APP_GOOGLE_ANALYTICS_ID:"GA-XXXXXXXXX",REACT_APP_GOOGLE_CLIENT_ID:"1093132372253-a725n8gpe624usli0hnj3re1eicgi4o2.apps.googleusercontent.com",REACT_APP_GOOGLE_CLIENT_SECRET:"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",REACT_APP_OAUTH_REDIRECT_URI_DEV:"http://localhost:3000/auth/callback",REACT_APP_OAUTH_REDIRECT_URI_PROD:"https://amirchason.github.io/babyname2",REACT_APP_USE_LOCAL_DB:"true",REACT_APP_LOCAL_DB_PATH:"/data/names.json",REACT_APP_API_DB_URL:"https://api.babynames.com",REACT_APP_API_DB_KEY:"",REACT_APP_ENABLE_SCRAPING:"true",REACT_APP_ENABLE_AI_CHAT:"true",REACT_APP_ENABLE_BLOG:"false",REACT_APP_ENABLE_FAVORITES:"true",REACT_APP_SCRAPE_WIKIPEDIA:"true",REACT_APP_SCRAPE_YOUTUBE:"true",REACT_APP_SCRAPE_IMDB:"true",REACT_APP_SCRAPE_BIBLE_API:"true",REACT_APP_SCRAPE_DELAY:"1000",REACT_APP_SCRAPE_MAX_RETRIES:"3",REACT_APP_CACHE_DURATION:"3600000",REACT_APP_USE_SERVICE_WORKER:"true",REACT_APP_PRIMARY_COLOR:"#D8B2F2",REACT_APP_SECONDARY_COLOR:"#FFB3D9",REACT_APP_ACCENT_COLOR:"#B3D9FF",REACT_APP_MAX_TRENDING_NAMES:"6",REACT_APP_MAX_POPULAR_NAMES:"8",REACT_APP_NAMES_PER_PAGE:"20",REACT_APP_DEBUG_MODE:"false",REACT_APP_LOG_LEVEL:"info",REACT_APP_SENTRY_DSN:"",REACT_APP_HOMEPAGE:"https://amirchason.github.io/babyname2"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},h=e=>{var t;return null===(t=u())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},d=e=>{const t=h(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},p=()=>{var e;return null===(e=u())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=u())||void 0===t?void 0:t["_".concat(e)]};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function y(e){return(await fetch(e,{credentials:"include"})).ok}function v(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=(0,r.A)({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}const b={};let w=!1;function S(e,t){if("undefined"===typeof window||"undefined"===typeof document||!g(window.location.host)||b[e]===t||b[e]||w)return;function n(e){return"__firebase__banner__".concat(e)}b[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(b))b[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{w=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function x(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function E(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())}function k(){var e;const t=null===(e=u())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function C(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function A(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function T(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function P(){const e=x();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function I(){return!k()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _(){return!k()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function N(){try{return"object"===typeof indexedDB}catch(e){return!1}}function R(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class D extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,D.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,M.prototype.create)}}class M{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(F,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new D(n,a,t)}}const F=/\{\$([^}]+)}/g;function O(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function L(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(U(n)&&U(a)){if(!L(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function U(e){return null!==e&&"object"===typeof e}function j(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function V(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function B(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function z(e,t){const n=new G(e,t);return n.subscribe.bind(n)}class G{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=q),void 0===r.error&&(r.error=q),void 0===r.complete&&(r.complete=q);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q(){}function H(e){return e&&e._delegate?e._delegate:e}},584:(e,t,n)=>{n.d(t,{po:()=>a,tn:()=>s,yT:()=>o});var r=n(453),i=n(718);const a=e=>1-Math.sin(Math.acos(e)),o=(0,i.G)(a),s=(0,r.V)(a)},718:(e,t,n)=>{n.d(t,{G:()=>r});const r=e=>t=>1-e(1-t)},772:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(6230).A)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]])},903:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(6230).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},911:(e,t,n)=>{function r(e){return"object"===typeof e&&null!==e}n.d(t,{G:()=>r})},1047:(e,t,n)=>{n.d(t,{Gt:()=>a,PP:()=>l,WG:()=>o,uv:()=>s});var r=n(9389),i=n(5716);const{schedule:a,cancel:o,state:s,steps:l}=(0,i.I)("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:r.l,!0)},1066:(e,t,n)=>{n.d(t,{G:()=>u});var r=n(3971);var i=n(9305),a=n(1047),o=n(7544),s=n(1567);function l(e,t){const n=(0,s.d)(t()),r=()=>n.set(t());return r(),(0,o.E)(()=>{const t=()=>a.Gt.preRender(r,!1,!0),n=e.map(e=>e.on("change",t));return()=>{n.forEach(e=>e()),(0,a.WG)(r)}}),n}var c=n(2830);function u(e,t,n,i){if("function"===typeof e)return function(e){c.bt.current=[],e();const t=l(c.bt.current,e);return c.bt.current=void 0,t}(e);const a="function"===typeof t?t:function(){const e=!Array.isArray(arguments.length<=0?void 0:arguments[0]),t=e?0:-1,n=0+t<0||arguments.length<=0+t?void 0:arguments[0+t],i=1+t<0||arguments.length<=1+t?void 0:arguments[1+t],a=2+t<0||arguments.length<=2+t?void 0:arguments[2+t],o=3+t<0||arguments.length<=3+t?void 0:arguments[3+t],s=(0,r.G)(i,a,o);return e?s(n):s}(t,n,i);return Array.isArray(e)?h(e,a):h([e],e=>{let[t]=e;return a(t)})}function h(e,t){const n=(0,i.M)(()=>[]);return l(e,()=>{n.length=0;const r=e.length;for(let t=0;t<r;t++)n[t]=e[t].get();return t(n)})}},1085:(e,t,n)=>{var r=n(5340),i=n(9950),a=n(7119);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function h(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var p=Object.assign,f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),x=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var P=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var _=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case k:return"Suspense";case C:return"SuspenseList";case P:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case x:return(e.displayName||"Context")+".Provider";case S:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return D(e(t))}catch(u){}}return null}var M=Array.isArray,F=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},U=[],j=-1;function V(e){return{current:e}}function B(e){0>j||(e.current=U[j],U[j]=null,j--)}function z(e,t){j++,U[j]=e.current,e.current=t}var G=V(null),q=V(null),H=V(null),K=V(null);function W(e,t){switch(z(H,t),z(q,e),z(G,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ah(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=oh(t=ah(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(G),z(G,e)}function X(){B(G),B(q),B(H)}function Y(e){null!==e.memoizedState&&z(K,e);var t=G.current,n=oh(t,e.type);t!==n&&(z(q,e),z(G,n))}function Q(e){q.current===e&&(B(G),B(q)),K.current===e&&(B(K),Yh._currentValue=L)}var $=Object.prototype.hasOwnProperty,J=r.unstable_scheduleCallback,Z=r.unstable_cancelCallback,ee=r.unstable_shouldYield,te=r.unstable_requestPaint,ne=r.unstable_now,re=r.unstable_getCurrentPriorityLevel,ie=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,se=r.unstable_LowPriority,le=r.unstable_IdlePriority,ce=r.log,ue=r.unstable_setDisableYieldValue,he=null,de=null;function pe(e){if("function"===typeof ce&&ue(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(he,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(me(e)/ge|0)|0},me=Math.log,ge=Math.LN2;var ye=256,ve=4194304;function be(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?i=be(r):0!==(o&=s)?i=be(o):n||0!==(n=s&~e)&&(i=be(n)):0!==(s=r&~a)?i=be(s):0!==o?i=be(o):n||0!==(n=r&~e)&&(i=be(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function Se(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ee(){var e=ye;return 0===(4194048&(ye<<=1))&&(ye=256),e}function ke(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function Ce(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Pe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _e(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ne(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:ud(e.type)}var Re=Math.random().toString(36).slice(2),De="__reactFiber$"+Re,Me="__reactProps$"+Re,Fe="__reactContainer$"+Re,Oe="__reactEvents$"+Re,Le="__reactListeners$"+Re,Ue="__reactHandles$"+Re,je="__reactResources$"+Re,Ve="__reactMarker$"+Re;function Be(e){delete e[De],delete e[Me],delete e[Oe],delete e[Le],delete e[Ue]}function ze(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fe]||n[De]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wh(e);null!==e;){if(n=e[De])return n;e=wh(e)}return t}n=(e=n).parentNode}return null}function Ge(e){if(e=e[De]||e[Fe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function He(e){var t=e[je];return t||(t=e[je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[Ve]=!0}var We=new Set,Xe={};function Ye(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Xe[e]=t,e=0;e<t.length;e++)We.add(t[e])}var $e,Je,Ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),et={},tt={};function nt(e,t,n){if(i=t,$.call(tt,i)||!$.call(et,i)&&(Ze.test(i)?tt[i]=!0:(et[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function rt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function it(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===$e)try{throw Error()}catch(u){var t=u.stack.trim().match(/\n( *(at )?)/);$e=t&&t[1]||"",Je=-1<u.stack.indexOf("\n    at")?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$e+e+Je}var ot=!1;function st(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(u){var r=u}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var h="\n"+l[r].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function lt(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return at("Activity");default:return""}}function ct(e){try{var t="";do{t+=lt(e),e=e.return}while(e);return t}catch(u){return"\nError generating stack: "+u.message+"\n"+u.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ht(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function gt(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,a,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?bt(e,o,ut(t)):null!=n?bt(e,o,ut(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ut(s):e.removeAttribute("name")}function vt(e,t,n,r,i,a,o,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function bt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(M(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function At(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Ct(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&Ct(e,a,t[a])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _t(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Mt=null;function Ft(e){var t=Ge(e);if(t&&(e=t.stateNode)){var n=e[Me]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Me]||null;if(!i)throw Error(o(90));yt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Lt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==Dt||null!==Mt)&&(zc(),Dt&&(t=Dt,e=Mt,Mt=Dt=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Me]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var jt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Vt=!1;if(jt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Md){Vt=!1}var zt=null,Gt=null,qt=null;function Ht(){if(qt)return qt;var e,t,n=Gt,r=n.length,i="value"in zt?zt.value:zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return qt=i.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Xt(){return!1}function Yt(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Wt:Xt,this.isPropagationStopped=Xt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Qt,$t,Jt,Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},en=Yt(Zt),tn=p({},Zt,{view:0,detail:0}),nn=Yt(tn),rn=p({},tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Qt=e.screenX-Jt.screenX,$t=e.screenY-Jt.screenY):$t=Qt=0,Jt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),an=Yt(rn),on=Yt(p({},rn,{dataTransfer:0})),sn=Yt(p({},tn,{relatedTarget:0})),ln=Yt(p({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0})),cn=Yt(p({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Yt(p({},Zt,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function mn(){return fn}var gn=Yt(p({},tn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Yt(p({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Yt(p({},tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),bn=Yt(p({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Yt(p({},rn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Yt(p({},Zt,{newState:0,oldState:0})),xn=[9,13,27,32],En=jt&&"CompositionEvent"in window,kn=null;jt&&"documentMode"in document&&(kn=document.documentMode);var Cn=jt&&"TextEvent"in window&&!kn,An=jt&&(!En||kn&&8<kn&&11>=kn),Tn=String.fromCharCode(32),Pn=!1;function In(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Nn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Mn(e,t,n,r){Dt?Mt?Mt.push(r):Mt=[r]:Dt=r,0<(t=Hu(t,"onChange")).length&&(n=new en("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,On=null;function Ln(e){Lu(e,0)}function Un(e){if(pt(qe(e)))return e}function jn(e,t){if("change"===e)return t}var Vn=!1;if(jt){var Bn;if(jt){var zn="oninput"in document;if(!zn){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),zn="function"===typeof Gn.oninput}Bn=zn}else Bn=!1;Vn=Bn&&(!document.documentMode||9<document.documentMode)}function qn(){Fn&&(Fn.detachEvent("onpropertychange",Hn),On=Fn=null)}function Hn(e){if("value"===e.propertyName&&Un(On)){var t=[];Mn(t,On,e,Rt(e)),Lt(Ln,t)}}function Kn(e,t,n){"focusin"===e?(qn(),On=n,(Fn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&qn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(On)}function Xn(e,t){if("click"===e)return Un(t)}function Yn(e,t){if("input"===e||"change"===e)return Un(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function er(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?er(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function tr(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var rr=jt&&"documentMode"in document&&11>=document.documentMode,ir=null,ar=null,or=null,sr=!1;function lr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==ir||ir!==ft(r)||("selectionStart"in(r=ir)&&nr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&$n(or,r)||(or=r,0<(r=Hu(ar,"onSelect")).length&&(t=new en("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},hr={},dr={};function pr(e){if(hr[e])return hr[e];if(!ur[e])return e;var t,n=ur[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return hr[e]=n[t];return e}jt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);var fr=pr("animationend"),mr=pr("animationiteration"),gr=pr("animationstart"),yr=pr("transitionrun"),vr=pr("transitionstart"),br=pr("transitioncancel"),wr=pr("transitionend"),Sr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){Sr.set(e,t),Ye(t,[e])}xr.push("scrollEnd");var kr=new WeakMap;function Cr(e,t){if("object"===typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ct(t)},kr.set(e,t),t)}return{value:e,source:t,stack:ct(t)}}var Ar=[],Tr=0,Pr=0;function Ir(){for(var e=Tr,t=Pr=Tr=0;t<e;){var n=Ar[t];Ar[t++]=null;var r=Ar[t];Ar[t++]=null;var i=Ar[t];Ar[t++]=null;var a=Ar[t];if(Ar[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&Dr(n,i,a)}}function _r(e,t,n,r){Ar[Tr++]=e,Ar[Tr++]=t,Ar[Tr++]=n,Ar[Tr++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Nr(e,t,n,r){return _r(e,t,n,r),Mr(e)}function Rr(e,t){return _r(e,null,null,t),Mr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Mr(e){if(50<Dc)throw Dc=0,Mc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Fr={};function Or(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Or(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,i,a){var s=0;if(r=e,"function"===typeof e)Ur(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,G.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case P:return(e=Lr(31,n,t,i)).elementType=P,e.lanes=a,e;case y:return zr(n.children,i,a,t);case v:s=8,i|=24;break;case b:return(e=Lr(12,n,t,2|i)).elementType=b,e.lanes=a,e;case k:return(e=Lr(13,n,t,i)).elementType=k,e.lanes=a,e;case C:return(e=Lr(19,n,t,i)).elementType=C,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:case x:s=10;break e;case S:s=9;break e;case E:s=11;break e;case A:s=14;break e;case T:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function zr(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Gr(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function qr(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Kr=0,Wr=null,Xr=0,Yr=[],Qr=0,$r=null,Jr=1,Zr="";function ei(e,t){Hr[Kr++]=Xr,Hr[Kr++]=Wr,Wr=e,Xr=t}function ti(e,t,n){Yr[Qr++]=Jr,Yr[Qr++]=Zr,Yr[Qr++]=$r,$r=e;var r=Jr;e=Zr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var a=32-fe(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Jr=1<<32-fe(t)+i|n<<i|r,Zr=a+e}else Jr=1<<a|n<<i|r,Zr=e}function ni(e){null!==e.return&&(ei(e,1),ti(e,1,0))}function ri(e){for(;e===Wr;)Wr=Hr[--Kr],Hr[Kr]=null,Xr=Hr[--Kr],Hr[Kr]=null;for(;e===$r;)$r=Yr[--Qr],Yr[Qr]=null,Zr=Yr[--Qr],Yr[Qr]=null,Jr=Yr[--Qr],Yr[Qr]=null}var ii=null,ai=null,oi=!1,si=null,li=!1,ci=Error(o(519));function ui(e){throw gi(Cr(Error(o(418,"")),e)),ci}function hi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[De]=e,t[Me]=r,n){case"dialog":Uu("cancel",t),Uu("close",t);break;case"iframe":case"object":case"embed":Uu("load",t);break;case"video":case"audio":for(n=0;n<Fu.length;n++)Uu(Fu[n],t);break;case"source":Uu("error",t);break;case"img":case"image":case"link":Uu("error",t),Uu("load",t);break;case"details":Uu("toggle",t);break;case"input":Uu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Uu("invalid",t);break;case"textarea":Uu("invalid",t),xt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||$u(t.textContent,n)?(null!=r.popover&&(Uu("beforetoggle",t),Uu("toggle",t)),null!=r.onScroll&&Uu("scroll",t),null!=r.onScrollEnd&&Uu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ui(e)}function di(e){for(ii=e.return;ii;)switch(ii.tag){case 5:case 13:return void(li=!1);case 27:case 3:return void(li=!0);default:ii=ii.return}}function pi(e){if(e!==ii)return!1;if(!oi)return di(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sh(e.type,e.memoizedProps)),t=!t),t&&ai&&ui(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ai=vh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ai=null}}else 27===n?(n=ai,fh(e.type)?(e=bh,bh=null,ai=e):ai=n):ai=ii?vh(e.stateNode.nextSibling):null;return!0}function fi(){ai=ii=null,oi=!1}function mi(){var e=si;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),si=null),e}function gi(e){null===si?si=[e]:si.push(e)}var yi=V(null),vi=null,bi=null;function wi(e,t,n){z(yi,t._currentValue),t._currentValue=n}function Si(e){e._currentValue=yi.current,B(yi)}function xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ei(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xi(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),xi(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function ki(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===K.current){if(null===(s=i.alternate))throw Error(o(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Yh):e=[Yh])}i=i.return}null!==e&&Ei(t,e,n,r),t.flags|=262144}function Ci(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){vi=e,bi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return Ii(vi,e)}function Pi(e,t){return null===vi&&Ai(e),Ii(e,t)}function Ii(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bi){if(null===e)throw Error(o(308));bi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bi=bi.next=t;return n}var _i="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ni=r.unstable_scheduleCallback,Ri=r.unstable_NormalPriority,Di={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mi(){return{controller:new _i,data:new Map,refCount:0}}function Fi(e){e.refCount--,0===e.refCount&&Ni(Ri,function(){e.controller.abort()})}var Oi=null,Li=0,Ui=0,ji=null;function Vi(){if(0===--Li&&null!==Oi){null!==ji&&(ji.status="fulfilled");var e=Oi;Oi=null,Ui=0,ji=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Bi=F.S;F.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Oi){var n=Oi=[];Li=0,Ui=_u(),ji={status:"pending",value:void 0,then:function(e){n.push(e)}}}Li++,t.then(Vi,Vi)}(0,t),null!==Bi&&Bi(e,t)};var zi=V(null);function Gi(){var e=zi.current;return null!==e?e:ic.pooledCache}function qi(e,t){z(zi,null===t?zi.current:t.pool)}function Hi(){var e=Gi();return null===e?null:{parent:Di._currentValue,pool:e}}var Ki=Error(o(460)),Wi=Error(o(474)),Xi=Error(o(542)),Yi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function $i(){}function Ji(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then($i,$i),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ta(e=t.reason),e;default:if("string"===typeof t.status)t.then($i,$i);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ta(e=t.reason),e}throw Zi=t,Ki}}var Zi=null;function ea(){if(null===Zi)throw Error(o(459));var e=Zi;return Zi=null,e}function ta(e){if(e===Ki||e===Xi)throw Error(o(483))}var na=!1;function ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ia(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&rc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Mr(e),Dr(e,null,n),t}return _r(e,r,t,n),Mr(e)}function sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}function la(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ca=!1;function ua(){if(ca){if(null!==ji)throw ji}}function ha(e,t,n,r){ca=!1;var i=e.updateQueue;na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var h=i.baseState;for(o=0,u=c=l=null,s=a;;){var d=-536870913&s.lane,f=d!==s.lane;if(f?(oc&d)===d:(r&d)===d){0!==d&&d===Ui&&(ca=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;d=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(y,h,d);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(d="function"===typeof(m=g.payload)?m.call(y,h,d):m)||void 0===d)break e;h=p({},h,d);break e;case 2:na=!0}}null!==(d=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[d]:f.push(d))}else f={lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),fc|=o,e.lanes=o,e.memoizedState=h}}function da(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function pa(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)da(n[e],t)}var fa=V(null),ma=V(0);function ga(e,t){z(ma,e=dc),z(fa,t),dc=e|t.baseLanes}function ya(){z(ma,dc),z(fa,fa.current)}function va(){dc=ma.current,B(fa),B(ma)}var ba=0,wa=null,Sa=null,xa=null,Ea=!1,ka=!1,Ca=!1,Aa=0,Ta=0,Pa=null,Ia=0;function _a(){throw Error(o(321))}function Na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Ra(e,t,n,r,i,a){return ba=a,wa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=null===e||null===e.memoizedState?Wo:Xo,Ca=!1,a=n(r,i),Ca=!1,ka&&(a=Ma(t,n,r,i)),Da(e),a}function Da(e){F.H=Ko;var t=null!==Sa&&null!==Sa.next;if(ba=0,xa=Sa=wa=null,Ea=!1,Ta=0,Pa=null,t)throw Error(o(300));null===e||Ps||null!==(e=e.dependencies)&&Ci(e)&&(Ps=!0)}function Ma(e,t,n,r){wa=e;var i=0;do{if(ka&&(Pa=null),Ta=0,ka=!1,25<=i)throw Error(o(301));if(i+=1,xa=Sa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}F.H=Yo,a=t(n,r)}while(ka);return a}function Fa(){var e=F.H,t=e.useState()[0];return t="function"===typeof t.then?Ba(t):t,e=e.useState()[0],(null!==Sa?Sa.memoizedState:null)!==e&&(wa.flags|=1024),t}function Oa(){var e=0!==Aa;return Aa=0,e}function La(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ua(e){if(Ea){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ea=!1}ba=0,xa=Sa=wa=null,ka=!1,Ta=Aa=0,Pa=null}function ja(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xa?wa.memoizedState=xa=e:xa=xa.next=e,xa}function Va(){if(null===Sa){var e=wa.alternate;e=null!==e?e.memoizedState:null}else e=Sa.next;var t=null===xa?wa.memoizedState:xa.next;if(null!==t)xa=t,Sa=e;else{if(null===e){if(null===wa.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(Sa=e).memoizedState,baseState:Sa.baseState,baseQueue:Sa.baseQueue,queue:Sa.queue,next:null},null===xa?wa.memoizedState=xa=e:xa=xa.next=e}return xa}function Ba(e){var t=Ta;return Ta+=1,null===Pa&&(Pa=[]),e=Ji(Pa,e,t),t=wa,null===(null===xa?t.memoizedState:xa.next)&&(t=t.alternate,F.H=null===t||null===t.memoizedState?Wo:Xo),e}function za(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ba(e);if(e.$$typeof===x)return Ti(e)}throw Error(o(438,String(e)))}function Ga(e){var t=null,n=wa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function qa(e,t){return"function"===typeof t?t(e):t}function Ha(e){return Ka(Va(),Sa,e)}function Ka(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=s=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(oc&d)===d:(ba&d)===d){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Ui&&(h=!0);else{if((ba&p)===p){u=u.next,p===Ui&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,s=a):c=c.next=d,wa.lanes|=p,fc|=p}d=u.action,Ca&&n(a,d),a=u.hasEagerState?u.eagerState:n(a,d)}else p={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=a):c=c.next=p,wa.lanes|=d,fc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!Qn(a,e.memoizedState)&&(Ps=!0,h&&null!==(n=ji)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Wa(e){var t=Va(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Qn(a,t.memoizedState)||(Ps=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Xa(e,t,n){var r=wa,i=Va(),a=oi;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Qn((Sa||i).memoizedState,n);if(s&&(i.memoizedState=n,Ps=!0),i=i.queue,vo(2048,8,$a.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==xa&&1&xa.memoizedState.tag){if(r.flags|=2048,mo(9,{destroy:void 0,resource:void 0},Qa.bind(null,r,i,n,t),null),null===ic)throw Error(o(349));a||0!==(124&ba)||Ya(r,t,n)}return n}function Ya(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qa(e,t,n,r){t.value=n,t.getSnapshot=r,Ja(t)&&Za(e)}function $a(e,t,n){return n(function(){Ja(t)&&Za(e)})}function Ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Za(e){var t=Rr(e,2);null!==t&&Lc(t,e,2)}function eo(e){var t=ja();if("function"===typeof e){var n=e;if(e=n(),Ca){pe(!0);try{n()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:e},t}function to(e,t,n,r){return e.baseState=n,Ka(e,Sa,"function"===typeof r?r:qa)}function no(e,t,n,r,i){if(Go(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==F.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ro(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ro(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=F.T,o={};F.T=o;try{var s=n(i,r),l=F.S;null!==l&&l(o,s),io(e,t,s)}catch(c){oo(e,t,c)}finally{F.T=a}}else try{io(e,t,a=n(i,r))}catch(u){oo(e,t,u)}}function io(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ao(e,t,n)},function(n){return oo(e,t,n)}):ao(e,t,n)}function ao(e,t,n){t.status="fulfilled",t.value=n,so(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ro(e,n)))}function oo(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,so(t),t=t.next}while(t!==r)}e.action=null}function so(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lo(e,t){return t}function co(e,t){if(oi){var n=ic.formState;if(null!==n){e:{var r=wa;if(oi){if(ai){t:{for(var i=ai,a=li;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=vh(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ai=vh(i.nextSibling),r="F!"===i.data;break e}}ui(r)}r=!1}r&&(t=n[0])}}return(n=ja()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:t},n.queue=r,n=Vo.bind(null,wa,r),r.dispatch=n,r=eo(!1),a=zo.bind(null,wa,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ja()).queue=i,n=no.bind(null,wa,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function uo(e){return ho(Va(),Sa,e)}function ho(e,t,n){if(t=Ka(e,t,lo)[0],e=Ha(qa)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Ba(t)}catch(u){if(u===Ki)throw Xi;throw u}else r=t;var i=(t=Va()).queue,a=i.dispatch;return n!==t.memoizedState&&(wa.flags|=2048,mo(9,{destroy:void 0,resource:void 0},po.bind(null,i,n),null)),[r,a,e]}function po(e,t){e.action=t}function fo(e){var t=Va(),n=Sa;if(null!==n)return ho(t,n,e);Va(),t=t.memoizedState;var r=(n=Va()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function mo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(){return Va().memoizedState}function yo(e,t,n,r){var i=ja();r=void 0===r?null:r,wa.flags|=e,i.memoizedState=mo(1|t,{destroy:void 0,resource:void 0},n,r)}function vo(e,t,n,r){var i=Va();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==Sa&&null!==r&&Na(r,Sa.memoizedState.deps)?i.memoizedState=mo(t,a,n,r):(wa.flags|=e,i.memoizedState=mo(1|t,a,n,r))}function bo(e,t){yo(8390656,8,e,t)}function wo(e,t){vo(2048,8,e,t)}function So(e,t){return vo(4,2,e,t)}function xo(e,t){return vo(4,4,e,t)}function Eo(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ko(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vo(4,4,Eo.bind(null,t,e),n)}function Co(){}function Ao(e,t){var n=Va();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function To(e,t){var n=Va();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Na(t,r[1]))return r[0];if(r=e(),Ca){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r}function Po(e,t,n){return void 0===n||0!==(1073741824&ba)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),wa.lanes|=e,fc|=e,n)}function Io(e,t,n,r){return Qn(n,t)?n:null!==fa.current?(e=Po(e,n,r),Qn(e,t)||(Ps=!0),e):0===(42&ba)?(Ps=!0,e.memoizedState=n):(e=Oc(),wa.lanes|=e,fc|=e,t)}function _o(e,t,n,r,i){var a=O.p;O.p=0!==a&&8>a?a:8;var o=F.T,s={};F.T=s,zo(e,!1,t,n);try{var l=i(),c=F.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Bo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Fc());else Bo(e,t,r,Fc())}catch(u){Bo(e,t,{then:function(){},status:"rejected",reason:u},Fc())}finally{O.p=a,F.T=o}}function No(){}function Ro(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=Do(e).queue;_o(e,i,t,L,null===n?No:function(){return Mo(e),n(r)})}function Do(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Mo(e){Bo(e,Do(e).next.queue,{},Fc())}function Fo(){return Ti(Yh)}function Oo(){return Va().memoizedState}function Lo(){return Va().memoizedState}function Uo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Fc(),r=oa(t,e=aa(n),n);return null!==r&&(Lc(r,t,n),sa(r,t,n)),t={cache:Mi()},void(e.payload=t)}t=t.return}}function jo(e,t,n){var r=Fc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Go(e)?qo(t,n):null!==(n=Nr(e,t,n,r))&&(Lc(n,e,r),Ho(n,t,r))}function Vo(e,t,n){Bo(e,t,n,Fc())}function Bo(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Go(e))qo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Qn(s,o))return _r(e,t,i,0),null===ic&&Ir(),!1}catch(l){}if(null!==(n=Nr(e,t,i,r)))return Lc(n,e,r),Ho(n,t,r),!0}return!1}function zo(e,t,n,r){if(r={lane:2,revertLane:_u(),action:r,hasEagerState:!1,eagerState:null,next:null},Go(e)){if(t)throw Error(o(479))}else null!==(t=Nr(e,n,r,2))&&Lc(t,e,2)}function Go(e){var t=e.alternate;return e===wa||null!==t&&t===wa}function qo(e,t){ka=Ea=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ho(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}var Ko={readContext:Ti,use:za,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useLayoutEffect:_a,useInsertionEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useSyncExternalStore:_a,useId:_a,useHostTransitionStatus:_a,useFormState:_a,useActionState:_a,useOptimistic:_a,useMemoCache:_a,useCacheRefresh:_a},Wo={readContext:Ti,use:za,useCallback:function(e,t){return ja().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:bo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,yo(4194308,4,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yo(4194308,4,e,t)},useInsertionEffect:function(e,t){yo(4,2,e,t)},useMemo:function(e,t){var n=ja();t=void 0===t?null:t;var r=e();if(Ca){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ja();if(void 0!==n){var i=n(t);if(Ca){pe(!0);try{n(t)}finally{pe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=jo.bind(null,wa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ja().memoizedState=e},useState:function(e){var t=(e=eo(e)).queue,n=Vo.bind(null,wa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Co,useDeferredValue:function(e,t){return Po(ja(),e,t)},useTransition:function(){var e=eo(!1);return e=_o.bind(null,wa,e.queue,!0,!1),ja().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wa,i=ja();if(oi){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===ic)throw Error(o(349));0!==(124&oc)||Ya(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,bo($a.bind(null,r,a,e),[e]),r.flags|=2048,mo(9,{destroy:void 0,resource:void 0},Qa.bind(null,r,a,n,t),null),n},useId:function(){var e=ja(),t=ic.identifierPrefix;if(oi){var n=Zr;t="\xab"+t+"R"+(n=(Jr&~(1<<32-fe(Jr)-1)).toString(32)+n),0<(n=Aa++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ia++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Fo,useFormState:co,useActionState:co,useOptimistic:function(e){var t=ja();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=zo.bind(null,wa,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ga,useCacheRefresh:function(){return ja().memoizedState=Uo.bind(null,wa)}},Xo={readContext:Ti,use:za,useCallback:Ao,useContext:Ti,useEffect:wo,useImperativeHandle:ko,useInsertionEffect:So,useLayoutEffect:xo,useMemo:To,useReducer:Ha,useRef:go,useState:function(){return Ha(qa)},useDebugValue:Co,useDeferredValue:function(e,t){return Io(Va(),Sa.memoizedState,e,t)},useTransition:function(){var e=Ha(qa)[0],t=Va().memoizedState;return["boolean"===typeof e?e:Ba(e),t]},useSyncExternalStore:Xa,useId:Oo,useHostTransitionStatus:Fo,useFormState:uo,useActionState:uo,useOptimistic:function(e,t){return to(Va(),0,e,t)},useMemoCache:Ga,useCacheRefresh:Lo},Yo={readContext:Ti,use:za,useCallback:Ao,useContext:Ti,useEffect:wo,useImperativeHandle:ko,useInsertionEffect:So,useLayoutEffect:xo,useMemo:To,useReducer:Wa,useRef:go,useState:function(){return Wa(qa)},useDebugValue:Co,useDeferredValue:function(e,t){var n=Va();return null===Sa?Po(n,e,t):Io(n,Sa.memoizedState,e,t)},useTransition:function(){var e=Wa(qa)[0],t=Va().memoizedState;return["boolean"===typeof e?e:Ba(e),t]},useSyncExternalStore:Xa,useId:Oo,useHostTransitionStatus:Fo,useFormState:fo,useActionState:fo,useOptimistic:function(e,t){var n=Va();return null!==Sa?to(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ga,useCacheRefresh:Lo},Qo=null,$o=0;function Jo(e){var t=$o;return $o+=1,null===Qo&&(Qo=[]),Ji(Qo,e,t)}function Zo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function es(e,t){if(t.$$typeof===f)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ts(e){return(0,e._init)(e._payload)}function ns(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=jr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===T&&ts(a)===t.type)?(Zo(t=i(t,n.props),n),t.return=e,t):(Zo(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=zr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Gr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return Zo(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=qr(t,e.mode,n)).return=e,t;case T:return p(e,t=(0,t._init)(t._payload),n)}if(M(t)||N(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,Jo(t),n);if(t.$$typeof===x)return p(e,Pi(e,t),n);es(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?h(e,t,n,r):null;case T:return f(e,t,n=(i=n._init)(n._payload),r)}if(M(n)||N(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Jo(n),r);if(n.$$typeof===x)return f(e,t,Pi(e,n),r);es(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(M(r)||N(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return v(e,t,n,Jo(r),i);if(r.$$typeof===x)return v(e,t,n,Pi(t,r),i);es(t,r)}return null}function b(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var d=u.key;null!==c;){if(c.key===d){if((d=u.type)===y){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===d||"object"===typeof d&&null!==d&&d.$$typeof===T&&ts(d)===c.type){n(l,c.sibling),Zo(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((h=zr(u.props.children,l.mode,h,u.key)).return=l,l=h):(Zo(h=Br(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return s(l);case g:e:{for(d=u.key;null!==c;){if(c.key===d){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=qr(u,l.mode,h)).return=l,l=h}return s(l);case T:return b(l,c,u=(d=u._init)(u._payload),h)}if(M(u))return function(i,o,s,l){for(var c=null,u=null,h=o,d=o=0,m=null;null!==h&&d<s.length;d++){h.index>d?(m=h,h=null):m=h.sibling;var g=f(i,h,s[d],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),o=a(g,o,d),null===u?c=g:u.sibling=g,u=g,h=m}if(d===s.length)return n(i,h),oi&&ei(i,d),c;if(null===h){for(;d<s.length;d++)null!==(h=p(i,s[d],l))&&(o=a(h,o,d),null===u?c=h:u.sibling=h,u=h);return oi&&ei(i,d),c}for(h=r(h);d<s.length;d++)null!==(m=v(h,i,d,s[d],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?d:m.key),o=a(m,o,d),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach(function(e){return t(i,e)}),oi&&ei(i,d),c}(l,c,u,h);if(N(u)){if("function"!==typeof(d=N(u)))throw Error(o(150));return function(i,s,l,c){if(null==l)throw Error(o(151));for(var u=null,h=null,d=s,m=s=0,g=null,y=l.next();null!==d&&!y.done;m++,y=l.next()){d.index>m?(g=d,d=null):g=d.sibling;var b=f(i,d,y.value,c);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&t(i,d),s=a(b,s,m),null===h?u=b:h.sibling=b,h=b,d=g}if(y.done)return n(i,d),oi&&ei(i,m),u;if(null===d){for(;!y.done;m++,y=l.next())null!==(y=p(i,y.value,c))&&(s=a(y,s,m),null===h?u=y:h.sibling=y,h=y);return oi&&ei(i,m),u}for(d=r(d);!y.done;m++,y=l.next())null!==(y=v(d,i,m,y.value,c))&&(e&&null!==y.alternate&&d.delete(null===y.key?m:y.key),s=a(y,s,m),null===h?u=y:h.sibling=y,h=y);return e&&d.forEach(function(e){return t(i,e)}),oi&&ei(i,m),u}(l,c,u=d.call(u),h)}if("function"===typeof u.then)return b(l,c,Jo(u),h);if(u.$$typeof===x)return b(l,c,Pi(l,u),h);es(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=Gr(u,l.mode,h)).return=l,l=h),s(l)):n(l,c)}return function(e,t,n,r){try{$o=0;var i=b(e,t,n,r);return Qo=null,i}catch(u){if(u===Ki||u===Xi)throw u;var a=Lr(29,u,null,e.mode);return a.lanes=r,a.return=e,a}}}var rs=ns(!0),is=ns(!1),as=V(null),os=null;function ss(e){var t=e.alternate;z(hs,1&hs.current),z(as,e),null===os&&(null===t||null!==fa.current||null!==t.memoizedState)&&(os=e)}function ls(e){if(22===e.tag){if(z(hs,hs.current),z(as,e),null===os){var t=e.alternate;null!==t&&null!==t.memoizedState&&(os=e)}}else cs()}function cs(){z(hs,hs.current),z(as,as.current)}function us(e){B(as),os===e&&(os=null),B(hs)}var hs=V(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yh(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ps(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fc(),i=aa(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oa(e,i,r))&&(Lc(t,e,r),sa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fc(),i=aa(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oa(e,i,r))&&(Lc(t,e,r),sa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fc(),r=aa(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oa(e,r,n))&&(Lc(t,e,n),sa(t,e,n))}};function ms(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(i,a))}function gs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function ys(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=p({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var vs="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function bs(e){vs(e)}function ws(e){console.error(e)}function Ss(e){vs(e)}function xs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Es(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ks(e,t,n){return(n=aa(n)).tag=3,n.payload={element:null},n.callback=function(){xs(e,t)},n}function Cs(e){return(e=aa(e)).tag=3,e}function As(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Es(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Es(t,n,r),"function"!==typeof i&&(null===Cc?Cc=new Set([this]):Cc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ts=Error(o(461)),Ps=!1;function Is(e,t,n,r){t.child=null===e?is(t,null,n,r):rs(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Ai(t),r=Ra(e,t,n,o,a,i),s=Oa(),null===e||Ps?(oi&&s&&ni(t),t.flags|=1,Is(e,t,r,i),t.child):(La(e,t,i),Qs(e,t,i))}function Ns(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ur(a)||void 0!==a.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Rs(e,t,a,r,i))}if(a=e.child,!$s(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(o,r)&&e.ref===t.ref)return Qs(e,t,i)}return t.flags|=1,(e=jr(a,r)).ref=t.ref,e.return=t,t.child=e}function Rs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if($n(a,r)&&e.ref===t.ref){if(Ps=!1,t.pendingProps=r=a,!$s(e,i))return t.lanes=e.lanes,Qs(e,t,i);0!==(131072&e.flags)&&(Ps=!0)}}return Os(e,t,n,r,i)}function Ds(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Ms(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ms(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qi(0,null!==a?a.cachePool:null),null!==a?ga(t,a):ya(),ls(t)}else null!==a?(qi(0,a.cachePool),ga(t,a),cs(),t.memoizedState=null):(null!==e&&qi(0,null),ya(),cs());return Is(e,t,i,n),t.child}function Ms(e,t,n,r){var i=Gi();return i=null===i?null:{parent:Di._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&qi(0,null),ya(),ls(t),null!==e&&ki(e,t,r,!0),null}function Fs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Os(e,t,n,r,i){return Ai(t),n=Ra(e,t,n,r,void 0,i),r=Oa(),null===e||Ps?(oi&&r&&ni(t),t.flags|=1,Is(e,t,n,i),t.child):(La(e,t,i),Qs(e,t,i))}function Ls(e,t,n,r,i,a){return Ai(t),t.updateQueue=null,n=Ma(t,r,n,i),Da(e),r=Oa(),null===e||Ps?(oi&&r&&ni(t),t.flags|=1,Is(e,t,n,a),t.child):(La(e,t,a),Qs(e,t,a))}function Us(e,t,n,r,i){if(Ai(t),null===t.stateNode){var a=Fr,o=n.contextType;"object"===typeof o&&null!==o&&(a=Ti(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=fs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},ra(t),o=n.contextType,a.context="object"===typeof o&&null!==o?Ti(o):Fr,a.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(ps(t,n,o,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&fs.enqueueReplaceState(a,a.state,null),ha(t,r,a,i),ua(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=ys(n,s);a.props=l;var c=a.context,u=n.contextType;o=Fr,"object"===typeof u&&null!==u&&(o=Ti(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==o)&&gs(t,a,r,o),na=!1;var d=t.memoizedState;a.state=d,ha(t,r,a,i),ua(),c=t.memoizedState,s||d!==c||na?("function"===typeof h&&(ps(t,n,h,r),c=t.memoizedState),(l=na||ms(t,n,l,r,d,c,o))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=o,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ia(e,t),u=ys(n,o=t.memoizedProps),a.props=u,h=t.pendingProps,d=a.context,c=n.contextType,l=Fr,"object"===typeof c&&null!==c&&(l=Ti(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&gs(t,a,r,l),na=!1,d=t.memoizedState,a.state=d,ha(t,r,a,i),ua();var p=t.memoizedState;o!==h||d!==p||na||null!==e&&null!==e.dependencies&&Ci(e.dependencies)?("function"===typeof s&&(ps(t,n,s,r),p=t.memoizedState),(u=na||ms(t,n,u,r,d,p,l)||null!==e&&null!==e.dependencies&&Ci(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Fs(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=rs(t,e.child,null,i),t.child=rs(t,null,n,i)):Is(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Qs(e,t,i),e}function js(e,t,n,r){return fi(),t.flags|=256,Is(e,t,n,r),t.child}var Vs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bs(e){return{baseLanes:e,cachePool:Hi()}}function zs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function Gs(e,t,n){var r,i=t.pendingProps,a=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&hs.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(oi){if(a?ss(t):cs(),oi){var l,c=ai;if(l=c){e:{for(l=c,c=li;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==$r?{id:Jr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ii=t,ai=null,l=!0):l=!1}l||ui(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yh(c)?t.lanes=32:t.lanes=536870912,null;us(t)}return c=i.children,i=i.fallback,a?(cs(),c=Hs({mode:"hidden",children:c},a=t.mode),i=zr(i,a,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(a=t.child).memoizedState=Bs(n),a.childLanes=zs(e,r,n),t.memoizedState=Vs,i):(ss(t),qs(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(ss(t),t.flags&=-257,t=Ks(e,t,n)):null!==t.memoizedState?(cs(),t.child=e.child,t.flags|=128,t=null):(cs(),a=i.fallback,c=t.mode,i=Hs({mode:"visible",children:i.children},c),(a=zr(a,c,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,rs(t,e.child,null,n),(i=t.child).memoizedState=Bs(n),i.childLanes=zs(e,r,n),t.memoizedState=Vs,t=a);else if(ss(t),yh(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,gi({value:i,source:null,stack:null}),t=Ks(e,t,n)}else if(Ps||ki(e,t,n,!1),r=0!==(n&e.childLanes),Ps||r){if(null!==(r=ic)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ie(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Rr(e,i),Lc(r,e,i),Ts;"$?"===c.data||Xc(),t=Ks(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ai=vh(c.nextSibling),ii=t,oi=!0,si=null,li=!1,null!==e&&(Yr[Qr++]=Jr,Yr[Qr++]=Zr,Yr[Qr++]=$r,Jr=e.id,Zr=e.overflow,$r=t),(t=qs(t,i.children)).flags|=4096);return t}return a?(cs(),a=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=jr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=jr(u,a):(a=zr(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(c=e.child.memoizedState)?c=Bs(n):(null!==(l=c.cachePool)?(u=Di._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Hi(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=zs(e,r,n),t.memoizedState=Vs,i):(ss(t),e=(n=e.child).sibling,(n=jr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function qs(e,t){return(t=Hs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Hs(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ks(e,t,n){return rs(t,e.child,null,n),(e=qs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ws(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xi(e.return,t,n)}function Xs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ys(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Is(e,t,r.children,n),0!==(2&(r=hs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ws(e,n,t);else if(19===e.tag)Ws(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(hs,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ds(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xs(t,!0,n,null,a);break;case"together":Xs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ki(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=jr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $s(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ci(e))}function Js(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ps=!0;else{if(!$s(e,n)&&0===(128&t.flags))return Ps=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),wi(0,Di,e.memoizedState.cache),fi();break;case 27:case 5:Y(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:wi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ss(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Gs(e,t,n):(ss(t),null!==(e=Qs(e,t,n))?e.sibling:null);ss(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ki(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Ys(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(hs,hs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ds(e,t,n);case 24:wi(0,Di,e.memoizedState.cache)}return Qs(e,t,n)}(e,t,n);Ps=0!==(131072&e.flags)}else Ps=!1,oi&&0!==(1048576&t.flags)&&ti(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===E){t.tag=11,t=_s(null,t,r,e,n);break e}if(i===A){t.tag=14,t=Ns(null,t,r,e,n);break e}}throw t=D(r)||r,Error(o(306,t,""))}Ur(r)?(e=ys(r,e),t.tag=1,t=Us(null,t,r,e,n)):(t.tag=0,t=Os(null,t,r,e,n))}return t;case 0:return Os(e,t,t.type,t.pendingProps,n);case 1:return Us(e,t,r=t.type,i=ys(r,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ia(e,t),ha(t,r,null,n);var s=t.memoizedState;if(r=s.cache,wi(0,Di,r),r!==a.cache&&Ei(t,[Di],n,!0),ua(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=js(e,t,r,n);break e}if(r!==i){gi(i=Cr(Error(o(424)),t)),t=js(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ai=vh(e.firstChild),ii=t,oi=!0,si=null,li=!0,n=is(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Qs(e,t,n);break e}Is(e,t,r,n)}t=t.child}return t;case 26:return Fs(e,t),null===e?(n=Ih(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=ih(H.current).createElement(n))[De]=t,r[Me]=e,th(r,n,e),Ke(r),t.stateNode=r):t.memoizedState=Ih(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&oi&&(r=t.stateNode=Sh(t.type,t.pendingProps,H.current),ii=t,li=!0,i=ai,fh(t.type)?(bh=i,ai=vh(r.firstChild)):ai=i),Is(e,t,t.pendingProps.children,n),Fs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((i=r=ai)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ve])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=vh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,li))?(t.stateNode=r,ii=t,ai=vh(r.firstChild),li=!1,i=!0):i=!1),i||ui(t)),Y(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,sh(i,a)?r=null:null!==s&&sh(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=Ra(e,t,Fa,null,null,n),Yh._currentValue=i),Fs(e,t),Is(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=ai)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vh(e.nextSibling)))return null}return e}(n,t.pendingProps,li))?(t.stateNode=n,ii=t,ai=null,e=!0):e=!1),e||ui(t)),null;case 13:return Gs(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=rs(t,null,r,n):Is(e,t,r,n),t.child;case 11:return _s(e,t,t.type,t.pendingProps,n);case 7:return Is(e,t,t.pendingProps,n),t.child;case 8:case 12:return Is(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,wi(0,t.type,r.value),Is(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ai(t),r=r(i=Ti(i)),t.flags|=1,Is(e,t,r,n),t.child;case 14:return Ns(e,t,t.type,t.pendingProps,n);case 15:return Rs(e,t,t.type,t.pendingProps,n);case 19:return Ys(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Hs(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=jr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ds(e,t,n);case 24:return Ai(t),r=Ti(Di),null===e?(null===(i=Gi())&&(i=ic,a=Mi(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},ra(t),wi(0,Di,i)):(0!==(e.lanes&n)&&(ia(e,t),ha(t,null,null,n),ua()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),wi(0,Di,r)):(r=a.cache,wi(0,Di,r),r!==i.cache&&Ei(t,[Di],n,!0))),Is(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Zs(e){e.flags|=4}function el(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!zh(t)){if(null!==(t=as.current)&&((4194048&oc)===oc?null!==os:(62914560&oc)!==oc&&0===(536870912&oc)||t!==os))throw Zi=Yi,Wi;e.flags|=8192}}function tl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,vc|=t)}function nl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function il(e,t,n){var r=t.pendingProps;switch(ri(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Si(Di),X(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(pi(t)?Zs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,mi())),rl(t),null;case 26:return n=t.memoizedState,null===e?(Zs(t),null!==n?(rl(t),el(t,n)):(rl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zs(t),rl(t),el(t,n)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zs(t),rl(t),t.flags&=-16777217),null;case 27:Q(t),n=H.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return rl(t),null}e=G.current,pi(t)?hi(t):(e=Sh(i,r,n),t.stateNode=e,Zs(t))}return rl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return rl(t),null}if(e=G.current,pi(t))hi(t);else{switch(i=ih(H.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[De]=t,e[Me]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(th(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zs(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=H.current,pi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ii))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[De]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||$u(e.nodeValue,n)))||ui(t)}else(e=ih(e).createTextNode(r))[De]=t,t.stateNode=e}return rl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=pi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[De]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),i=!1}else i=mi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(us(t),t):(us(t),null)}if(us(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),tl(t,t.updateQueue),rl(t),null;case 4:return X(),null===e&&Bu(t.stateNode.containerInfo),rl(t),null;case 10:return Si(t.type),rl(t),null;case 19:if(B(hs),null===(i=t.memoizedState))return rl(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)nl(i,!1);else{if(0!==pc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ds(e))){for(t.flags|=128,nl(i,!1),e=a.updateQueue,t.updateQueue=e,tl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vr(n,e),n=n.sibling;return z(hs,1&hs.current|2),t.child}e=e.sibling}null!==i.tail&&ne()>Ec&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ds(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,tl(t,e),nl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!oi)return rl(t),null}else 2*ne()-i.renderingStartTime>Ec&&536870912!==n&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ne(),t.sibling=null,e=hs.current,z(hs,r?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return us(t),va(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(n=t.updateQueue)&&tl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(zi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Si(Di),rl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function al(e,t){switch(ri(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Si(Di),X(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(us(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(hs),null;case 4:return X(),null;case 10:return Si(t.type),null;case 22:case 23:return us(t),va(),null!==e&&B(zi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Si(Di),null;default:return null}}function ol(e,t){switch(ri(t),t.tag){case 3:Si(Di),X();break;case 26:case 27:case 5:Q(t);break;case 4:X();break;case 13:us(t);break;case 19:B(hs);break;case 10:Si(t.type);break;case 22:case 23:us(t),va(),null!==e&&B(zi);break;case 24:Si(Di)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){hu(t,t.return,s)}}function ll(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){hu(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){hu(t,t.return,u)}}function cl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{pa(t,n)}catch(r){hu(e,e.return,r)}}}function ul(e,t,n){n.props=ys(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hu(e,t,r)}}function hl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){hu(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){hu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){hu(e,t,a)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){hu(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,c=null,u=null,h=null;for(f in n){var d=n[f];if(n.hasOwnProperty(f)&&null!=d)switch(f){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(f)||Zu(e,t,f,null,r,d)}}for(var p in r){var f=r[p];if(d=n[p],r.hasOwnProperty(p)&&(null!=f||null!=d))switch(p){case"type":a=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":h=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:f!==d&&Zu(e,t,p,f,r,d)}}return void yt(e,s,l,c,u,h,a,i);case"select":for(a in f=s=l=p=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(a)||Zu(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":p=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&Zu(e,t,i,a,r,c)}return t=l,n=s,r=f,void(null!=p?wt(e,!!n,p,!1):!!r!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zu(e,t,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==a&&Zu(e,t,s,i,r,a)}return void St(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zu(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Zu(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Zu(e,t,g,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:Zu(e,t,u,p,r,f)}return;default:if(Tt(t)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!r.hasOwnProperty(y)&&eh(e,t,y,void 0,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||void 0===p&&void 0===f||eh(e,t,h,p,r,f);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!r.hasOwnProperty(v)&&Zu(e,t,v,null,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||null==p&&null==f||Zu(e,t,d,p,r,f)}(r,e.type,n,t),r[Me]=t}catch(i){hu(e,e.return,i)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fh(e.type)||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);th(t,r,n),t[De]=e,t[Me]=n}catch(a){hu(e,e.return,a)}}var wl=!1,Sl=!1,xl=!1,El="function"===typeof WeakSet?WeakSet:Set,kl=null;function Cl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ul(e,n),4&r&&sl(5,n);break;case 1:if(Ul(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){hu(n,n.return,o)}else{var i=ys(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){hu(n,n.return,s)}}64&r&&cl(n),512&r&&hl(n,n.return);break;case 3:if(Ul(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{pa(e,t)}catch(o){hu(n,n.return,o)}}break;case 27:null===t&&4&r&&bl(n);case 26:case 5:Ul(e,n),null===t&&4&r&&pl(n),512&r&&hl(n,n.return);break;case 12:Ul(e,n);break;case 13:Ul(e,n),4&r&&Nl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=mu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||wl)){t=null!==t&&null!==t.memoizedState||Sl,i=wl;var a=Sl;wl=r,(Sl=t)&&!a?Vl(e,n,0!==(8772&n.subtreeFlags)):Ul(e,n),wl=i,Sl=a}break;case 30:break;default:Ul(e,n)}}function Al(e){var t=e.alternate;null!==t&&(e.alternate=null,Al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,Pl=!1;function Il(e,t,n){for(n=n.child;null!==n;)_l(e,t,n),n=n.sibling}function _l(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(he,n)}catch(a){}switch(n.tag){case 26:Sl||dl(n,t),Il(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Sl||dl(n,t);var r=Tl,i=Pl;fh(n.type)&&(Tl=n.stateNode,Pl=!1),Il(e,t,n),xh(n.stateNode),Tl=r,Pl=i;break;case 5:Sl||dl(n,t);case 6:if(r=Tl,i=Pl,Tl=null,Il(e,t,n),Pl=i,null!==(Tl=r))if(Pl)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(o){hu(n,t,o)}else try{Tl.removeChild(n.stateNode)}catch(o){hu(n,t,o)}break;case 18:null!==Tl&&(Pl?(mh(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Pd(e)):mh(Tl,n.stateNode));break;case 4:r=Tl,i=Pl,Tl=n.stateNode.containerInfo,Pl=!0,Il(e,t,n),Tl=r,Pl=i;break;case 0:case 11:case 14:case 15:Sl||ll(2,n,t),Sl||ll(4,n,t),Il(e,t,n);break;case 1:Sl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&ul(n,t,r)),Il(e,t,n);break;case 21:Il(e,t,n);break;case 22:Sl=(r=Sl)||null!==n.memoizedState,Il(e,t,n),Sl=r;break;default:Il(e,t,n)}}function Nl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Pd(e)}catch(n){hu(t,t.return,n)}}function Rl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new El),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new El),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Dl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(fh(l.type)){Tl=l.stateNode,Pl=!1;break e}break;case 5:Tl=l.stateNode,Pl=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,Pl=!0;break e}l=l.return}if(null===Tl)throw Error(o(160));_l(a,s,i),Tl=null,Pl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Fl(t,e),t=t.sibling}var Ml=null;function Fl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dl(t,e),Ol(e),4&r&&(ll(3,e,e.return),sl(3,e),ll(5,e,e.return));break;case 1:Dl(t,e),Ol(e),512&r&&(Sl||null===n||dl(n,n.return)),64&r&&wl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Ml;if(Dl(t,e),Ol(e),512&r&&(Sl||null===n||dl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Ve]||a[De]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),th(a,r,n),a[De]=e,Ke(a),r=a;break e;case"link":var s=Vh("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}th(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(s=Vh("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}th(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(o(468,r))}a[De]=e,Ke(a),r=a}e.stateNode=r}else Bh(i,e.type,e.stateNode);else e.stateNode=Fh(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Bh(i,e.type,e.stateNode):Fh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Dl(t,e),Ol(e),512&r&&(Sl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Dl(t,e),Ol(e),512&r&&(Sl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{Et(i,"")}catch(f){hu(e,e.return,f)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(xl=!0);break;case 6:if(Dl(t,e),Ol(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){hu(e,e.return,f)}}break;case 3:if(jh=null,i=Ml,Ml=Ch(t.containerInfo),Dl(t,e),Ml=i,Ol(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Pd(t.containerInfo)}catch(f){hu(e,e.return,f)}xl&&(xl=!1,Ll(e));break;case 4:r=Ml,Ml=Ch(e.stateNode.containerInfo),Dl(t,e),Ol(e),Ml=r;break;case 12:default:Dl(t,e),Ol(e);break;case 13:Dl(t,e),Ol(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=ne()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Rl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=wl,h=Sl;if(wl=u||i,Sl=h||c,Dl(t,e),Sl=h,wl=u,Ol(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||wl||Sl||jl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,p=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){hu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(f){hu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Rl(e,n))));break;case 19:Dl(t,e),Ol(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Rl(e,r)));case 30:case 21:}}function Ol(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ml(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,gl(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(Et(a,""),n.flags&=-33),vl(e,gl(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;yl(e,gl(e),s);break;default:throw Error(o(161))}}catch(l){hu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ul(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Cl(e,t.alternate,t),t=t.sibling}function jl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ll(4,t,t.return),jl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),jl(t);break;case 27:xh(t.stateNode);case 26:case 5:dl(t,t.return),jl(t);break;case 22:null===t.memoizedState&&jl(t);break;default:jl(t)}e=e.sibling}}function Vl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Vl(i,a,n),sl(4,a);break;case 1:if(Vl(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){hu(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)da(l[i],s)}catch(c){hu(r,r.return,c)}}n&&64&o&&cl(a),hl(a,a.return);break;case 27:bl(a);case 26:case 5:Vl(i,a,n),n&&null===r&&4&o&&pl(a),hl(a,a.return);break;case 12:Vl(i,a,n);break;case 13:Vl(i,a,n),n&&4&o&&Nl(i,a);break;case 22:null===a.memoizedState&&Vl(i,a,n),hl(a,a.return);break;case 30:break;default:Vl(i,a,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Fi(n))}function zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fi(e))}function Gl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Gl(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:Gl(e,t,n,r);break;case 3:Gl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fi(e)));break;case 12:if(2048&i){Gl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){hu(t,t.return,l)}}else Gl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?Gl(e,t,n,r):Kl(e,t):2&a._visibility?Gl(e,t,n,r):(a._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Bl(o,t);break;case 24:Gl(e,t,n,r),2048&i&&zl(t.alternate,t)}}function Hl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Hl(a,o,s,l,i),sl(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Hl(a,o,s,l,i):Kl(a,o):(u._visibility|=2,Hl(a,o,s,l,i)),i&&2048&c&&Bl(o.alternate,o);break;case 24:Hl(a,o,s,l,i),i&&2048&c&&zl(o.alternate,o);break;default:Hl(a,o,s,l,i)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Kl(n,r),2048&i&&Bl(r.alternate,r);break;case 24:Kl(n,r),2048&i&&zl(r.alternate,r);break;default:Kl(n,r)}t=t.sibling}}var Wl=8192;function Xl(e){if(e.subtreeFlags&Wl)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Xl(e),e.flags&Wl&&null!==e.memoizedState&&function(e,t,n){if(null===Gh)throw Error(o(475));var r=Gh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=_h(n.href),a=e.querySelector(Nh(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void Ke(a);a=e.ownerDocument||e,n=Rh(n),(i=Eh.get(i))&&Lh(n,i),Ke(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),th(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ml,e.memoizedState,e.memoizedProps);break;case 5:default:Xl(e);break;case 3:case 4:var t=Ml;Ml=Ch(e.stateNode.containerInfo),Xl(e),Ml=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Wl,Wl=16777216,Xl(e),Wl=t):Xl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,ec(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:$l(e),2048&e.flags&&ll(9,e,e.return);break;case 3:case 12:default:$l(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):$l(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,ec(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ll(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function ec(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:ll(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Fi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var i=(r=kl).sibling,a=r.return;if(Al(r),r===n){kl=null;break e}if(null!==i){i.return=a,kl=i;break e}kl=a}}}var tc={getCacheForType:function(e){var t=Ti(Di),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},nc="function"===typeof WeakMap?WeakMap:Map,rc=0,ic=null,ac=null,oc=0,sc=0,lc=null,cc=!1,uc=!1,hc=!1,dc=0,pc=0,fc=0,mc=0,gc=0,yc=0,vc=0,bc=null,wc=null,Sc=!1,xc=0,Ec=1/0,kc=null,Cc=null,Ac=0,Tc=null,Pc=null,Ic=0,_c=0,Nc=null,Rc=null,Dc=0,Mc=null;function Fc(){if(0!==(2&rc)&&0!==oc)return oc&-oc;if(null!==F.T){return 0!==Ui?Ui:_u()}return Ne()}function Oc(){0===yc&&(yc=0===(536870912&oc)||oi?Ee():536870912);var e=as.current;return null!==e&&(e.flags|=32),yc}function Lc(e,t,n){(e!==ic||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(qc(e,0),Bc(e,oc,yc,!1)),Ae(e,n),0!==(2&rc)&&e===ic||(e===ic&&(0===(2&rc)&&(mc|=n),4===pc&&Bc(e,oc,yc,!1)),Eu(e))}function Uc(e,t,n){if(0!==(6&rc))throw Error(o(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||Se(e,t),i=r?function(e,t){var n=rc;rc|=2;var r=Kc(),i=Wc();ic!==e||oc!==t?(kc=null,Ec=ne()+500,qc(e,t)):uc=Se(e,t);e:for(;;)try{if(0!==sc&&null!==ac){t=ac;var a=lc;t:switch(sc){case 1:sc=0,lc=null,eu(e,t,a,1);break;case 2:case 9:if(Qi(a)){sc=0,lc=null,Zc(t);break}t=function(){2!==sc&&9!==sc||ic!==e||(sc=7),Eu(e)},a.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Qi(a)?(sc=0,lc=null,Zc(t)):(sc=0,lc=null,eu(e,t,a,7));break;case 5:var s=null;switch(ac.tag){case 26:s=ac.memoizedState;case 5:case 27:var l=ac;if(!s||zh(s)){sc=0,lc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,tu(u)):ac=null}break t}}sc=0,lc=null,eu(e,t,a,5);break;case 6:sc=0,lc=null,eu(e,t,a,6);break;case 8:Gc(),pc=6;break e;default:throw Error(o(462))}}$c();break}catch(h){Hc(e,h)}return bi=vi=null,F.H=r,F.A=i,rc=n,null!==ac?0:(ic=null,oc=0,Ir(),pc)}(e,t):Yc(e,t,!0),a=r;;){if(0===i){uc&&!r&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!a||Vc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=bc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,s).flags|=256),2!==(s=Yc(l,s,!1))){if(hc&&!c){l.errorRecoveryDisabledLanes|=a,mc|=a,i=4;break e}a=wc,wc=i,null!==a&&(null===wc?wc=a:wc.push.apply(wc,a))}i=s}if(a=!1,2!==i)continue}}if(1===i){qc(e,0),Bc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Bc(r,t,yc,!cc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=xc+300-ne())){if(Bc(r,t,yc,!cc),0!==we(r,0,!0))break e;r.timeoutHandle=ch(jc.bind(null,r,n,wc,kc,Sc,t,yc,mc,vc,cc,a,2,-0,0),i)}else jc(r,n,wc,kc,Sc,t,yc,mc,vc,cc,a,0,-0,0)}break}i=Yc(e,t,!1),a=!1}Eu(e)}function jc(e,t,n,r,i,a,s,l,c,u,h,d,p,f){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||16785408===(16785408&d))&&(Gh={stylesheets:null,count:0,unsuspend:qh},Yl(t),null!==(d=function(){if(null===Gh)throw Error(o(475));var e=Gh;return e.stylesheets&&0===e.count&&Wh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Wh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(ru.bind(null,e,t,a,n,r,i,s,l,c,h,1,p,f)),void Bc(e,a,s,!u);ru(e,t,a,n,r,i,s,l,c)}function Vc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Qn(a(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,r){t&=~gc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-fe(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&Te(e,n,t)}function zc(){return 0!==(6&rc)||(ku(0,!1),!1)}function Gc(){if(null!==ac){if(0===sc)var e=ac.return;else bi=vi=null,Ua(e=ac),Qo=null,$o=0,e=ac;for(;null!==e;)ol(e.alternate,e),e=e.return;ac=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,uh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Gc(),ic=e,ac=n=jr(e.current,null),oc=t,sc=0,lc=null,cc=!1,uc=Se(e,t),hc=!1,vc=yc=gc=mc=fc=pc=0,wc=bc=null,Sc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),a=1<<i;t|=e[i],r&=~a}return dc=t,Ir(),n}function Hc(e,t){wa=null,F.H=Ko,t===Ki||t===Xi?(t=ea(),sc=3):t===Wi?(t=ea(),sc=4):sc=t===Ts?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lc=t,null===ac&&(pc=1,xs(e,Cr(t,e.current)))}function Kc(){var e=F.H;return F.H=Ko,null===e?Ko:e}function Wc(){var e=F.A;return F.A=tc,e}function Xc(){pc=4,cc||(4194048&oc)!==oc&&null!==as.current||(uc=!0),0===(134217727&fc)&&0===(134217727&mc)||null===ic||Bc(ic,oc,yc,!1)}function Yc(e,t,n){var r=rc;rc|=2;var i=Kc(),a=Wc();ic===e&&oc===t||(kc=null,qc(e,t)),t=!1;var o=pc;e:for(;;)try{if(0!==sc&&null!==ac){var s=ac,l=lc;switch(sc){case 8:Gc(),o=6;break e;case 3:case 2:case 9:case 6:null===as.current&&(t=!0);var c=sc;if(sc=0,lc=null,eu(e,s,l,c),n&&uc){o=0;break e}break;default:c=sc,sc=0,lc=null,eu(e,s,l,c)}}Qc(),o=pc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,bi=vi=null,rc=r,F.H=i,F.A=a,null===ac&&(ic=null,oc=0,Ir()),o}function Qc(){for(;null!==ac;)Jc(ac)}function $c(){for(;null!==ac&&!ee();)Jc(ac)}function Jc(e){var t=Js(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?tu(e):ac=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ls(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Ls(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:Ua(t);default:ol(n,t),t=Js(n,t=ac=Vr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?tu(e):ac=t}function eu(e,t,n,r){bi=vi=null,Ua(t),Qo=null,$o=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ki(t,n,i,!0),null!==(n=as.current)){switch(n.tag){case 13:return null===os?Xc():null===n.alternate&&0===pc&&(pc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(o(435,n.tag))}return du(e,r,i),Xc(),!1}if(oi)return null!==(t=as.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==ci&&gi(Cr(e=Error(o(422),{cause:r}),n))):(r!==ci&&gi(Cr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Cr(r,n),la(e,i=ks(e.stateNode,r,i)),4!==pc&&(pc=2)),!1;var a=Error(o(520),{cause:r});if(a=Cr(a,n),null===bc?bc=[a]:bc.push(a),4!==pc&&(pc=2),null===t)return!0;r=Cr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,la(n,e=ks(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Cc||!Cc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,As(i=Cs(i),e,n,r),la(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,oc))return pc=1,xs(e,Cr(n,e.current)),void(ac=null)}catch(a){if(null!==i)throw ac=i,a;return pc=1,xs(e,Cr(n,e.current)),void(ac=null)}32768&t.flags?(oi||1===r?e=!0:uc||0!==(536870912&oc)?e=!1:(cc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=as.current)&&13===r.tag&&(r.flags|=16384))),nu(t,e)):tu(t)}function tu(e){var t=e;do{if(0!==(32768&t.flags))return void nu(t,cc);e=t.return;var n=il(t.alternate,t,dc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===pc&&(pc=5)}function nu(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);pc=6,ac=null}function ru(e,t,n,r,i,a,s,l,c){e.cancelPendingCommit=null;do{lu()}while(0!==Ac);if(0!==(6&rc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-fe(n),h=1<<u;s[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var p=d[u];null!==p&&(p.lane&=-536870913)}n&=~h}0!==r&&Te(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=Pr,s,l,c),e===ic&&(ac=ic=null,oc=0),Pc=t,Tc=e,Ic=n,_c=a,Nc=i,Rc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,J(oe,function(){return cu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=F.T,F.T=null,i=O.p,O.p=2,s=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,nh=rd,nr(e=tr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===i&&(l=s),p===a&&++h===r&&(c=s),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rh={focusedElem:e,selectionRange:n},rd=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(a=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=ys(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){hu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{rc=s,O.p=i,F.T=r}}Ac=1,iu(),au(),ou()}}function iu(){if(1===Ac){Ac=0;var e=Tc,t=Pc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=F.T,F.T=null;var r=O.p;O.p=2;var i=rc;rc|=4;try{Fl(t,e);var a=rh,o=tr(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&er(s.ownerDocument.documentElement,s)){if(null!==l&&nr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var h=s.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var p=d.getSelection(),f=s.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(o=g,g=m,m=o);var y=Zn(s,m),v=Zn(s,g);if(y&&v&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),p.removeAllRanges(),m>g?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(h=[],p=s;p=p.parentNode;)1===p.nodeType&&h.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<h.length;s++){var w=h[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}rd=!!nh,rh=nh=null}finally{rc=i,O.p=r,F.T=n}}e.current=t,Ac=2}}function au(){if(2===Ac){Ac=0;var e=Tc,t=Pc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=F.T,F.T=null;var r=O.p;O.p=2;var i=rc;rc|=4;try{Cl(e,t.alternate,t)}finally{rc=i,O.p=r,F.T=n}}Ac=3}}function ou(){if(4===Ac||3===Ac){Ac=0,te();var e=Tc,t=Pc,n=Ic,r=Rc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ac=5:(Ac=0,Pc=Tc=null,su(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Cc=null),_e(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(he,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=F.T,i=O.p,O.p=2,F.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{F.T=t,O.p=i}}0!==(3&Ic)&&lu(),Eu(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Mc?Dc++:(Dc=0,Mc=e):Dc=0,ku(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Fi(t)))}function lu(e){return iu(),au(),ou(),cu()}function cu(){if(5!==Ac)return!1;var e=Tc,t=_c;_c=0;var n=_e(Ic),r=F.T,i=O.p;try{O.p=32>n?32:n,F.T=null,n=Nc,Nc=null;var a=Tc,s=Ic;if(Ac=0,Pc=Tc=null,Ic=0,0!==(6&rc))throw Error(o(331));var l=rc;if(rc|=4,Jl(a.current),ql(a,a.current,s,n),rc=l,ku(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(he,a)}catch(c){}return!0}finally{O.p=i,F.T=r,su(e,t)}}function uu(e,t,n){t=Cr(n,t),null!==(e=oa(e,t=ks(e.stateNode,t,2),2))&&(Ae(e,2),Eu(e))}function hu(e,t,n){if(3===e.tag)uu(e,e,n);else for(;null!==t;){if(3===t.tag){uu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Cc||!Cc.has(r))){e=Cr(n,e),null!==(r=oa(t,n=Cs(2),2))&&(As(n,r,t,e),Ae(r,2),Eu(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(hc=!0,i.add(n),e=pu.bind(null,e,t,n),t.then(e,e))}function pu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(oc&n)===n&&(4===pc||3===pc&&(62914560&oc)===oc&&300>ne()-xc?0===(2&rc)&&qc(e,0):gc|=n,vc===oc&&(vc=0)),Eu(e)}function fu(e,t){0===t&&(t=ke()),null!==(e=Rr(e,t))&&(Ae(e,t),Eu(e))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),fu(e,n)}var yu=null,vu=null,bu=!1,wu=!1,Su=!1,xu=0;function Eu(e){e!==vu&&null===e.next&&(null===vu?yu=vu=e:vu=vu.next=e),wu=!0,bu||(bu=!0,dh(function(){0!==(6&rc)?J(ie,Cu):Au()}))}function ku(e,t){if(!Su&&wu){Su=!0;do{for(var n=!1,r=yu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-fe(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Iu(r,a))}else a=oc,0===(3&(a=we(r,r===ic?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Se(r,a)||(n=!0,Iu(r,a));r=r.next}}while(n);Su=!1}}function Cu(){Au()}function Au(){wu=bu=!1;var e=0;0!==xu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==lh&&(lh=e,!0);return lh=null,!1}()&&(e=xu),xu=0);for(var t=ne(),n=null,r=yu;null!==r;){var i=r.next,a=Tu(r,t);0===a?(r.next=null,null===n?yu=i:n.next=i,null===i&&(vu=n)):(n=r,(0!==e||0!==(3&a))&&(wu=!0)),r=i}ku(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-fe(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=xe(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=oc,n=we(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Z(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Se(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Z(r),_e(n)){case 2:case 8:n=ae;break;case 32:default:n=oe;break;case 268435456:n=le}return r=Pu.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Z(r),e.callbackPriority=2,e.callbackNode=null,2}function Pu(e,t){if(0!==Ac&&5!==Ac)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=we(e,e===ic?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Uc(e,r,t),Tu(e,ne()),null!=e.callbackNode&&e.callbackNode===n?Pu.bind(null,e):null)}function Iu(e,t){if(lu())return null;Uc(e,t,!0)}function _u(){return 0===xu&&(xu=Ee()),xu}function Nu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:_t(""+e)}function Ru(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Du=0;Du<xr.length;Du++){var Mu=xr[Du];Er(Mu.toLowerCase(),"on"+(Mu[0].toUpperCase()+Mu.slice(1)))}Er(fr,"onAnimationEnd"),Er(mr,"onAnimationIteration"),Er(gr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(yr,"onTransitionRun"),Er(vr,"onTransitionStart"),Er(br,"onTransitionCancel"),Er(wr,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ou=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fu));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){vs(u)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){vs(u)}i.currentTarget=null,a=l}}}}function Uu(e,t){var n=t[Oe];void 0===n&&(n=t[Oe]=new Set);var r=e+"__bubble";n.has(r)||(zu(t,e,2,!1),n.add(r))}function ju(e,t,n){var r=0;t&&(r|=4),zu(n,e,r,t)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[Vu]){e[Vu]=!0,We.forEach(function(t){"selectionchange"!==t&&(Ou.has(t)||ju(t,!1,e),ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vu]||(t[Vu]=!0,ju("selectionchange",!1,t))}}function zu(e,t,n,r){switch(ud(t)){case 2:var i=id;break;case 8:i=ad;break;default:i=od}n=i.bind(null,t,n,e),i=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gu(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==s;){if(null===(o=ze(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=a=o;continue e}s=s.parentNode}}r=r.return}Lt(function(){var r=a,i=Rt(n),o=[];e:{var s=Sr.get(e);if(void 0!==s){var c=en,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=gn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case fr:case mr:case gr:c=ln;break;case wr:c=bn;break;case"scroll":case"scrollend":c=nn;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yn;break;case"toggle":case"beforetoggle":c=Sn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),p=h?null!==s?s+"Capture":null:s;h=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Ut(m,p))&&h.push(qu(m,g,f)),d)break;m=m.return}0<h.length&&(s=new c(s,u,null,n,i),o.push({event:s,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Nt||!(u=n.relatedTarget||n.fromElement)||!ze(u)&&!u[Fe])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ze(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=an,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=yn,g="onPointerLeave",p="onPointerEnter",m="pointer"),d=null==c?s:qe(c),f=null==u?s:qe(u),(s=new h(g,m+"leave",c,n,i)).target=d,s.relatedTarget=f,g=null,ze(i)===r&&((h=new h(p,m+"enter",u,n,i)).target=f,h.relatedTarget=d,g=h),d=g,c&&u)e:{for(p=u,m=0,f=h=c;f;f=Ku(f))m++;for(f=0,g=p;g;g=Ku(g))f++;for(;0<m-f;)h=Ku(h),m--;for(;0<f-m;)p=Ku(p),f--;for(;m--;){if(h===p||null!==p&&h===p.alternate)break e;h=Ku(h),p=Ku(p)}h=null}else h=null;null!==c&&Wu(o,s,c,h,!1),null!==u&&null!==d&&Wu(o,d,u,h,!0)}if("select"===(c=(s=r?qe(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=jn;else if(Dn(s))if(Vn)y=Yn;else{y=Wn;var v=Kn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Tt(r.elementType)&&(y=jn):y=Xn;switch(y&&(y=y(e,r))?Mn(o,y,n,i):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&bt(s,"number",s.value)),v=r?qe(r):window,e){case"focusin":(Dn(v)||"true"===v.contentEditable)&&(ir=v,ar=r,or=null);break;case"focusout":or=ar=ir=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,lr(o,n,i);break;case"selectionchange":if(rr)break;case"keydown":case"keyup":lr(o,n,i)}var b;if(En)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Nn?In(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(An&&"ko"!==n.locale&&(Nn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Nn&&(b=Ht()):(Gt="value"in(zt=i)?zt.value:zt.textContent,Nn=!0)),0<(v=Hu(r,w)).length&&(w=new un(w,e,null,n,i),o.push({event:w,listeners:v}),b?w.data=b:null!==(b=_n(n))&&(w.data=b))),(b=Cn?function(e,t){switch(e){case"compositionend":return _n(t);case"keypress":return 32!==t.which?null:(Pn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Nn)return"compositionend"===e||!En&&In(e,t)?(e=Ht(),qt=Gt=zt=null,Nn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Hu(r,"onBeforeInput")).length&&(v=new un("onBeforeInput","beforeinput",null,n,i),o.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Nu((i[Me]||null).action),o=r.submitter;o&&null!==(t=(t=o[Me]||null)?Nu(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new en("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==xu){var e=o?Ru(i,o):new FormData(i);Ro(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=o?Ru(i,o):new FormData(i),Ro(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}Lu(o,t)})}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Ut(e,n))&&r.unshift(qu(e,i,a)),null!=(i=Ut(e,t))&&r.push(qu(e,i,a))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wu(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Ut(n,a))&&o.unshift(qu(n,c,l)):i||null!=(c=Ut(n,a))&&o.push(qu(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Xu,"\n").replace(Yu,"")}function $u(e,t){return t=Qu(t),Qu(e)===t}function Ju(){}function Zu(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":rt(e,"class",r);break;case"tabIndex":rt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,n,r);break;case"style":At(e,r,a);break;case"data":if("object"!==t){rt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=_t(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Zu(e,t,"name",i.name,i,null),Zu(e,t,"formEncType",i.formEncType,i,null),Zu(e,t,"formMethod",i.formMethod,i,null),Zu(e,t,"formTarget",i.formTarget,i,null)):(Zu(e,t,"encType",i.encType,i,null),Zu(e,t,"method",i.method,i,null),Zu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=_t(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Uu("scroll",e);break;case"onScrollEnd":null!=r&&Uu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=_t(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Uu("beforetoggle",e),Uu("toggle",e),nt(e,"popover",r);break;case"xlinkActuate":it(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":it(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":it(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":it(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":it(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":it(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":it(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":it(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":it(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":nt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&nt(e,n=Pt.get(n)||n,r)}}function eh(e,t,n,r,i,a){switch(n){case"style":At(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Et(e,r):("number"===typeof r||"bigint"===typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&Uu("scroll",e);break;case"onScrollEnd":null!=r&&Uu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Xe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Me]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):nt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function th(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Uu("error",e),Uu("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Zu(e,t,r,s,n,null)}}return a&&Zu(e,t,"srcSet",n.srcSet,n,null),void(i&&Zu(e,t,"src",n.src,n,null));case"input":Uu("invalid",e);var l=r=s=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":a=h;break;case"type":s=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:Zu(e,t,i,h,n,null)}}return vt(e,r,l,c,u,s,a,!1),void dt(e);case"select":for(a in Uu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Zu(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=n&&wt(e,!!i,n,!0));case"textarea":for(s in Uu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Zu(e,t,s,l,n,null)}return xt(e,i,a,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Zu(e,t,c,i,n,null);return;case"dialog":Uu("beforetoggle",e),Uu("toggle",e),Uu("cancel",e),Uu("close",e);break;case"iframe":case"object":Uu("load",e);break;case"video":case"audio":for(i=0;i<Fu.length;i++)Uu(Fu[i],e);break;case"image":Uu("error",e),Uu("load",e);break;case"details":Uu("toggle",e);break;case"embed":case"source":case"link":Uu("error",e),Uu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Zu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&eh(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Zu(e,t,l,i,n,null))}var nh=null,rh=null;function ih(e){return 9===e.nodeType?e:e.ownerDocument}function ah(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var lh=null;var ch="function"===typeof setTimeout?setTimeout:void 0,uh="function"===typeof clearTimeout?clearTimeout:void 0,hh="function"===typeof Promise?Promise:void 0,dh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof hh?function(e){return hh.resolve(null).then(e).catch(ph)}:ch;function ph(e){setTimeout(function(){throw e})}function fh(e){return"head"===e}function mh(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&xh(o.documentElement),2&n&&xh(o.body),4&n)for(xh(n=o.head),o=n.firstChild;o;){var s=o.nextSibling,l=o.nodeName;o[Ve]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}if(0===i)return e.removeChild(a),void Pd(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Pd(t)}function gh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gh(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bh=null;function wh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Sh(e,t,n){switch(t=ih(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function xh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var Eh=new Map,kh=new Set;function Ch(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ah=O.d;O.d={f:function(){var e=Ah.f(),t=zc();return e||t},r:function(e){var t=Ge(e);null!==t&&5===t.tag&&"form"===t.type?Mo(t):Ah.r(e)},D:function(e){Ah.D(e),Ph("dns-prefetch",e,null)},C:function(e,t){Ah.C(e,t),Ph("preconnect",e,t)},L:function(e,t,n){Ah.L(e,t,n);var r=Th;if(r&&e&&t){var i='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+gt(n.imageSizes)+'"]')):i+='[href="'+gt(e)+'"]';var a=i;switch(t){case"style":a=_h(e);break;case"script":a=Dh(e)}Eh.has(a)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Eh.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Nh(a))||"script"===t&&r.querySelector(Mh(a))||(th(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}},m:function(e,t){Ah.m(e,t);var n=Th;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Dh(e)}if(!Eh.has(a)&&(e=p({rel:"modulepreload",href:e},t),Eh.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Mh(a)))return}th(r=n.createElement("link"),"link",e),Ke(r),n.head.appendChild(r)}}},X:function(e,t){Ah.X(e,t);var n=Th;if(n&&e){var r=He(n).hoistableScripts,i=Dh(e),a=r.get(i);a||((a=n.querySelector(Mh(i)))||(e=p({src:e,async:!0},t),(t=Eh.get(i))&&Uh(e,t),Ke(a=n.createElement("script")),th(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Ah.S(e,t,n);var r=Th;if(r&&e){var i=He(r).hoistableStyles,a=_h(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Nh(a)))s.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Eh.get(a))&&Lh(e,n);var l=o=r.createElement("link");Ke(l),th(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Oh(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){Ah.M(e,t);var n=Th;if(n&&e){var r=He(n).hoistableScripts,i=Dh(e),a=r.get(i);a||((a=n.querySelector(Mh(i)))||(e=p({src:e,async:!0,type:"module"},t),(t=Eh.get(i))&&Uh(e,t),Ke(a=n.createElement("script")),th(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Th="undefined"===typeof document?null:document;function Ph(e,t,n){var r=Th;if(r&&"string"===typeof t&&t){var i=gt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),kh.has(i)||(kh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(th(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}}function Ih(e,t,n,r){var i,a,s,l,c=(c=H.current)?Ch(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=_h(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=_h(n.href);var u=He(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Nh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Eh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Eh.set(e,n),u||(i=c,a=e,s=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),th(a,"link",s),Ke(a),i.head.appendChild(a))))),t&&null===r)throw Error(o(528,""));return h}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Dh(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function _h(e){return'href="'+gt(e)+'"'}function Nh(e){return'link[rel="stylesheet"]['+e+"]"}function Rh(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Dh(e){return'[src="'+gt(e)+'"]'}function Mh(e){return"script[async]"+e}function Fh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,Ke(r),r;var i=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ke(r=(e.ownerDocument||e).createElement("style")),th(r,"style",i),Oh(r,n.precedence,e),t.instance=r;case"stylesheet":i=_h(n.href);var a=e.querySelector(Nh(i));if(a)return t.state.loading|=4,t.instance=a,Ke(a),a;r=Rh(n),(i=Eh.get(i))&&Lh(r,i),Ke(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),th(a,"link",r),t.state.loading|=4,Oh(a,n.precedence,e),t.instance=a;case"script":return a=Dh(n.src),(i=e.querySelector(Mh(a)))?(t.instance=i,Ke(i),i):(r=n,(i=Eh.get(a))&&Uh(r=p({},n),i),Ke(i=(e=e.ownerDocument||e).createElement("script")),th(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Oh(r,n.precedence,e));return t.instance}function Oh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Lh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Uh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var jh=null;function Vh(e,t,n){if(null===jh){var r=new Map,i=jh=new Map;i.set(n,r)}else(r=(i=jh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Ve]||a[De]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Bh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function zh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Gh=null;function qh(){}function Hh(){if(this.count--,0===this.count)if(this.stylesheets)Wh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kh=null;function Wh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kh=new Map,t.forEach(Xh,e),Kh=null,Hh.call(e))}function Xh(e,t){if(!(4&t.state.loading)){var n=Kh.get(e);if(n)var r=n.get(null);else{n=new Map,Kh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=Hh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Yh={$$typeof:x,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Qh(e,t,n,r,i,a,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function $h(e,t,n,r,i,a,o,s,l,c,u,h){return e=new Qh(e,t,n,o,s,l,c,h),t=1,!0===a&&(t|=24),a=Lr(3,null,null,t),e.current=a,a.stateNode=e,(t=Mi()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ra(a),e}function Jh(e){return e?e=Fr:Fr}function Zh(e,t,n,r,i,a){i=Jh(i),null===r.context?r.context=i:r.pendingContext=i,(r=aa(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=oa(e,r,t))&&(Lc(n,0,t),sa(n,e,t))}function ed(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function td(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}function nd(e){if(13===e.tag){var t=Rr(e,67108864);null!==t&&Lc(t,0,67108864),td(e,67108864)}}var rd=!0;function id(e,t,n,r){var i=F.T;F.T=null;var a=O.p;try{O.p=2,od(e,t,n,r)}finally{O.p=a,F.T=i}}function ad(e,t,n,r){var i=F.T;F.T=null;var a=O.p;try{O.p=8,od(e,t,n,r)}finally{O.p=a,F.T=i}}function od(e,t,n,r){if(rd){var i=sd(r);if(null===i)Gu(e,t,r,ld,n),bd(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dd=wd(dd,e,t,n,r,i),!0;case"dragenter":return pd=wd(pd,e,t,n,r,i),!0;case"mouseover":return fd=wd(fd,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return md.set(a,wd(md.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,gd.set(a,wd(gd.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(bd(e,r),4&t&&-1<vd.indexOf(e)){for(;null!==i;){var a=Ge(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=be(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-fe(o);s.entanglements[1]|=l,o&=~l}Eu(a),0===(6&rc)&&(Ec=ne()+500,ku(0,!1))}}break;case 13:null!==(s=Rr(a,2))&&Lc(s,0,2),zc(),td(a,2)}if(null===(a=sd(r))&&Gu(e,t,r,ld,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gu(e,t,r,null,n)}}function sd(e){return cd(e=Rt(e))}var ld=null;function cd(e){if(ld=null,null!==(e=ze(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ld=e,null}function ud(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case ie:return 2;case ae:return 8;case oe:case se:return 32;case le:return 268435456;default:return 32}default:return 32}}var hd=!1,dd=null,pd=null,fd=null,md=new Map,gd=new Map,yd=[],vd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bd(e,t){switch(e){case"focusin":case"focusout":dd=null;break;case"dragenter":case"dragleave":pd=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":md.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(t.pointerId)}}function wd(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ge(t))&&nd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Sd(e){var t=ze(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}(e.priority,function(){if(13===n.tag){var e=Fc();e=Ie(e);var t=Rr(n,e);null!==t&&Lc(t,0,e),td(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sd(e.nativeEvent);if(null!==n)return null!==(t=Ge(n))&&nd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Nt=r,n.target.dispatchEvent(r),Nt=null,t.shift()}return!0}function Ed(e,t,n){xd(e)&&n.delete(t)}function kd(){hd=!1,null!==dd&&xd(dd)&&(dd=null),null!==pd&&xd(pd)&&(pd=null),null!==fd&&xd(fd)&&(fd=null),md.forEach(Ed),gd.forEach(Ed)}function Cd(e,t){e.blockedOn===t&&(e.blockedOn=null,hd||(hd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kd)))}var Ad=null;function Td(e){Ad!==e&&(Ad=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ad===e&&(Ad=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===cd(r||n))continue;break}var a=Ge(n);null!==a&&(e.splice(t,3),t-=3,Ro(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Pd(e){function t(t){return Cd(t,e)}null!==dd&&Cd(dd,e),null!==pd&&Cd(pd,e),null!==fd&&Cd(fd,e),md.forEach(t),gd.forEach(t);for(var n=0;n<yd.length;n++){var r=yd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yd.length&&null===(n=yd[0]).blockedOn;)Sd(n),null===n.blockedOn&&yd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[Me]||null;if("function"===typeof a)o||Td(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[Me]||null)s=o.formAction;else if(null!==cd(i))continue}else s=o.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Td(n)}}}function Id(e){this._internalRoot=e}function _d(e){this._internalRoot=e}_d.prototype.render=Id.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Zh(t.current,Fc(),e,t,null,null)},_d.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zh(e.current,2,null,e,null,null),zc(),t[Fe]=null}},_d.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ne();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yd.length&&0!==t&&t<yd[n].priority;n++);yd.splice(n,0,e),0===n&&Sd(e)}};var Nd=i.version;if("19.1.1"!==Nd)throw Error(o(527,Nd,"19.1.1"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return h(i),e;if(a===r)return h(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Rd={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{he=Dd.inject(Rd),de=Dd}catch(Fd){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,r="",i=bs,a=ws,l=Ss;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$h(e,1,!1,null,0,n,r,i,a,l,0,null),e[Fe]=t.current,Bu(e),new Id(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var r=!1,i="",a=bs,l=ws,c=Ss,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=$h(e,1,!0,t,0,r,i,a,l,c,0,u)).context=Jh(null),n=t.current,(i=aa(r=Ie(r=Fc()))).callback=null,oa(n,i,r),n=r,t.current.lanes=n,Ae(t,n),Eu(t),e[Fe]=t.current,Bu(e),new _d(t)},t.version="19.1.1"},1088:(e,t,n)=>{n.d(t,{t:()=>f,d:()=>p});var r=n(9950),i=n(6230);const a=(0,i.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),o=(0,i.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),s=(0,i.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),l=(0,i.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var c=n(6479),u=n(4414);const h=e=>{let{message:t,type:n="info",duration:i=4e3,onClose:h,actionLabel:d,onAction:p}=e;const[f,m]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(i>0){const e=setTimeout(()=>{m(!1),setTimeout(h,300)},i);return()=>clearTimeout(e)}},[i,h]);return(0,u.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg transition-all duration-300 ".concat((()=>{switch(n){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";default:return"bg-blue-50 border-blue-200"}})()," ").concat(f?"opacity-100 translate-y-0":"opacity-0 translate-y-2"),style:{maxWidth:"400px"},children:[(()=>{switch(n){case"success":return(0,u.jsx)(a,{className:"w-5 h-5 text-green-500"});case"error":return(0,u.jsx)(o,{className:"w-5 h-5 text-red-500"});case"warning":return(0,u.jsx)(s,{className:"w-5 h-5 text-yellow-500"});default:return(0,u.jsx)(l,{className:"w-5 h-5 text-blue-500"})}})(),(0,u.jsx)("span",{className:"flex-1 text-sm font-medium text-gray-800",children:t}),d&&p&&(0,u.jsx)("button",{onClick:p,className:"text-sm font-semibold text-blue-600 hover:text-blue-700 transition-colors",children:d}),(0,u.jsx)("button",{onClick:()=>{m(!1),setTimeout(h,300)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,u.jsx)(c.A,{className:"w-4 h-4"})})]})},d=(0,r.createContext)(void 0),p=()=>{const e=(0,r.useContext)(d);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},f=e=>{let{children:t}=e;const[n,i]=(0,r.useState)([]),a=(0,r.useCallback)(e=>{i(t=>t.filter(t=>t.id!==e))},[]),o=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;const o="toast-".concat(Date.now(),"-").concat(Math.random());i(i=>[...i,{id:o,message:e,type:t,duration:n,actionLabel:r,onAction:a}])},[]),s=(0,r.useCallback)(function(e){o(e,"success",arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3)},[o]),l=(0,r.useCallback)(function(e){o(e,"error",arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e3,arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)},[o]),c=(0,r.useCallback)(function(e){o(e,"info",arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3)},[o]),p=(0,r.useCallback)(function(e){o(e,"warning",arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3)},[o]);return(0,u.jsxs)(d.Provider,{value:{showToast:o,success:s,error:l,info:c,warning:p},children:[t,(0,u.jsx)("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-3",children:n.map(e=>(0,u.jsx)(h,{message:e.message,type:e.type,duration:e.duration,onClose:()=>a(e.id),actionLabel:e.actionLabel,onAction:e.onAction},e.id))})]})}},1098:(e,t,n)=>{n.d(t,{KN:()=>o,gQ:()=>u,px:()=>s,uj:()=>a,vh:()=>l,vw:()=>c});var r=n(2555);const i=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),a=i("deg"),o=i("%"),s=i("px"),l=i("vh"),c=i("vw"),u=(()=>(0,r.A)((0,r.A)({},o),{},{parse:e=>o.parse(e)/100,transform:e=>o.transform(100*e)}))()},1136:(e,t,n)=>{n.d(t,{A:()=>Uh});var r,i,a=n(2555),o=n(1741),s=n(6863),l=n(2226),c=n(498),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},h={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a,o=e.g[3];a=t+(o^n&(i^o))+r[0]+3614090360&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[1]+3905402710&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[2]+606105819&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[3]+3250441966&4294967295,a=t+(o^(n=i+(a<<22&4294967295|a>>>10))&(i^o))+r[4]+4118548399&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[5]+1200080426&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[6]+2821735955&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[7]+4249261313&4294967295,a=t+(o^(n=i+(a<<22&4294967295|a>>>10))&(i^o))+r[8]+1770035416&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[9]+2336552879&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[10]+4294925233&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[11]+2304563134&4294967295,a=t+(o^(n=i+(a<<22&4294967295|a>>>10))&(i^o))+r[12]+1804603682&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[13]+4254626195&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[14]+2792965006&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[15]+1236535329&4294967295,a=t+(i^o&((n=i+(a<<22&4294967295|a>>>10))^i))+r[1]+4129170786&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[6]+3225465664&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[11]+643717713&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[0]+3921069994&4294967295,a=t+(i^o&((n=i+(a<<20&4294967295|a>>>12))^i))+r[5]+3593408605&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[10]+38016083&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[15]+3634488961&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[4]+3889429448&4294967295,a=t+(i^o&((n=i+(a<<20&4294967295|a>>>12))^i))+r[9]+568446438&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[14]+3275163606&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[3]+4107603335&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[8]+1163531501&4294967295,a=t+(i^o&((n=i+(a<<20&4294967295|a>>>12))^i))+r[13]+2850285829&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[2]+4243563512&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[7]+1735328473&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[12]+2368359562&4294967295,a=t+((n=i+(a<<20&4294967295|a>>>12))^i^o)+r[5]+4294588738&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[8]+2272392833&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[11]+1839030562&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[14]+4259657740&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^o)+r[1]+2763975236&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[4]+1272893353&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[7]+4139469664&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[10]+3200236656&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^o)+r[13]+681279174&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[0]+3936430074&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[3]+3572445317&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[6]+76029189&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^o)+r[9]+3654602809&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[12]+3873151461&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[15]+530742520&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[2]+3299628645&4294967295,a=t+(i^((n=i+(a<<23&4294967295|a>>>9))|~o))+r[0]+4096336452&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[7]+1126891415&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[14]+2878612391&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[5]+4237533241&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~o))+r[12]+1700485571&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[3]+2399980690&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[10]+4293915773&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[1]+2240044497&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~o))+r[8]+1873313359&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[15]+4264355552&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[6]+2734768916&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[13]+1309151649&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~o))+r[4]+4149444226&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[11]+3174756917&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[2]+718787259&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function a(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let a=this.h,o=0;for(;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var o={};function s(e){return-128<=e&&e<128?function(e,t){var n=o;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new a([0|e],e<0?-1:0)}):new a([0|e],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(e<0)return m(l(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new a(t,0)}var c=s(0),u=s(1),d=s(16777216);function p(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function f(e){return-1==e.h}function m(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new a(n,~e.h).add(u)}function g(e,t){return e.add(m(t))}function y(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function v(e,t){this.g=e,this.h=t}function b(e,t){if(p(t))throw Error("division by zero");if(p(e))return new v(c,c);if(f(e))return t=b(m(e),t),new v(m(t.g),m(t.h));if(f(t))return t=b(e,m(t)),new v(m(t.g),t.h);if(e.g.length>30){if(f(e)||f(t))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=t;r.l(e)<=0;)n=w(n),r=w(r);var i=S(n,1),a=S(r,1);for(r=S(r,2),n=S(n,2);!p(r);){var o=a.add(r);o.l(e)<=0&&(i=i.add(n),a=o),r=S(r,1),n=S(n,1)}return t=g(e,i.j(t)),new v(i,t)}for(i=c;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),o=(a=l(n)).j(t);f(o)||o.l(e)>0;)o=(a=l(n-=r)).j(t);p(a)&&(a=u),i=i.add(a),e=g(e,o)}return new v(i,e)}function w(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new a(n,e.h)}function S(e,t){const n=t>>5;t%=32;const r=e.g.length-n,i=[];for(let a=0;a<r;a++)i[a]=t>0?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new a(i,e.h)}(e=a.prototype).m=function(){if(f(this))return-m(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(p(this))return"0";if(f(this))return"-"+m(this).toString(e);const t=l(Math.pow(e,6));var n=this;let r="";for(;;){const i=b(n,t).g;let a=(((n=g(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(p(n=i))return a+r;for(;a.length<6;)a="0"+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return f(e=g(this,e))?-1:p(e)?0:1},e.abs=function(){return f(this)?m(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let r=0;for(let i=0;i<=t;i++){let t=r+(65535&this.i(i))+(65535&e.i(i)),a=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,t&=65535,a&=65535,n[i]=a<<16|t}return new a(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(p(this)||p(e))return c;if(f(this))return f(e)?m(this).j(m(e)):m(m(this).j(e));if(f(e))return m(this.j(m(e)));if(this.l(d)<0&&e.l(d)<0)return l(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){const i=this.i(r)>>>16,a=65535&this.i(r),o=e.i(t)>>>16,s=65535&e.i(t);n[2*r+2*t]+=a*s,y(n,2*r+2*t),n[2*r+2*t+1]+=i*s,y(n,2*r+2*t+1),n[2*r+2*t+1]+=a*o,y(n,2*r+2*t+1),n[2*r+2*t+2]+=i*o,y(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new a(n,0)},e.B=function(e){return b(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new a(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new a(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new a(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,i=h.Md5=t,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return m(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=l(Math.pow(n,8));let i=c;for(let o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o);const e=parseInt(t.substring(o,o+a),n);a<8?(a=l(Math.pow(n,a)),i=i.j(a).add(l(e))):(i=i.j(r),i=i.add(l(e)))}return i},r=h.Integer=a}).apply("undefined"!==typeof u?u:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var d,p,f,m,g,y,v,b,w="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},S={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof w&&w];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},a=this||self;function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=s).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var h="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function x(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function k(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function C(e){a.setTimeout(()=>{throw e},0)}function A(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new P,e=>e.reset());class P{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let I,_=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=Promise.resolve(void 0);I=()=>{e.then(D)}};function D(){for(var e;e=A();){try{e.h.call(e.g)}catch(n){C(n)}var t=T;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}_=!1}function M(){this.u=this.u,this.C=this.C}function F(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},F.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(n){}return e}();function L(e){return/^[\s\xa0]*$/.test(e)}function U(e,t){F.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(U,F),U.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&U.Z.h.call(this)},U.prototype.h=function(){U.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),V=0;function B(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++V,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function G(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function q(e){const t={};for(const n in e)t[n]=e[n];return t}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<H.length;t++)n=H[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function W(e){this.src=e,this.g={},this.h=0}function X(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=a>=0)&&Array.prototype.splice.call(i,a,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Y(e,t,n,r){for(let i=0;i<e.length;++i){const a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}W.prototype.add=function(e,t,n,r,i){const a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);const o=Y(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):((t=new B(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Q="closure_lm_"+(1e6*Math.random()|0),$={};function J(e,t,n,r,i){if(r&&r.once)return ee(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)J(e,t[a],n,r,i);return null}return n=le(n),e&&e[j]?e.J(t,n,o(r)?!!r.capture:!!r,i):Z(e,t,n,!1,r,i)}function Z(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");const s=o(i)?!!i.capture:!!i;let l=oe(e);if(l||(e[Q]=l=new W(e)),(n=l.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ae;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ie(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ee(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)ee(e,t[a],n,r,i);return null}return n=le(n),e&&e[j]?e.K(t,n,o(r)?!!r.capture:!!r,i):Z(e,t,n,!0,r,i)}function te(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)te(e,t[a],n,r,i);else r=o(r)?!!r.capture:!!r,n=le(n),e&&e[j]?(e=e.i,(a=String(t).toString())in e.g&&((n=Y(t=e.g[a],n,r,i))>-1&&(z(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[a],e.h--)))):e&&(e=oe(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Y(t,n,r,i)),(n=e>-1?t[e]:null)&&ne(n))}function ne(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[j])X(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ie(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=oe(t))?(X(n,e),0==n.h&&(n.src=null,t[Q]=null)):z(e)}}}function ie(e){return e in $?$[e]:$[e]="on"+e}function ae(e,t){if(e.da)e=!0;else{t=new U(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&ne(e),e=n.call(r,t)}return e}function oe(e){return(e=e[Q])instanceof W?e:null}var se="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(e){return"function"===typeof e?e:(e[se]||(e[se]=function(t){return e.handleEvent(t)}),e[se])}function ce(){M.call(this),this.i=new W(this),this.M=this,this.G=null}function ue(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new F(t,e);else if(t instanceof F)t.target=t.target||e;else{var i=t;K(t=new F(r,e),i)}let a,o;if(i=!0,n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=he(a,r,!0,t)&&i;if(a=t.g=e,i=he(a,r,!0,t)&&i,i=he(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=he(a,r,!1,t)&&i}function he(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){const o=t[a];if(o&&!o.da&&o.capture==n){const t=o.listener,n=o.ha||o.src;o.fa&&X(e.i,o),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function de(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:a.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,de(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(ce,M),ce.prototype[j]=!0,ce.prototype.removeEventListener=function(e,t,n,r){te(this,e,t,n,r)},ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)z(n[e]);delete e.g[t],e.h--}}this.G=null},ce.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ce.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class pe extends M{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:de(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fe(e){M.call(this),this.h=e,this.g={}}u(fe,M);var me=[];function ge(e){G(e.g,function(e,t){this.g.hasOwnProperty(t)&&ne(e)},e),e.g={}}fe.prototype.N=function(){fe.Z.N.call(this),ge(this)},fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ye=a.JSON.stringify,ve=a.JSON.parse,be=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function we(){}function Se(){}var xe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ee(){F.call(this,"d")}function ke(){F.call(this,"c")}u(Ee,F),u(ke,F);var Ce={},Ae=null;function Te(){return Ae=Ae||new ce}function Pe(e){F.call(this,Ce.Ia,e)}function Ie(e){const t=Te();ue(t,new Pe(t))}function _e(e,t){F.call(this,Ce.STAT_EVENT,e),this.stat=t}function Ne(e){const t=Te();ue(t,new _e(t,e))}function Re(e,t){F.call(this,Ce.Ja,e),this.size=t}function De(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function Me(){this.g=!0}function Fe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const a=JSON.parse(t);if(a)for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return ye(a)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Ce.Ia="serverreachability",u(Pe,F),Ce.STAT_EVENT="statevent",u(_e,F),Ce.Ja="timingevent",u(Re,F),Me.prototype.ua=function(){this.g=!1},Me.prototype.info=function(){};var Oe,Le={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ue={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function je(){}function Ve(e){return encodeURIComponent(String(e))}function Be(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ze(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new fe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ge}function Ge(){this.i=null,this.g="",this.h=!1}u(je,we),je.prototype.g=function(){return new XMLHttpRequest},Oe=new je;var qe={},He={};function Ke(e,t,n){e.M=1,e.A=yt(dt(t)),e.u=n,e.R=!0,We(e,null)}function We(e,t){e.F=Date.now(),Qe(e),e.B=dt(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),Nt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ge,e.g=vn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new pe(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(me[0]=i.toString()),i=me);for(let a=0;a<i.length;a++){const e=J(n,i[a],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?q(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),Ie(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o="",s=a.split("&");for(let e=0;e<s.length;e++){var l=s[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");o=t.length>=2&&"type"==t[1]?o+(e+"=")+l+"&":o+(e+"=redacted&")}}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Xe(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Ye(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?He:(n=Number(t.substring(n,r)),isNaN(n)?qe:(r+=1)+n>t.length?He:(t=t.slice(r,r+n),e.C=r+n,t))}function Qe(e){e.T=Date.now()+e.H,$e(e,e.H)}function $e(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=De(l(e.aa,e),t)}function Je(e){e.D&&(a.clearTimeout(e.D),e.D=null)}function Ze(e){0==e.j.I||e.K||pn(e.j,e)}function et(e){Je(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ge(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function tt(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||ot(n.h,e)))if(!e.L&&ot(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;dn(n),tn(n)}cn(n),Ne(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=De(l(n.Va,n),6e3));at(n.h)<=1&&n.ta&&(n.ta=void 0)}else mn(n,11)}else if((e.L||n.g==e)&&dn(n),!L(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(st(a,a.h),a.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,gt(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var o=e;if((r=n).na=yn(r,r.L?r.ba:null,r.W),o.L){lt(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(Je(s),Qe(s)),r.g=o}else ln(r);n.i.length>0&&rn(n)}else"stop"!=l[0]&&"close"!=l[0]||mn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?mn(n,7):en(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}Ie()}catch(u){}}ze.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Qt(e)?t.j():this.Y(e)},ze.prototype.Y=function(e){try{if(e==this.g)e:{const l=Qt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||4!=l||7==c||Ie(),Je(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Xe(e))return e.g.la();const t=$t(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Qt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return et(e),Ze(e),"";e.h.i=new a.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(r)){var o=r;break t}}o=null}if(!(e=o)){this.o=!1,this.m=3,Ne(12),et(this),Ze(this);break e}Fe(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Ye(this,n),t==He){4==l&&(this.m=4,Ne(14),e=!1),Fe(this.i,this.l,null,"[Incomplete Response]");break}if(t==qe){this.m=4,Ne(15),Fe(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Fe(this.i,this.l,t,null),tt(this,t)}if(Xe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,Ne(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var s=this.j;s.g==this&&s.aa&&!s.P&&(s.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),un(s),s.P=!0,Ne(11))}}else Fe(this.i,this.l,n,"[Invalid Chunked Response]"),et(this),Ze(this)}else Fe(this.i,this.l,n,null),tt(this,n);4==l&&et(this),this.o&&!this.K&&(4==l?pn(this.j,this):(this.o=!1,Qe(this)))}else(function(e){const t={};e=(e.g&&Qt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(L(e[r]))continue;var n=Be(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,Ne(12)):(this.m=0,Ne(13)),et(this),Ze(this)}}}catch(re){}},ze.prototype.cancel=function(){this.K=!0,et(this)},ze.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(Ie(),Ne(17)),et(this),this.m=2,Ze(this)):$e(this,this.T-e)};var nt=class{constructor(e,t){this.g=e,this.map=t}};function rt(e){this.l=e||10,a.PerformanceNavigationTiming?e=(e=a.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function it(e){return!!e.h||!!e.g&&e.g.size>=e.j}function at(e){return e.h?1:e.g?e.g.size:0}function ot(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function st(e,t){e.g?e.g.add(t):e.h=t}function lt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ct(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return x(e.i)}rt.prototype.cancel=function(){if(this.i=ct(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ut=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ht(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof ht?(this.l=e.l,pt(this,e.j),this.o=e.o,this.g=e.g,ft(this,e.u),this.h=e.h,mt(this,Rt(e.i)),this.m=e.m):e&&(t=String(e).match(ut))?(this.l=!1,pt(this,t[1]||"",!0),this.o=vt(t[2]||""),this.g=vt(t[3]||"",!0),ft(this,t[4]),this.h=vt(t[5]||"",!0),mt(this,t[6]||"",!0),this.m=vt(t[7]||"")):(this.l=!1,this.i=new At(null,this.l))}function dt(e){return new ht(e)}function pt(e,t,n){e.j=n?vt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ft(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function mt(e,t,n){t instanceof At?(e.i=t,function(e,t){t&&!e.j&&(Tt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(Pt(this,t),Nt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=bt(t,kt)),e.i=new At(t,e.l))}function gt(e,t,n){e.i.set(t,n)}function yt(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function vt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,wt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function wt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ht.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(bt(t,St,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(bt(t,St,!0),"@"),e.push(Ve(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bt(n,"/"==n.charAt(0)?Et:xt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",bt(n,Ct)),e.join("")},ht.prototype.resolve=function(e){const t=dt(this);let n=!!e.j;n?pt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)ft(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?mt(t,Rt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var St=/[#\/\?@]/g,xt=/[#\?:]/g,Et=/[#\?]/g,kt=/[#\?@]/g,Ct=/#/g;function At(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Pt(e,t){Tt(e),t=Dt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function It(e,t){return Tt(e),t=Dt(e,t),e.g.has(t)}function _t(e,t){Tt(e);let n=[];if("string"===typeof t)It(e,t)&&(n=n.concat(e.g.get(Dt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function Nt(e,t,n){Pt(e,t),n.length>0&&(e.i=null,e.g.set(Dt(e,t),x(n)),e.h+=n.length)}function Rt(e){const t=new At;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Dt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Mt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function Ft(){this.g=new be}function Ot(e){this.i=e.Sb||null,this.h=e.ab||!1}function Lt(e,t){ce.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Ut(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function jt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Vt(e)}function Vt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Bt(e){let t="";return G(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function zt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Bt(n),"string"===typeof e?null!=n&&Ve(n):gt(e,t,n))}function Gt(e){ce.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=At.prototype).add=function(e,t){Tt(this),this.i=null,e=Dt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Tt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return Tt(this),this.i=null,It(this,e=Dt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=_t(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ve(n);n=_t(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ve(n[t])),e.push(r)}}return this.i=e.join("&")},u(Ot,we),Ot.prototype.g=function(){return new Lt(this.i,this.h)},u(Lt,ce),(e=Lt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Vt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||a).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,jt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vt(this)),this.g&&(this.readyState=3,Vt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ut(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jt(this):Vt(this),3==this.readyState&&Ut(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,jt(this))},e.Na=function(e){this.g&&(this.response=e,jt(this))},e.ga=function(){this.g&&jt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Lt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Gt,ce);var qt=/^https?$/i,Ht=["POST","PUT"];function Kt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Wt(e),Yt(e)}function Wt(e){e.A||(e.A=!0,ue(e,"complete"),ue(e,"error"))}function Xt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Qt(e))setTimeout(e.Ca.bind(e),0);else if(ue(e,"readystatechange"),4==Qt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(ut)[1]||null;!t&&a.self&&a.self.location&&(t=a.self.location.protocol.slice(0,-1)),r=!qt.test(t?t.toLowerCase():"")}n=r}if(n)ue(e,"complete"),ue(e,"success");else{e.o=6;try{var o=Qt(e)>2?e.g.statusText:""}catch(s){o=""}e.l=o+" ["+e.ca()+"]",Wt(e)}}finally{Yt(e)}}}function Yt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||ue(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Qt(e){return e.g?e.g.readyState:0}function $t(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Jt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zt(e){this.za=0,this.i=[],this.j=new Me,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Jt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Jt("baseRetryDelayMs",5e3,e),this.Za=Jt("retryDelaySeedMs",1e4,e),this.Ta=Jt("forwardChannelMaxRetries",2,e),this.va=Jt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new rt(e&&e.concurrentRequestLimit),this.Ba=new Ft,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function en(e){if(nn(e),3==e.I){var t=e.V++,n=dt(e.J);if(gt(n,"SID",e.M),gt(n,"RID",t),gt(n,"TYPE","terminate"),on(e,n),(t=new ze(e,e.j,t)).M=2,t.A=yt(dt(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.A,n=!0),n||(t.g=vn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Qe(t)}gn(e)}function tn(e){e.g&&(un(e),e.g.cancel(),e.g=null)}function nn(e){tn(e),e.v&&(a.clearTimeout(e.v),e.v=null),dn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&a.clearTimeout(e.m),e.m=null)}function rn(e){if(!it(e.h)&&!e.m){e.m=!0;var t=e.Ea;I||R(),_||(I(),_=!0),N.add(t,e),e.D=0}}function an(e,t){var n;n=t?t.l:e.V++;const r=dt(e.J);gt(r,"SID",e.M),gt(r,"RID",n),gt(r,"AID",e.K),on(e,r),e.u&&e.o&&zt(r,e.u,e.o),n=new ze(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=sn(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),st(e.h,n),Ke(n,r,t)}function on(e,t){e.H&&G(e.H,function(e,n){gt(t,n,e)}),e.l&&G({},function(e,n){gt(t,n,e)})}function sn(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var a=i[c].g;const n=i[c].map;if((a-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{a="req"+a+"_"||0;try{var s=n instanceof Map?n:Object.entries(n);for(const[t,n]of s){let r=n;o(n)&&(r=ye(n)),e.push(a+t+"="+encodeURIComponent(r))}}catch(E){throw e.push(a+"type="+encodeURIComponent("_badmap")),E}}catch(E){r&&r(n)}}if(l){s=e.join("&");break e}}s=void 0}return e=e.i.splice(0,n),t.G=e,s}function ln(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;I||R(),_||(I(),_=!0),N.add(t,e),e.A=0}}function cn(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=De(l(e.Da,e),fn(e,e.A)),e.A++,!0)}function un(e){null!=e.B&&(a.clearTimeout(e.B),e.B=null)}function hn(e){e.g=new ze(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=dt(e.na);gt(t,"RID","rpc"),gt(t,"SID",e.M),gt(t,"AID",e.K),gt(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&gt(t,"TO",e.ia),gt(t,"TYPE","xmlhttp"),on(e,t),e.u&&e.o&&zt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=yt(dt(t)),n.u=null,n.R=!0,We(n,e)}function dn(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function pn(e,t){var n=null;if(e.g==t){dn(e),un(e),e.g=null;var r=2}else{if(!ot(e.h,t))return;n=t.G,lt(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;ue(r=Te(),new Re(r,n)),rn(e)}else ln(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(at(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=De(l(e.Ea,e,t),fn(e,e.D)),e.D++,!0))}(e,t)||2==r&&cn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:mn(e,5);break;case 4:mn(e,10);break;case 3:mn(e,6);break;default:mn(e,2)}}function fn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function mn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new ht(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||pt(r,"https"),yt(r),t?function(e,t){const n=new Me;if(a.Image){const r=new Image;r.onload=c(Mt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Mt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Mt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Mt,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Me;const n=new AbortController,r=setTimeout(()=>{n.abort(),Mt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Mt(0,0,!0,t):Mt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Mt(0,0,!1,t)})}(r.toString(),n)}else Ne(2);e.I=0,e.l&&e.l.pa(t),gn(e),nn(e)}function gn(e){if(e.I=0,e.ja=[],e.l){const t=ct(e.h);0==t.length&&0==e.i.length||(k(e.ja,t),k(e.ja,e.i),e.h.i.length=0,x(e.i),e.i.length=0),e.l.oa()}}function yn(e,t,n){var r=n instanceof ht?dt(n):new ht(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ft(r,r.u);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new ht(null);r&&pt(e,r),t&&(e.g=t),i&&ft(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&gt(r,n,t),gt(r,"VER",e.ka),on(e,r),r}function vn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Gt(new Ot({ab:n})):new Gt(e.ma)).Fa(e.L),t}function bn(){}function wn(){}function Sn(e,t){ce.call(this),this.g=new Zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!L(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!L(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new kn(this)}function xn(e){Ee.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function En(){ke.call(this),this.status=1}function kn(e){this.g=e}(e=Gt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oe.g(),this.g.onreadystatechange=h(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Kt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=a.FormData&&e instanceof a.FormData,!(Array.prototype.indexOf.call(Ht,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(o){Kt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,ue(this,"complete"),ue(this,"abort"),Yt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yt(this,!0)),Gt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Xt(this):this.Xa())},e.Xa=function(){Xt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Qt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ve(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){Ne(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=yn(this,null,this.W),rn(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new ze(this,this.j,e);let a=this.o;if(this.U&&(a?(a=q(a),K(a,this.U)):a=this.U),null!==this.u||this.R||(i.J=a,a=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=sn(this,i,t),gt(n=dt(this.J),"RID",e),gt(n,"CVER",22),this.G&&gt(n,"X-HTTP-Session-Id",this.G),on(this,n),a&&(this.R?t="headers="+Ve(Bt(a))+"&"+t:this.u&&zt(n,this.u,a)),st(this.h,i),this.Ra&&gt(n,"TYPE","init"),this.S?(gt(n,"$req",t),gt(n,"SID","null"),i.U=!0,Ke(i,n,null)):Ke(i,n,t),this.I=2}}else 3==this.I&&(e?an(this,e):0==this.i.length||it(this.h)||an(this))},e.Da=function(){if(this.v=null,hn(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=De(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ne(10),tn(this),hn(this))},e.Va=function(){null!=this.C&&(this.C=null,tn(this),cn(this),Ne(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},wn.prototype.g=function(e,t){return new Sn(e,t)},u(Sn,ce),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){en(this.g)},Sn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ye(e),e=n);t.i.push(new nt(t.Ya++,e)),3==t.I&&rn(t)},Sn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,Sn.Z.N.call(this)},u(xn,Ee),u(En,ke),u(kn,bn),kn.prototype.ra=function(){ue(this.g,"a")},kn.prototype.qa=function(e){ue(this.g,new xn(e))},kn.prototype.pa=function(e){ue(this.g,new En)},kn.prototype.oa=function(){ue(this.g,"b")},wn.prototype.createWebChannel=wn.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,b=S.createWebChannelTransport=function(){return new wn},v=S.getStatEventTarget=function(){return Te()},y=S.Event=Ce,g=S.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Le.NO_ERROR=0,Le.TIMEOUT=8,Le.HTTP_ERROR=6,m=S.ErrorCode=Le,Ue.COMPLETE="complete",f=S.EventType=Ue,Se.EventType=xe,xe.OPEN="a",xe.CLOSE="b",xe.ERROR="c",xe.MESSAGE="d",ce.prototype.listen=ce.prototype.J,p=S.WebChannel=Se,S.FetchXmlHttpFactory=Ot,Gt.prototype.listenOnce=Gt.prototype.K,Gt.prototype.getLastError=Gt.prototype.Ha,Gt.prototype.getLastErrorCode=Gt.prototype.ya,Gt.prototype.getStatus=Gt.prototype.ca,Gt.prototype.getResponseJson=Gt.prototype.La,Gt.prototype.getResponseText=Gt.prototype.la,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Fa,d=S.XhrIo=Gt}).apply("undefined"!==typeof w?w:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const x="@firebase/firestore",E="4.9.2";class k{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}k.UNAUTHENTICATED=new k(null),k.GOOGLE_CREDENTIALS=new k("google-credentials-uid"),k.FIRST_PARTY=new k("first-party-uid"),k.MOCK_USER=new k("mock-user");let C="12.3.0";const A=new l.Vy("@firebase/firestore");function T(){return A.logLevel}function P(e){if(A.logLevel<=l.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(N);A.debug("Firestore (".concat(C,"): ").concat(e),...i)}}function I(e){if(A.logLevel<=l.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(N);A.error("Firestore (".concat(C,"): ").concat(e),...i)}}function _(e){if(A.logLevel<=l.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(N);A.warn("Firestore (".concat(C,"): ").concat(e),...i)}}function N(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function R(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,D(e,r,n)}function D(e,t,n){let r="FIRESTORE (".concat(C,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw I(r),new Error(r)}function M(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||D(t,i,r)}function O(e,t){return e}const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends c.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class j{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class V{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class B{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(k.UNAUTHENTICATED))}shutdown(){}}class z{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class G{constructor(e){this.t=e,this.currentUser=k.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){M(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new j;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new j,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new j)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(M("string"==typeof t.accessToken,31837,{l:t}),new V(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return M(null===e||"string"==typeof e,2055,{h:e}),new k(e)}}class q{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=k.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new q(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(k.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,o.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){M(void 0===this.o,3512);const n=e=>{null!=e.error&&P("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,P("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new K(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(M("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new K(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function X(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Y{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=X(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Q(e,t){return e<t?-1:e>t?1:0}function $(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return ee(n)===ee(i)?Q(n,i):ee(n)?1:-1}return Q(e.length,t.length)}const J=55296,Z=57343;function ee(e){const t=e.charCodeAt(0);return t>=J&&t<=Z}function te(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function ne(e){return e+"\0"}const re="__name__";class ie{constructor(e,t,n){void 0===t?t=0:t>e.length&&R(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&R(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ie.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ie?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ie.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Q(e.length,t.length)}static compareSegments(e,t){const n=ie.isNumericId(e),r=ie.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ie.extractNumericId(e).compare(ie.extractNumericId(t)):$(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class ae extends ie{construct(e,t,n){return new ae(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new U(L.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new ae(e)}static emptyPath(){return new ae([])}}const oe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class se extends ie{construct(e,t,n){return new se(e,t,n)}static isValidIdentifier(e){return oe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),se.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===re}static keyField(){return new se([re])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new U(L.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new U(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new U(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new U(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new se(t)}static emptyPath(){return new se([])}}class le{constructor(e){this.path=e}static fromPath(e){return new le(ae.fromString(e))}static fromName(e){return new le(ae.fromString(e).popFirst(5))}static empty(){return new le(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ae.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ae.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new ae(e.slice()))}}function ce(e,t,n){if(!n)throw new U(L.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ue(e){if(!le.isDocumentKey(e))throw new U(L.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function he(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function de(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":R(12329,{type:typeof e})}function pe(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new U(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=de(e);throw new U(L.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function fe(e,t){const n={typeString:e};return t&&(n.value=t),n}function me(e,t){if(!he(e))throw new U(L.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const o=e[r];if(i&&typeof o!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==a&&o!==a.value){n="Expected '".concat(r,"' field to equal '").concat(a.value,"'");break}}if(n)throw new U(L.INVALID_ARGUMENT,n);return!0}const ge=-62135596800,ye=1e6;class ve{static now(){return ve.fromMillis(Date.now())}static fromDate(e){return ve.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ye);return new ve(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new U(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new U(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ge)throw new U(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ye}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(me(e,ve._jsonSchema))return new ve(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ge;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ve._jsonSchemaVersion="firestore/timestamp/1.0",ve._jsonSchema={type:fe("string",ve._jsonSchemaVersion),seconds:fe("number"),nanoseconds:fe("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ve(0,0))}static max(){return new be(new ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const we=-1;class Se{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function xe(e){return e.fields.find(e=>2===e.kind)}function Ee(e){return e.fields.filter(e=>2!==e.kind)}Se.UNKNOWN_ID=-1;class ke{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ce{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ce(0,Pe.min())}}function Ae(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=be.fromTimestamp(1e9===r?new ve(n+1,0):new ve(n,r));return new Pe(i,le.empty(),t)}function Te(e){return new Pe(e.readTime,e.key,we)}class Pe{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Pe(be.min(),le.empty(),we)}static max(){return new Pe(be.max(),le.empty(),we)}}function Ie(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=le.comparator(e.documentKey,t.documentKey),0!==n?n:Q(e.largestBatchId,t.largestBatchId))}const _e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Re(e){if(e.code!==L.FAILED_PRECONDITION||e.message!==_e)throw e;P("LocalStore","Unexpectedly lost primary lease")}class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&R(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new De((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof De?t:De.resolve(t)}catch(e){return De.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):De.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):De.reject(t)}static resolve(e){return new De((t,n)=>{t(e)})}static reject(e){return new De((t,n)=>{n(e)})}static waitFor(e){return new De((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=De.resolve(!1);for(const n of e)t=t.next(e=>e?De.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new De((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{a[l]=e,++o,o===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new De((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}const Me="SimpleDb";class Fe{static open(e,t,n,r){try{return new Fe(t,e.transaction(r,n))}catch(e){throw new je(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new j,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new je(e,t.error)):this.S.resolve()},this.transaction.onerror=t=>{const n=qe(t.target.error);this.S.reject(new je(e,n))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(P(Me,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Be(t)}}class Oe{static delete(e){return P(Me,"Removing database:",e),ze((0,c.mS)().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!(0,c.zW)())return!1;if(Oe.F())return!0;const e=(0,c.ZQ)(),t=Oe.M(e),n=0<t&&t<10,r=Le(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static F(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.N=n,this.B=null,12.2===Oe.M((0,c.ZQ)())&&I("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(P(Me,"Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new je(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new U(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new U(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new je(e,r))},r.onupgradeneeded=e=>{P(Me,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.N.k(t,r.transaction,e.oldVersion,this.version).next(()=>{P(Me,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=e=>this.q(e)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let a=0;for(;;){++a;try{this.db=await this.L(e);const t=Fe.open(this.db,e,i?"readonly":"readwrite",n),a=r(t).next(e=>(t.C(),e)).catch(e=>(t.abort(e),De.reject(e))).toPromise();return a.catch(()=>{}),await t.D,a}catch(e){const t=e,n="FirebaseError"!==t.name&&a<3;if(P(Me,"Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Le(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Ue{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ze(this.U.delete())}}class je extends U{constructor(e,t){super(L.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Ve(e){return"IndexedDbTransactionError"===e.name}class Be{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(P(Me,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(P(Me,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ze(n)}add(e){return P(Me,"ADD",this.store.name,e,e),ze(this.store.add(e))}get(e){return ze(this.store.get(e)).next(t=>(void 0===t&&(t=null),P(Me,"GET",this.store.name,e,t),t))}delete(e){return P(Me,"DELETE",this.store.name,e),ze(this.store.delete(e))}count(){return P(Me,"COUNT",this.store.name),ze(this.store.count())}J(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new De((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{const e=this.cursor(n),t=[];return this.H(e,(e,n)=>{t.push(n)}).next(()=>t)}}Y(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new De((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}Z(e,t){P(Me,"DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const r=this.cursor(n);return this.H(r,(e,t,n)=>n.delete())}ee(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.H(r,t)}te(e){const t=this.cursor({});return new De((n,r)=>{t.onerror=e=>{const t=qe(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}H(e,t){const n=[];return new De((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const a=new Ue(i),o=t(i.primaryKey,i.value,a);if(o instanceof De){const e=o.catch(e=>(a.done(),De.reject(e)));n.push(e)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}}).next(()=>De.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ze(e){return new De((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=qe(e.target.error);n(t)}})}let Ge=!1;function qe(e){const t=Oe.M((0,c.ZQ)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new U("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ge||(Ge=!0,setTimeout(()=>{throw e},0)),e}}return e}const He="IndexBackfiller";class Ke{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}re(e){P(He,"Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const e=await this.ne.ie();P(He,"Documents written: ".concat(e))}catch(e){Ve(e)?P(He,"Ignoring IndexedDB error during index backfill: ",e):await Re(e)}await this.re(6e4)})}}class We{constructor(e,t){this.localStore=e,this.persistence=t}async ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){const n=new Set;let r=t,i=!0;return De.doWhile(()=>!0===i&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return P(He,"Processing collection: ".concat(t)),this.oe(e,t,r).next(e=>{r-=e,n.add(t)});i=!1})).next(()=>t-r)}oe(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this._e(r,n)).next(n=>(P(He,"Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>i.size)}))}_e(e,t){let n=e;return t.changes.forEach((e,t)=>{const r=Te(t);Ie(r,n)>0&&(n=r)}),new Pe(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Xe{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xe.ce=-1;const Ye=-1;function Qe(e){return null==e}function $e(e){return 0===e&&1/e==-1/0}function Je(e){return"number"==typeof e&&Number.isInteger(e)&&!$e(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Ze="\x01";function et(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=nt(t)),t=tt(e.get(n),t);return nt(t)}function tt(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Ze:n+="\x01\x11";break;default:n+=t}}return n}function nt(e){return e+Ze+"\x01"}function rt(e){const t=e.length;if(M(t>=2,64408,{path:e}),2===t)return M(e.charAt(0)===Ze&&"\x01"===e.charAt(1),56145,{path:e}),ae.emptyPath();const n=t-2,r=[];let i="";for(let a=0;a<t;){const t=e.indexOf(Ze,a);switch((t<0||t>n)&&R(50515,{path:e}),e.charAt(t+1)){case"\x01":const n=e.substring(a,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(a,t),i+="\0";break;case"\x11":i+=e.substring(a,t+1);break;default:R(61167,{path:e})}a=t+2}return new ae(r)}const it="remoteDocuments",at="owner",ot="owner",st="mutationQueues",lt="mutations",ct="batchId",ut="userMutationsIndex",ht=["userId","batchId"];function dt(e,t){return[e,et(t)]}function pt(e,t,n){return[e,et(t),n]}const ft={},mt="documentMutations",gt="remoteDocumentsV14",yt=["prefixPath","collectionGroup","readTime","documentId"],vt="documentKeyIndex",bt=["prefixPath","collectionGroup","documentId"],wt="collectionGroupIndex",St=["collectionGroup","readTime","prefixPath","documentId"],xt="remoteDocumentGlobal",Et="remoteDocumentGlobalKey",kt="targets",Ct="queryTargetsIndex",At=["canonicalId","targetId"],Tt="targetDocuments",Pt=["targetId","path"],It="documentTargetsIndex",_t=["path","targetId"],Nt="targetGlobalKey",Rt="targetGlobal",Dt="collectionParents",Mt=["collectionId","parent"],Ft="clientMetadata",Ot="bundles",Lt="namedQueries",Ut="indexConfiguration",jt="collectionGroupIndex",Vt="indexState",Bt=["indexId","uid"],zt="sequenceNumberIndex",Gt=["uid","sequenceNumber"],qt="indexEntries",Ht=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Kt="documentKeyIndex",Wt=["indexId","uid","orderedDocumentKey"],Xt="documentOverlays",Yt=["userId","collectionPath","documentId"],Qt="collectionPathOverlayIndex",$t=["userId","collectionPath","largestBatchId"],Jt="collectionGroupOverlayIndex",Zt=["userId","collectionGroup","largestBatchId"],en="globals",tn=[st,lt,mt,it,kt,at,Rt,Tt,Ft,xt,Dt,Ot,Lt],nn=[...tn,Xt],rn=[st,lt,mt,gt,kt,at,Rt,Tt,Ft,xt,Dt,Ot,Lt,Xt],an=rn,on=[...an,Ut,Vt,qt],sn=on,ln=[...on,en],cn=ln;class un extends Ne{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function hn(e,t){const n=O(e);return Oe.O(n.le,t)}function dn(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function pn(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class mn{constructor(e,t){this.comparator=e,this.root=t||yn.EMPTY}insert(e,t){return new mn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gn(this.root,e,this.comparator,!1)}getReverseIterator(){return new gn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gn(this.root,e,this.comparator,!0)}}class gn{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:yn.RED,this.left=null!=r?r:yn.EMPTY,this.right=null!=i?i:yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new yn(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return yn.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw R(43730,{key:this.key,value:this.value});if(this.right.isRed())throw R(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw R(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1,yn.EMPTY=new class{constructor(){this.size=0}get key(){throw R(57766)}get value(){throw R(16141)}get color(){throw R(16727)}get left(){throw R(29726)}get right(){throw R(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vn{constructor(e){this.comparator=e,this.data=new mn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bn(this.data.getIterator())}getIteratorFrom(e){return new bn(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof vn))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vn(this.comparator);return t.data=e,t}}class bn{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wn(e){return e.hasNext()?e.getNext():void 0}class Sn{constructor(e){this.fields=e,e.sort(se.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new vn(se.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return te(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class xn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class En{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new xn("Invalid base64 string: "+e):e}}(e);return new En(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new En(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const kn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cn(e){if(M(!!e,39018),"string"==typeof e){let t=0;const n=kn.exec(e);if(M(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:An(e.seconds),nanos:An(e.nanos)}}function An(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Tn(e){return"string"==typeof e?En.fromBase64String(e):En.fromUint8Array(e)}const Pn="server_timestamp",In="__type__",_n="__previous_value__",Nn="__local_write_time__";function Rn(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[In])||void 0===t?void 0:t.stringValue)===Pn}function Dn(e){const t=e.mapValue.fields[_n];return Rn(t)?Dn(t):t}function Mn(e){const t=Cn(e.mapValue.fields[Nn].timestampValue);return new ve(t.seconds,t.nanos)}class Fn{constructor(e,t,n,r,i,a,o,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const On="(default)";class Ln{constructor(e,t){this.projectId=e,this.database=t||On}static empty(){return new Ln("","")}get isDefaultDatabase(){return this.database===On}isEqual(e){return e instanceof Ln&&e.projectId===this.projectId&&e.database===this.database}}const Un="__type__",jn="__max__",Vn={mapValue:{fields:{__type__:{stringValue:jn}}}},Bn="__vector__",zn="value",Gn={nullValue:"NULL_VALUE"};function qn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rn(e)?4:sr(e)?9007199254740991:ar(e)?10:11:R(28295,{value:e})}function Hn(e,t){if(e===t)return!0;const n=qn(e);if(n!==qn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Mn(e).isEqual(Mn(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Cn(e.timestampValue),r=Cn(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Tn(e.bytesValue).isEqual(Tn(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return An(e.geoPointValue.latitude)===An(t.geoPointValue.latitude)&&An(e.geoPointValue.longitude)===An(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return An(e.integerValue)===An(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=An(e.doubleValue),r=An(t.doubleValue);return n===r?$e(n)===$e(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return te(e.arrayValue.values||[],t.arrayValue.values||[],Hn);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(dn(n)!==dn(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Hn(n[i],r[i])))return!1;return!0}(e,t);default:return R(52216,{left:e})}}function Kn(e,t){return void 0!==(e.values||[]).find(e=>Hn(e,t))}function Wn(e,t){if(e===t)return 0;const n=qn(e),r=qn(t);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=An(e.integerValue||e.doubleValue),r=An(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Xn(e.timestampValue,t.timestampValue);case 4:return Xn(Mn(e),Mn(t));case 5:return $(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Tn(e),r=Tn(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Q(n[i],r[i]);if(0!==e)return e}return Q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Q(An(e.latitude),An(t.latitude));return 0!==n?n:Q(An(e.longitude),An(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Yn(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,a){const o=e.fields||{},s=t.fields||{},l=null===(n=o[zn])||void 0===n?void 0:n.arrayValue,c=null===(r=s[zn])||void 0===r?void 0:r.arrayValue,u=Q((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(a=c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:Yn(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Vn.mapValue&&t===Vn.mapValue)return 0;if(e===Vn.mapValue)return 1;if(t===Vn.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=$(r[o],a[o]);if(0!==e)return e;const t=Wn(n[r[o]],i[a[o]]);if(0!==t)return t}return Q(r.length,a.length)}(e.mapValue,t.mapValue);default:throw R(23264,{he:n})}}function Xn(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Q(e,t);const n=Cn(e),r=Cn(t),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function Yn(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Wn(n[i],r[i]);if(e)return e}return Q(n.length,r.length)}function Qn(e){return $n(e)}function $n(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Cn(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Tn(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return le.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=$n(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat($n(e.fields[i]));return n+"}"}(e.mapValue):R(61005,{value:e})}function Jn(e){switch(qn(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Dn(e);return t?16+Jn(t):16;case 5:return 2*e.stringValue.length;case 6:return Tn(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Jn(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return pn(e.fields,(e,n)=>{t+=e.length+Jn(n)}),t}(e.mapValue);default:throw R(13486,{value:e})}}function Zn(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function er(e){return!!e&&"integerValue"in e}function tr(e){return!!e&&"arrayValue"in e}function nr(e){return!!e&&"nullValue"in e}function rr(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ir(e){return!!e&&"mapValue"in e}function ar(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Un])||void 0===t?void 0:t.stringValue)===Bn}function or(e){if(e.geoPointValue)return{geoPointValue:(0,a.A)({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:(0,a.A)({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return pn(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=or(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=or(e.arrayValue.values[n]);return t}return(0,a.A)({},e)}function sr(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===jn}const lr={mapValue:{fields:{[Un]:{stringValue:Bn},[zn]:{arrayValue:{}}}}};function cr(e){return"nullValue"in e?Gn:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Zn(Ln.empty(),le.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?ar(e)?lr:{mapValue:{}}:R(35942,{value:e})}function ur(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Zn(Ln.empty(),le.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?lr:"mapValue"in e?ar(e)?{mapValue:{}}:Vn:R(61959,{value:e})}function hr(e,t){const n=Wn(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function dr(e,t){const n=Wn(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ir(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=or(t)}setAll(e){let t=se.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=or(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ir(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ir(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){pn(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new pr(or(this.value))}}function fr(e){const t=[];return pn(e.fields,(e,n)=>{const r=new se([e]);if(ir(n)){const e=fr(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Sn(t)}class mr{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new mr(e,0,be.min(),be.min(),be.min(),pr.empty(),0)}static newFoundDocument(e,t,n,r){return new mr(e,1,t,be.min(),n,r,0)}static newNoDocument(e,t){return new mr(e,2,t,be.min(),be.min(),pr.empty(),0)}static newUnknownDocument(e,t){return new mr(e,3,t,be.min(),be.min(),pr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class gr{constructor(e,t){this.position=e,this.inclusive=t}}function yr(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?le.comparator(le.fromName(o.referenceValue),n.key):Wn(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function vr(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Hn(e.position[n],t.position[n]))return!1;return!0}class br{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function wr(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Sr{}class xr extends Sr{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Rr(e,t,n):"array-contains"===t?new Or(e,n):"in"===t?new Lr(e,n):"not-in"===t?new Ur(e,n):"array-contains-any"===t?new jr(e,n):new xr(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Dr(e,n):new Mr(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Wn(t,this.value)):null!==t&&qn(this.value)===qn(t)&&this.matchesComparison(Wn(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return R(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends Sr{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Er(e,t)}matches(e){return kr(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kr(e){return"and"===e.op}function Cr(e){return"or"===e.op}function Ar(e){return Tr(e)&&kr(e)}function Tr(e){for(const t of e.filters)if(t instanceof Er)return!1;return!0}function Pr(e){if(e instanceof xr)return e.field.canonicalString()+e.op.toString()+Qn(e.value);if(Ar(e))return e.filters.map(e=>Pr(e)).join(",");{const t=e.filters.map(e=>Pr(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ir(e,t){return e instanceof xr?function(e,t){return t instanceof xr&&e.op===t.op&&e.field.isEqual(t.field)&&Hn(e.value,t.value)}(e,t):e instanceof Er?function(e,t){return t instanceof Er&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Ir(n,t.filters[r]),!0)}(e,t):void R(19439)}function _r(e,t){const n=e.filters.concat(t);return Er.create(n,e.op)}function Nr(e){return e instanceof xr?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Qn(e.value))}(e):e instanceof Er?function(e){return e.op.toString()+" {"+e.getFilters().map(Nr).join(" ,")+"}"}(e):"Filter"}class Rr extends xr{constructor(e,t,n){super(e,t,n),this.key=le.fromName(n.referenceValue)}matches(e){const t=le.comparator(e.key,this.key);return this.matchesComparison(t)}}class Dr extends xr{constructor(e,t){super(e,"in",t),this.keys=Fr("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Mr extends xr{constructor(e,t){super(e,"not-in",t),this.keys=Fr("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Fr(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>le.fromName(e.referenceValue))}class Or extends xr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tr(t)&&Kn(t.arrayValue,this.value)}}class Lr extends xr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Kn(this.value.arrayValue,t)}}class Ur extends xr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Kn(this.value.arrayValue,t)}}class jr extends xr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tr(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Kn(this.value.arrayValue,e))}}class Vr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}}function Br(e){return new Vr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function zr(e){const t=O(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Pr(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Qe(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Qn(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Qn(e)).join(",")),t.Te=e}return t.Te}function Gr(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!wr(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ir(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vr(e.startAt,t.startAt)&&vr(e.endAt,t.endAt)}function qr(e){return le.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Hr(e,t){return e.filters.filter(e=>e instanceof xr&&e.field.isEqual(t))}function Kr(e,t,n){let r=Gn,i=!0;for(const a of Hr(e,t)){let e=Gn,t=!0;switch(a.op){case"<":case"<=":e=cr(a.value);break;case"==":case"in":case">=":e=a.value;break;case">":e=a.value,t=!1;break;case"!=":case"not-in":e=Gn}hr({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let a=0;a<e.orderBy.length;++a)if(e.orderBy[a].field.isEqual(t)){const e=n.position[a];hr({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Wr(e,t,n){let r=Vn,i=!0;for(const a of Hr(e,t)){let e=Vn,t=!0;switch(a.op){case">=":case">":e=ur(a.value),t=!1;break;case"==":case"in":case"<=":e=a.value;break;case"<":e=a.value,t=!1;break;case"!=":case"not-in":e=Vn}dr({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let a=0;a<e.orderBy.length;++a)if(e.orderBy[a].field.isEqual(t)){const e=n.position[a];dr({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Xr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Yr(e,t,n,r,i,a,o,s){return new Xr(e,t,n,r,i,a,o,s)}function Qr(e){return new Xr(e)}function $r(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Jr(e){return null!==e.collectionGroup}function Zr(e){const t=O(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new vn(se.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new br(r,n))}),e.has(se.keyField().canonicalString())||t.Ie.push(new br(se.keyField(),n))}return t.Ie}function ei(e){const t=O(e);return t.Ee||(t.Ee=ti(t,Zr(e))),t.Ee}function ti(e,t){if("F"===e.limitType)return Br(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new br(e.field,t)});const n=e.endAt?new gr(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new gr(e.startAt.position,e.startAt.inclusive):null;return Br(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ni(e,t,n){return new Xr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ri(e,t){return Gr(ei(e),ei(t))&&e.limitType===t.limitType}function ii(e){return"".concat(zr(ei(e)),"|lt:").concat(e.limitType)}function ai(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Nr(e)).join(", "),"]")),Qe(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Qn(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Qn(e)).join(",")),"Target(".concat(t,")")}(ei(e)),"; limitType=").concat(e.limitType,")")}function oi(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):le.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Zr(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=yr(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Zr(e),t))&&!(e.endAt&&!function(e,t,n){const r=yr(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Zr(e),t))}(e,t)}function si(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function li(e){return(t,n)=>{let r=!1;for(const i of Zr(e)){const e=ci(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ci(e,t,n){const r=e.field.isKeyField()?le.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Wn(r,i):R(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return R(19790,{direction:e.dir})}}class ui{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){pn(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return fn(this.inner)}size(){return this.innerSize}}const hi=new mn(le.comparator);function di(){return hi}const pi=new mn(le.comparator);function fi(){let e=pi;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function mi(e){let t=pi;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function gi(){return vi()}function yi(){return vi()}function vi(){return new ui(e=>e.toString(),(e,t)=>e.isEqual(t))}const bi=new mn(le.comparator),wi=new vn(le.comparator);function Si(){let e=wi;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const xi=new vn(Q);function Ei(){return xi}function ki(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$e(t)?"-0":t}}function Ci(e){return{integerValue:""+e}}function Ai(e,t){return Je(t)?Ci(t):ki(e,t)}class Ti{constructor(){this._=void 0}}function Pi(e,t,n){return e instanceof Ni?function(e,t){const n={fields:{[In]:{stringValue:Pn},[Nn]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Rn(t)&&(t=Dn(t)),t&&(n.fields[_n]=t),{mapValue:n}}(n,t):e instanceof Ri?Di(e,t):e instanceof Mi?Fi(e,t):function(e,t){const n=_i(e,t),r=Li(n)+Li(e.Ae);return er(n)&&er(e.Ae)?Ci(r):ki(e.serializer,r)}(e,t)}function Ii(e,t,n){return e instanceof Ri?Di(e,t):e instanceof Mi?Fi(e,t):n}function _i(e,t){return e instanceof Oi?function(e){return er(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ni extends Ti{}class Ri extends Ti{constructor(e){super(),this.elements=e}}function Di(e,t){const n=Ui(t);for(const r of e.elements)n.some(e=>Hn(e,r))||n.push(r);return{arrayValue:{values:n}}}class Mi extends Ti{constructor(e){super(),this.elements=e}}function Fi(e,t){let n=Ui(t);for(const r of e.elements)n=n.filter(e=>!Hn(e,r));return{arrayValue:{values:n}}}class Oi extends Ti{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Li(e){return An(e.integerValue||e.doubleValue)}function Ui(e){return tr(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ji{constructor(e,t){this.field=e,this.transform=t}}class Vi{constructor(e,t){this.version=e,this.transformResults=t}}class Bi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zi(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Gi{}function qi(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ea(e.key,Bi.none()):new Yi(e.key,e.data,Bi.none());{const n=e.data,r=pr.empty();let i=new vn(se.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Qi(e.key,r,new Sn(i.toArray()),Bi.none())}}function Hi(e,t,n){e instanceof Yi?function(e,t,n){const r=e.value.clone(),i=Ji(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Qi?function(e,t,n){if(!zi(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ji(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll($i(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ki(e,t,n,r){return e instanceof Yi?function(e,t,n,r){if(!zi(e.precondition,t))return n;const i=e.value.clone(),a=Zi(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Qi?function(e,t,n,r){if(!zi(e.precondition,t))return n;const i=Zi(e.fieldTransforms,r,t),a=t.data;return a.setAll($i(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return zi(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Wi(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=_i(r.transform,e||null);null!=i&&(null===n&&(n=pr.empty()),n.set(r.field,i))}return n||null}function Xi(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&te(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ri&&t instanceof Ri||e instanceof Mi&&t instanceof Mi?te(e.elements,t.elements,Hn):e instanceof Oi&&t instanceof Oi?Hn(e.Ae,t.Ae):e instanceof Ni&&t instanceof Ni}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Yi extends Gi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Qi extends Gi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function $i(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ji(e,t,n){const r=new Map;M(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Ii(o,s,n[i]))}return r}function Zi(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,Pi(e,a,t))}return r}class ea extends Gi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ta extends Gi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class na{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Hi(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ki(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ki(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=yi();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=qi(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(be.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Si())}isEqual(e){return this.batchId===e.batchId&&te(this.mutations,e.mutations,(e,t)=>Xi(e,t))&&te(this.baseMutations,e.baseMutations,(e,t)=>Xi(e,t))}}class ra{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){M(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=bi;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new ra(e,t,n,r)}}class ia{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class aa{constructor(e,t){this.count=e,this.unchangedNames=t}}var oa,sa;function la(e){switch(e){case L.OK:return R(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return R(15467,{code:e})}}function ca(e){if(void 0===e)return I("GRPC error has no .code"),L.UNKNOWN;switch(e){case oa.OK:return L.OK;case oa.CANCELLED:return L.CANCELLED;case oa.UNKNOWN:return L.UNKNOWN;case oa.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case oa.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case oa.INTERNAL:return L.INTERNAL;case oa.UNAVAILABLE:return L.UNAVAILABLE;case oa.UNAUTHENTICATED:return L.UNAUTHENTICATED;case oa.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case oa.NOT_FOUND:return L.NOT_FOUND;case oa.ALREADY_EXISTS:return L.ALREADY_EXISTS;case oa.PERMISSION_DENIED:return L.PERMISSION_DENIED;case oa.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case oa.ABORTED:return L.ABORTED;case oa.OUT_OF_RANGE:return L.OUT_OF_RANGE;case oa.UNIMPLEMENTED:return L.UNIMPLEMENTED;case oa.DATA_LOSS:return L.DATA_LOSS;default:return R(39323,{code:e})}}(sa=oa||(oa={}))[sa.OK=0]="OK",sa[sa.CANCELLED=1]="CANCELLED",sa[sa.UNKNOWN=2]="UNKNOWN",sa[sa.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sa[sa.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sa[sa.NOT_FOUND=5]="NOT_FOUND",sa[sa.ALREADY_EXISTS=6]="ALREADY_EXISTS",sa[sa.PERMISSION_DENIED=7]="PERMISSION_DENIED",sa[sa.UNAUTHENTICATED=16]="UNAUTHENTICATED",sa[sa.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sa[sa.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sa[sa.ABORTED=10]="ABORTED",sa[sa.OUT_OF_RANGE=11]="OUT_OF_RANGE",sa[sa.UNIMPLEMENTED=12]="UNIMPLEMENTED",sa[sa.INTERNAL=13]="INTERNAL",sa[sa.UNAVAILABLE=14]="UNAVAILABLE",sa[sa.DATA_LOSS=15]="DATA_LOSS";let ua=null;function ha(){return new TextEncoder}const da=new r([4294967295,4294967295],0);function pa(e){const t=ha().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function fa(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new r([n,i],0),new r([a,o],0)]}class ma{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ga("Invalid padding: ".concat(t));if(n<0)throw new ga("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ga("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ga("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=r.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(da)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=pa(e),[n,r]=fa(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new ma(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.ge)return;const t=pa(e),[n,r]=fa(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ya{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,va.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ya(be.min(),r,new mn(Q),di(),Si())}}class va{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new va(n,t,Si(),Si(),Si())}}class ba{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class wa{constructor(e,t){this.targetId=e,this.Ce=t}}class Sa{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:En.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class xa{constructor(){this.ve=0,this.Fe=Ca(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Si(),t=Si(),n=Si();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:R(38017,{changeType:i})}}),new va(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Ca()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,M(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ea{constructor(e){this.Ge=e,this.ze=new Map,this.je=di(),this.Je=ka(),this.He=ka(),this.Ye=new mn(Q)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:R(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(qr(a))if(0===n){const e=new le(a.path);this.et(t,e,mr.newNoDocument(e,be.min()))}else M(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),a=n?this.ct(n,e,r):1;if(0!==a){this.it(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=ua)||void 0===i||i.lt(function(e,t,n,r,i,a,o,s,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(u.bloomFilter={applied:0===i,hashCount:null!==(a=null===h||void 0===h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(o=null===h||void 0===h||null===(s=h.bits)||void 0===s||null===(s=s.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===h||void 0===h||null===(c=h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,a))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,o;try{a=Tn(n).toUint8Array()}catch(e){if(e instanceof xn)return _("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new ma(a,r,i)}catch(e){return _(e instanceof ga?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.ge?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&qr(i.target)){const t=new le(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,mr.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Si();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new ya(e,t,this.Ye,this.je,n);return this.je=di(),this.Je=ka(),this.He=ka(),this.Ye=new mn(Q),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new xa,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new vn(Q),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new vn(Q),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||P("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xa),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ka(){return new mn(le.comparator)}function Ca(){return new mn(le.comparator)}const Aa={asc:"ASCENDING",desc:"DESCENDING"},Ta={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pa={and:"AND",or:"OR"};class Ia{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _a(e,t){return e.useProto3Json||Qe(t)?t:{value:t}}function Na(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ra(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Da(e,t){return Na(e,t.toTimestamp())}function Ma(e){return M(!!e,49232),be.fromTimestamp(function(e){const t=Cn(e);return new ve(t.seconds,t.nanos)}(e))}function Fa(e,t){return Oa(e,t).canonicalString()}function Oa(e,t){const n=function(e){return new ae(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function La(e){const t=ae.fromString(e);return M(ao(t),10190,{key:t.toString()}),t}function Ua(e,t){return Fa(e.databaseId,t.path)}function ja(e,t){const n=La(t);if(n.get(1)!==e.databaseId.projectId)throw new U(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new U(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new le(Ga(n))}function Va(e,t){return Fa(e.databaseId,t)}function Ba(e){const t=La(e);return 4===t.length?ae.emptyPath():Ga(t)}function za(e){return new ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ga(e){return M(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function qa(e,t,n){return{name:Ua(e,t),fields:n.value.mapValue.fields}}function Ha(e,t,n){const r=ja(e,t.name),i=Ma(t.updateTime),a=t.createTime?Ma(t.createTime):be.min(),o=new pr({mapValue:{fields:t.fields}}),s=mr.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Ka(e,t){let n;if(t instanceof Yi)n={update:qa(e,t.key,t.value)};else if(t instanceof ea)n={delete:Ua(e,t.key)};else if(t instanceof Qi)n={update:qa(e,t.key,t.data),updateMask:io(t.fieldMask)};else{if(!(t instanceof ta))return R(16599,{Vt:t.type});n={verify:Ua(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Ni)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ri)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Mi)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Oi)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw R(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Da(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:R(27497)}(e,t.precondition)),n}function Wa(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Bi.updateTime(Ma(e.updateTime)):void 0!==e.exists?Bi.exists(e.exists):Bi.none()}(t.currentDocument):Bi.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;if("setToServerValue"in t)M("REQUEST_TIME"===t.setToServerValue,16630,{proto:t}),n=new Ni;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ri(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Mi(e)}else"increment"in t?n=new Oi(e,t.increment):R(16584,{proto:t});const r=se.fromServerFormat(t.fieldPath);return new ji(r,n)}(e,t)):[];if(t.update){t.update.name;const i=ja(e,t.update.name),a=new pr({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Sn(t.map(e=>se.fromServerFormat(e)))}(t.updateMask);return new Qi(i,a,e,n,r)}return new Yi(i,a,n,r)}if(t.delete){const r=ja(e,t.delete);return new ea(r,n)}if(t.verify){const r=ja(e,t.verify);return new ta(r,n)}return R(1463,{proto:t})}function Xa(e,t){return{documents:[Va(e,t.path)]}}function Ya(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Va(e,i);const a=function(e){if(0!==e.length)return ro(Er.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:to(e.field),direction:Ja(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=_a(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Qa(e){let t=Ba(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){M(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=$a(e);return t instanceof Er&&Ar(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new br(no(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Qe(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new gr(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new gr(n,t)}(n.endAt)),Yr(t,i,o,a,s,"F",l,c)}function $a(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=no(e.unaryFilter.field);return xr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=no(e.unaryFilter.field);return xr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=no(e.unaryFilter.field);return xr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=no(e.unaryFilter.field);return xr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return R(61313);default:return R(60726)}}(e):void 0!==e.fieldFilter?function(e){return xr.create(no(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return R(58110);default:return R(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Er.create(e.compositeFilter.filters.map(e=>$a(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return R(1026)}}(e.compositeFilter.op))}(e):R(30097,{filter:e})}function Ja(e){return Aa[e]}function Za(e){return Ta[e]}function eo(e){return Pa[e]}function to(e){return{fieldPath:e.canonicalString()}}function no(e){return se.fromServerFormat(e.fieldPath)}function ro(e){return e instanceof xr?function(e){if("=="===e.op){if(rr(e.value))return{unaryFilter:{field:to(e.field),op:"IS_NAN"}};if(nr(e.value))return{unaryFilter:{field:to(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rr(e.value))return{unaryFilter:{field:to(e.field),op:"IS_NOT_NAN"}};if(nr(e.value))return{unaryFilter:{field:to(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(e.field),op:Za(e.op),value:e.value}}}(e):e instanceof Er?function(e){const t=e.getFilters().map(e=>ro(e));return 1===t.length?t[0]:{compositeFilter:{op:eo(e.op),filters:t}}}(e):R(54877,{filter:e})}function io(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ao(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class oo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:be.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:be.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:En.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class so{constructor(e){this.yt=e}}function lo(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:co(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ua(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Na(e,t.version.toTimestamp()),createTime:Na(e,t.createTime.toTimestamp())}}(e.yt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:uo(t.version)};else{if(!t.isUnknownDocument())return R(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:uo(t.version)}}return r}function co(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function uo(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ho(e){const t=new ve(e.seconds,e.nanoseconds);return be.fromTimestamp(t)}function po(e,t){const n=(t.baseMutations||[]).map(t=>Wa(e.yt,t));for(let a=0;a<t.mutations.length-1;++a){const e=t.mutations[a];if(a+1<t.mutations.length&&void 0!==t.mutations[a+1].transform){const n=t.mutations[a+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(a+1,1),++a}}const r=t.mutations.map(t=>Wa(e.yt,t)),i=ve.fromMillis(t.localWriteTimeMs);return new na(t.batchId,i,n,r)}function fo(e){const t=ho(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?ho(e.lastLimboFreeSnapshotVersion):be.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){const t=e.documents.length;return M(1===t,1966,{count:t}),ei(Qr(Ba(e.documents[0])))}(e.query):function(e){return ei(Qa(e))}(e.query),new oo(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,En.fromBase64String(e.resumeToken))}function mo(e,t){const n=uo(t.snapshotVersion),r=uo(t.lastLimboFreeSnapshotVersion);let i;i=qr(t.target)?Xa(e.yt,t.target):Ya(e.yt,t.target).ft;const a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:zr(t.target),readTime:n,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function go(e){const t=Qa({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ni(t,t.limit,"L"):t}function yo(e,t){return new ia(t.largestBatchId,Wa(e.yt,t.overlayMutation))}function vo(e,t){const n=t.path.lastSegment();return[e,et(t.path.popLast()),n]}function bo(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:uo(r.readTime),documentKey:et(r.documentKey.path),largestBatchId:r.largestBatchId}}class wo{getBundleMetadata(e,t){return So(e).get(t).next(e=>{if(e)return function(e){return{id:e.bundleId,createTime:ho(e.createTime),version:e.version}}(e)})}saveBundleMetadata(e,t){return So(e).put(function(e){return{bundleId:e.id,createTime:uo(Ma(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return xo(e).get(t).next(e=>{if(e)return function(e){return{name:e.name,query:go(e.bundledQuery),readTime:ho(e.readTime)}}(e)})}saveNamedQuery(e,t){return xo(e).put(function(e){return{name:e.name,readTime:uo(Ma(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function So(e){return hn(e,Ot)}function xo(e){return hn(e,Lt)}class Eo{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const n=t.uid||"";return new Eo(e,n)}getOverlay(e,t){return ko(e).get(vo(this.userId,t)).next(e=>e?yo(this.serializer,e):null)}getOverlays(e,t){const n=gi();return De.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){const r=[];return n.forEach((n,i)=>{const a=new ia(t,i);r.push(this.St(e,a))}),De.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(et(e.getCollectionPath())));const i=[];return r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(ko(e).Z(Qt,r))}),De.waitFor(i)}getOverlaysForCollection(e,t,n){const r=gi(),i=et(t),a=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ko(e).J(Qt,a).next(e=>{for(const t of e){const e=yo(this.serializer,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const i=gi();let a;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ko(e).ee({index:Jt,range:o},(e,t,n)=>{const o=yo(this.serializer,t);i.size()<r||o.largestBatchId===a?(i.set(o.getKey(),o),a=o.largestBatchId):n.done()}).next(()=>i)}St(e,t){return ko(e).put(function(e,t,n){const[r,i,a]=vo(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:a,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ka(e.yt,n.mutation)}}(this.serializer,this.userId,t))}}function ko(e){return hn(e,Xt)}class Co{bt(e){return hn(e,en)}getSessionToken(e){return this.bt(e).get("sessionToken").next(e=>{const t=null===e||void 0===e?void 0:e.value;return t?En.fromUint8Array(t):En.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Ao{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(An(e.integerValue));else if("doubleValue"in e){const n=An(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),$e(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Cn(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Tn(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?sr(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):ar(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):R(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=zn,a=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(An(a)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),le.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ao.Kt=new Ao;const To=255;function Po(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function Io(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Po(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}class _o{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Gt(n.value),n=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Ht()}Yt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Gt(e);else if(e<2048)this.Gt(960|e>>>6),this.Gt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Gt(480|e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e);else{const e=t.codePointAt(0);this.Gt(240|e>>>18),this.Gt(128|63&e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e)}}this.zt()}Zt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Jt(e);else if(e<2048)this.Jt(960|e>>>6),this.Jt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Jt(480|e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e);else{const e=t.codePointAt(0);this.Jt(240|e>>>18),this.Jt(128|63&e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e)}}this.Ht()}Xt(e){const t=this.en(e),n=Io(t);this.tn(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}nn(e){const t=this.en(e),n=Io(t);this.tn(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}rn(){this.sn(To),this.sn(255)}_n(){this.an(To),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Gt(e){const t=255&e;0===t?(this.sn(0),this.sn(255)):t===To?(this.sn(To),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;0===t?(this.an(0),this.an(255)):t===To?(this.an(To),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class No{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Ro{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Do{constructor(){this.cn=new _o,this.ln=new No(this.cn),this.hn=new Ro(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return 0===e?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Mo{constructor(e,t,n,r){this.Tn=e,this.In=t,this.En=n,this.dn=r}An(){const e=this.dn.length,t=0===e||255===this.dn[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.dn,0),t!==e?n.set([0],this.dn.length):++n[n.length-1],new Mo(this.Tn,this.In,this.En,n)}Rn(e,t,n){return{indexId:this.Tn,uid:e,arrayValue:Lo(this.En),directionalValue:Lo(this.dn),orderedDocumentKey:Lo(t),documentKey:n.path.toArray()}}Vn(e,t,n){const r=this.Rn(e,t,n);return[r.indexId,r.uid,r.arrayValue,r.directionalValue,r.orderedDocumentKey,r.documentKey]}}function Fo(e,t){let n=e.Tn-t.Tn;return 0!==n?n:(n=Oo(e.En,t.En),0!==n?n:(n=Oo(e.dn,t.dn),0!==n?n:le.comparator(e.In,t.In)))}function Oo(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}function Lo(e){return(0,c.Ov)()?function(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(e):e}function Uo(e){return"string"!=typeof e?e:function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e)}class jo{constructor(e){this.mn=new vn((e,t)=>se.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const e=t;e.isInequality()?this.mn=this.mn.add(e):this.gn.push(e)}}get pn(){return this.mn.size>1}yn(e){if(M(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=xe(e);if(void 0!==t&&!this.wn(t))return!1;const n=Ee(e);let r=new Set,i=0,a=0;for(;i<n.length&&this.wn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.mn.size>0){const e=this.mn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.Sn(e,t)||!this.bn(this.fn[a++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(a>=this.fn.length||!this.bn(this.fn[a++],e))return!1}return!0}Dn(){if(this.pn)return null;let e=new vn(se.comparator);const t=[];for(const n of this.gn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new ke(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new ke(n.field,0))}for(const n of this.fn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new ke(n.field,"asc"===n.dir?0:1)));return new Se(Se.UNKNOWN_ID,this.collectionId,t,Ce.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Vo(e){if(M(e instanceof xr||e instanceof Er,20012),e instanceof xr){if(e instanceof Lr){var t;const n=(null===(t=e.value.arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(t=>xr.create(e.field,"==",t)))||[];return Er.create(n,"or")}return e}const n=e.filters.map(e=>Vo(e));return Er.create(n,e.op)}function Bo(e){if(0===e.getFilters().length)return[];const t=Ho(Vo(e));return M(qo(t),7391),zo(t)||Go(t)?[t]:t.getFilters()}function zo(e){return e instanceof xr}function Go(e){return e instanceof Er&&Ar(e)}function qo(e){return zo(e)||Go(e)||function(e){if(e instanceof Er&&Cr(e)){for(const t of e.getFilters())if(!zo(t)&&!Go(t))return!1;return!0}return!1}(e)}function Ho(e){if(M(e instanceof xr||e instanceof Er,34018),e instanceof xr)return e;if(1===e.filters.length)return Ho(e.filters[0]);const t=e.filters.map(e=>Ho(e));let n=Er.create(t,e.op);return n=Xo(n),qo(n)?n:(M(n instanceof Er,64498),M(kr(n),40251),M(n.filters.length>1,57927),n.filters.reduce((e,t)=>Ko(e,t)))}function Ko(e,t){let n;return M(e instanceof xr||e instanceof Er,38388),M(t instanceof xr||t instanceof Er,25473),n=e instanceof xr?t instanceof xr?function(e,t){return Er.create([e,t],"and")}(e,t):Wo(e,t):t instanceof xr?Wo(t,e):function(e,t){if(M(e.filters.length>0&&t.filters.length>0,48005),kr(e)&&kr(t))return _r(e,t.getFilters());const n=Cr(e)?e:t,r=Cr(e)?t:e,i=n.filters.map(e=>Ko(e,r));return Er.create(i,"or")}(e,t),Xo(n)}function Wo(e,t){if(kr(t))return _r(t,e.getFilters());{const n=t.filters.map(t=>Ko(e,t));return Er.create(n,"or")}}function Xo(e){if(M(e instanceof xr||e instanceof Er,11850),e instanceof xr)return e;const t=e.getFilters();if(1===t.length)return Xo(t[0]);if(Tr(e))return e;const n=t.map(e=>Xo(e)),r=[];return n.forEach(t=>{t instanceof xr?r.push(t):t instanceof Er&&(t.op===e.op?r.push(...t.filters):r.push(t))}),1===r.length?r[0]:Er.create(r,e.op)}class Yo{constructor(){this.Cn=new Qo}addToCollectionParentIndex(e,t){return this.Cn.add(t),De.resolve()}getCollectionParents(e,t){return De.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return De.resolve()}deleteFieldIndex(e,t){return De.resolve()}deleteAllFieldIndexes(e){return De.resolve()}createTargetIndexes(e,t){return De.resolve()}getDocumentsMatchingTarget(e,t){return De.resolve(null)}getIndexType(e,t){return De.resolve(0)}getFieldIndexes(e,t){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,t){return De.resolve(Pe.min())}getMinOffsetFromCollectionGroup(e,t){return De.resolve(Pe.min())}updateCollectionGroup(e,t,n){return De.resolve()}updateIndexEntries(e,t){return De.resolve()}}class Qo{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vn(ae.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new vn(ae.comparator)).toArray()}}const $o="IndexedDbIndexManager",Jo=new Uint8Array(0);class Zo{constructor(e,t){this.databaseId=t,this.vn=new Qo,this.Fn=new ui(e=>zr(e),(e,t)=>Gr(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.vn.add(t)});const i={collectionId:n,parent:et(r)};return es(e).put(i)}return De.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[ne(t),""],!1,!0);return es(e).J(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(rt(r.parent))}return n})}addFieldIndex(e,t){const n=ns(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=rs(e);return i.next(e=>{n.put(bo(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){const n=ns(e),r=rs(e),i=ts(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=ns(e),n=ts(e),r=rs(e);return t.Z().next(()=>n.Z()).next(()=>r.Z())}createTargetIndexes(e,t){return De.forEach(this.Mn(t),t=>this.getIndexType(e,t).next(n=>{if(0===n||1===n){const n=new jo(t).Dn();if(null!=n)return this.addFieldIndex(e,n)}}))}getDocumentsMatchingTarget(e,t){const n=ts(e);let r=!0;const i=new Map;return De.forEach(this.Mn(t),t=>this.xn(e,t).next(e=>{r&&(r=!!e),i.set(t,e)})).next(()=>{if(r){let e=Si();const r=[];return De.forEach(i,(i,a)=>{P($o,"Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map(e=>"".concat(e.fieldPath,":").concat(e.kind)).join(","))}(i)," to execute ").concat(zr(t)));const o=function(e,t){const n=xe(t);if(void 0===n)return null;for(const r of Hr(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(a,i),s=function(e,t){const n=new Map;for(const r of Ee(t))for(const t of Hr(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(a,i),l=function(e,t){const n=[];let r=!0;for(const i of Ee(t)){const t=0===i.kind?Kr(e,i.fieldPath,e.startAt):Wr(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new gr(n,r)}(a,i),c=function(e,t){const n=[];let r=!0;for(const i of Ee(t)){const t=0===i.kind?Wr(e,i.fieldPath,e.endAt):Kr(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new gr(n,r)}(a,i),u=this.On(i,a,l),h=this.On(i,a,c),d=this.Nn(i,a,s),p=this.Bn(i.indexId,o,u,l.inclusive,h,c.inclusive,d);return De.forEach(p,i=>n.Y(i,t.limit).next(t=>{t.forEach(t=>{const n=le.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return De.resolve(null)})}Mn(e){let t=this.Fn.get(e);return t||(t=0===e.filters.length?[e]:Bo(Er.create(e.filters,"and")).map(t=>Br(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,t),t)}Bn(e,t,n,r,i,a,o){const s=(null!=t?t.length:1)*Math.max(n.length,i.length),l=s/(null!=t?t.length:1),c=[];for(let u=0;u<s;++u){const s=t?this.Ln(t[u/l]):Jo,h=this.kn(e,s,n[u%l],r),d=this.qn(e,s,i[u%l],a),p=o.map(t=>this.kn(e,s,t,!0));c.push(...this.createRange(h,d,p))}return c}kn(e,t,n,r){const i=new Mo(e,le.empty(),t,n);return r?i:i.An()}qn(e,t,n,r){const i=new Mo(e,le.empty(),t,n);return r?i.An():i}xn(e,t){const n=new jo(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(const r of e)n.yn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t})}getIndexType(e,t){let n=2;const r=this.Mn(t);return De.forEach(r,t=>this.xn(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new vn(se.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n)}Qn(e,t){const n=new Do;for(const r of Ee(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Pn(r.kind);Ao.Kt.Dt(e,i)}return n.un()}Ln(e){const t=new Do;return Ao.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const n=new Do;return Ao.Kt.Dt(Zn(this.databaseId,t),n.Pn(function(e){const t=Ee(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.un()}Nn(e,t,n){if(null===n)return[];let r=[];r.push(new Do);let i=0;for(const a of Ee(e)){const e=n[i++];for(const n of r)if(this.Un(t,a.fieldPath)&&tr(e))r=this.Kn(r,a,e);else{const t=n.Pn(a.kind);Ao.Kt.Dt(e,t)}}return this.Wn(r)}On(e,t,n){return this.Nn(e,t,n.position)}Wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].un();return t}Kn(e,t,n){const r=[...e],i=[];for(const a of n.arrayValue.values||[])for(const e of r){const n=new Do;n.seed(e.un()),Ao.Kt.Dt(a,n.Pn(t.kind)),i.push(n)}return i}Un(e,t){return!!e.filters.find(e=>e instanceof xr&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=ns(e),r=rs(e);return(t?n.J(jt,IDBKeyRange.bound(t,t)):n.J()).next(e=>{const t=[];return De.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new Ce(t.sequenceNumber,new Pe(ho(t.readTime),new le(rt(t.documentKey)),t.largestBatchId)):Ce.empty(),r=e.fields.map(e=>{let[t,n]=e;return new ke(se.fromServerFormat(t),n)});return new Se(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Q(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=ns(e),i=rs(e);return this.Gn(e).next(e=>r.J(jt,IDBKeyRange.bound(t,t)).next(t=>De.forEach(t,t=>i.put(bo(t.indexId,this.uid,e,n)))))}updateIndexEntries(e,t){const n=new Map;return De.forEach(t,(t,r)=>{const i=n.get(t.collectionGroup);return(i?De.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(n.set(t.collectionGroup,i),De.forEach(i,n=>this.zn(e,t,n).next(t=>{const i=this.jn(r,n);return t.isEqual(i)?De.resolve():this.Jn(e,r,n,t,i)}))))})}Hn(e,t,n,r){return ts(e).put(r.Rn(this.uid,this.$n(n,t.key),t.key))}Yn(e,t,n,r){return ts(e).delete(r.Vn(this.uid,this.$n(n,t.key),t.key))}zn(e,t,n){const r=ts(e);let i=new vn(Fo);return r.ee({index:Kt,range:IDBKeyRange.only([n.indexId,this.uid,Lo(this.$n(n,t))])},(e,r)=>{i=i.add(new Mo(n.indexId,t,Uo(r.arrayValue),Uo(r.directionalValue)))}).next(()=>i)}jn(e,t){let n=new vn(Fo);const r=this.Qn(t,e);if(null==r)return n;const i=xe(t);if(null!=i){const a=e.data.field(i.fieldPath);if(tr(a))for(const i of a.arrayValue.values||[])n=n.add(new Mo(t.indexId,e.key,this.Ln(i),r))}else n=n.add(new Mo(t.indexId,e.key,Jo,r));return n}Jn(e,t,n,r,i){P($o,"Updating index entries for document '%s'",t.key);const a=[];return function(e,t,n,r,i){const a=e.getIterator(),o=t.getIterator();let s=wn(a),l=wn(o);for(;s||l;){let e=!1,t=!1;if(s&&l){const r=n(s,l);r<0?t=!0:r>0&&(e=!0)}else null!=s?t=!0:e=!0;e?(r(l),l=wn(o)):t?(i(s),s=wn(a)):(s=wn(a),l=wn(o))}}(r,i,Fo,r=>{a.push(this.Hn(e,t,n,r))},r=>{a.push(this.Yn(e,t,n,r))}),De.waitFor(a)}Gn(e){let t=1;return rs(e).ee({index:zt,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>Fo(e,t)).filter((e,t,n)=>!t||0!==Fo(e,n[t-1]));const r=[];r.push(e);for(const a of n){const n=Fo(a,e),i=Fo(a,t);if(0===n)r[0]=e.An();else if(n>0&&i<0)r.push(a),r.push(a.An());else if(i>0)break}r.push(t);const i=[];for(let a=0;a<r.length;a+=2){if(this.Zn(r[a],r[a+1]))return[];const e=r[a].Vn(this.uid,Jo,le.empty()),t=r[a+1].Vn(this.uid,Jo,le.empty());i.push(IDBKeyRange.bound(e,t))}return i}Zn(e,t){return Fo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(is)}getMinOffset(e,t){return De.mapArray(this.Mn(t),t=>this.xn(e,t).next(e=>e||R(44426))).next(is)}}function es(e){return hn(e,Dt)}function ts(e){return hn(e,qt)}function ns(e){return hn(e,Ut)}function rs(e){return hn(e,Vt)}function is(e){M(0!==e.length,28825);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Ie(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Pe(t.readTime,t.documentKey,n)}const as={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},os=41943040;class ss{static withCacheSize(e){return new ss(e,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function ls(e,t,n){const r=e.store(lt),i=e.store(mt),a=[],o=IDBKeyRange.only(n.batchId);let s=0;const l=r.ee({range:o},(e,t,n)=>(s++,n.delete()));a.push(l.next(()=>{M(1===s,47070,{batchId:n.batchId})}));const c=[];for(const u of n.mutations){const e=pt(t,u.key.path,n.batchId);a.push(i.delete(e)),c.push(u.key)}return De.waitFor(a).next(()=>c)}function cs(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw R(14731);t=e.noDocument}return JSON.stringify(t).length}ss.DEFAULT_COLLECTION_PERCENTILE=10,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ss.DEFAULT=new ss(os,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ss.DISABLED=new ss(-1,0,0);class us{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Xn={}}static wt(e,t,n,r){M(""!==e.uid,64387);const i=e.isAuthenticated()?e.uid:"";return new us(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ds(e).ee({index:ut,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=ps(e),a=ds(e);return a.add({}).next(o=>{M("number"==typeof o,49019);const s=new na(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map(t=>Ka(e.yt,t)),i=n.mutations.map(t=>Ka(e.yt,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,s),c=[];let u=new vn((e,t)=>Q(e.canonicalString(),t.canonicalString()));for(const e of r){const t=pt(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(a.put(l)),c.push(i.put(t,ft))}return u.forEach(t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Xn[o]=s.keys()}),De.waitFor(c).next(()=>s)})}lookupMutationBatch(e,t){return ds(e).get(t).next(e=>e?(M(e.userId===this.userId,48,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),po(this.serializer,e)):null)}er(e,t){return this.Xn[t]?De.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Xn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return ds(e).ee({index:ut,range:r},(e,t,r)=>{t.userId===this.userId&&(M(t.batchId>=n,47524,{tr:n}),i=po(this.serializer,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=Ye;return ds(e).ee({index:ut,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ye],[this.userId,Number.POSITIVE_INFINITY]);return ds(e).J(ut,t).next(e=>e.map(e=>po(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=dt(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return ps(e).ee({range:r},(n,r,a)=>{const[o,s,l]=n,c=rt(s);if(o===this.userId&&t.path.isEqual(c))return ds(e).get(l).next(e=>{if(!e)throw R(61480,{nr:n,batchId:l});M(e.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:e.userId,batchId:l}),i.push(po(this.serializer,e))});a.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new vn(Q);const r=[];return t.forEach(t=>{const i=dt(this.userId,t.path),a=IDBKeyRange.lowerBound(i),o=ps(e).ee({range:a},(e,r,i)=>{const[a,o,s]=e,l=rt(o);a===this.userId&&t.path.isEqual(l)?n=n.add(s):i.done()});r.push(o)}),De.waitFor(r).next(()=>this.rr(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=dt(this.userId,n),a=IDBKeyRange.lowerBound(i);let o=new vn(Q);return ps(e).ee({range:a},(e,t,i)=>{const[a,s,l]=e,c=rt(s);a===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()}).next(()=>this.rr(e,o))}rr(e,t){const n=[],r=[];return t.forEach(t=>{r.push(ds(e).get(t).next(e=>{if(null===e)throw R(35274,{batchId:t});M(e.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),n.push(po(this.serializer,e))}))}),De.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return ls(e.le,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.ir(t.batchId)}),De.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return De.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return ps(e).ee({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=rt(e[1]);r.push(t)}else n.done()}).next(()=>{M(0===r.length,56720,{sr:r.map(e=>e.canonicalString())})})})}containsKey(e,t){return hs(e,this.userId,t)}_r(e){return fs(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:Ye,lastStreamToken:""})}}function hs(e,t,n){const r=dt(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let o=!1;return ps(e).ee({range:a,X:!0},(e,n,r)=>{const[a,s,l]=e;a===t&&s===i&&(o=!0),r.done()}).next(()=>o)}function ds(e){return hn(e,lt)}function ps(e){return hn(e,mt)}function fs(e){return hn(e,st)}class ms{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ms(0)}static cr(){return new ms(-1)}}class gs{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next(t=>{const n=new ms(t.highestTargetId);return t.highestTargetId=n.next(),this.hr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(e=>be.fromTimestamp(new ve(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.lr(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.hr(e,r)))}addTargetData(e,t){return this.Pr(e,t).next(()=>this.lr(e).next(n=>(n.targetCount+=1,this.Tr(t,n),this.hr(e,n))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ys(e).delete(t.targetId)).next(()=>this.lr(e)).next(t=>(M(t.targetCount>0,8065),t.targetCount-=1,this.hr(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return ys(e).ee((a,o)=>{const s=fo(o);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r++,i.push(this.removeTargetData(e,s)))}).next(()=>De.waitFor(i)).next(()=>r)}forEachTarget(e,t){return ys(e).ee((e,n)=>{const r=fo(n);t(r)})}lr(e){return vs(e).get(Nt).next(e=>(M(null!==e,2888),e))}hr(e,t){return vs(e).put(Nt,t)}Pr(e,t){return ys(e).put(mo(this.serializer,t))}Tr(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.lr(e).next(e=>e.targetCount)}getTargetData(e,t){const n=zr(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return ys(e).ee({range:r,index:Ct},(e,n,r)=>{const a=fo(n);Gr(t,a.target)&&(i=a,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=bs(e);return t.forEach(t=>{const a=et(t.path);r.push(i.put({targetId:n,path:a})),r.push(this.referenceDelegate.addReference(e,n,t))}),De.waitFor(r)}removeMatchingKeys(e,t,n){const r=bs(e);return De.forEach(t,t=>{const i=et(t.path);return De.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=bs(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=bs(e);let i=Si();return r.ee({range:n,X:!0},(e,t,n)=>{const r=rt(e[1]),a=new le(r);i=i.add(a)}).next(()=>i)}containsKey(e,t){const n=et(t.path),r=IDBKeyRange.bound([n],[ne(n)],!1,!0);let i=0;return bs(e).ee({index:It,X:!0,range:r},(e,t,n)=>{let[r,a]=e;0!==r&&(i++,n.done())}).next(()=>i>0)}At(e,t){return ys(e).get(t).next(e=>e?fo(e):null)}}function ys(e){return hn(e,kt)}function vs(e){return hn(e,Rt)}function bs(e){return hn(e,Tt)}const ws="LruGarbageCollector",Ss=1048576;function xs(e,t){let[n,r]=e,[i,a]=t;const o=Q(n,i);return 0===o?Q(r,a):o}class Es{constructor(e){this.Ir=e,this.buffer=new vn(xs),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();xs(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ks{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){P(ws,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ve(e)?P(ws,"Ignoring IndexedDB error during garbage collection: ",e):await Re(e)}await this.Vr(3e5)})}}class Cs{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return De.resolve(Xe.ce);const n=new Es(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(P("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(as)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(P("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),as):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,o,s,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(P("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),T()<=l.$b.DEBUG&&P("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-s)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),De.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function As(e,t){return new Cs(e,t)}class Ts{constructor(e,t){this.db=e,this.garbageCollector=As(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,(e,n)=>t(n))}addReference(e,t,n){return Ps(e,n)}removeReference(e,t,n){return Ps(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Ps(e,t)}br(e,t){return function(e,t){let n=!1;return fs(e).te(r=>hs(e,r,t).next(e=>(e&&(n=!0),De.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Sr(e,(a,o)=>{if(o<=t){const t=this.br(e,a).next(t=>{if(!t)return i++,n.getEntry(e,a).next(()=>(n.removeEntry(a,be.min()),bs(e).delete(function(e){return[0,et(e.path)]}(a))))});r.push(t)}}).next(()=>De.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Ps(e,t)}Sr(e,t){const n=bs(e);let r,i=Xe.ce;return n.ee({index:It},(e,n)=>{let[a,o]=e,{path:s,sequenceNumber:l}=n;0===a?(i!==Xe.ce&&t(new le(rt(r)),i),i=l,r=s):i=Xe.ce}).next(()=>{i!==Xe.ce&&t(new le(rt(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ps(e,t){return bs(e).put(function(e,t){return{targetId:0,path:et(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Is{constructor(){this.changes=new ui(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?De.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _s{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Ms(e).put(n)}removeEntry(e,t,n){return Ms(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],co(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Dr(e,n)))}getEntry(e,t){let n=mr.newInvalidDocument(t);return Ms(e).ee({index:vt,range:IDBKeyRange.only(Fs(t))},(e,r)=>{n=this.Cr(t,r)}).next(()=>n)}vr(e,t){let n={size:0,document:mr.newInvalidDocument(t)};return Ms(e).ee({index:vt,range:IDBKeyRange.only(Fs(t))},(e,r)=>{n={document:this.Cr(t,r),size:cs(r)}}).next(()=>n)}getEntries(e,t){let n=di();return this.Fr(e,t,(e,t)=>{const r=this.Cr(e,t);n=n.insert(e,r)}).next(()=>n)}Mr(e,t){let n=di(),r=new mn(le.comparator);return this.Fr(e,t,(e,t)=>{const i=this.Cr(e,t);n=n.insert(e,i),r=r.insert(e,cs(t))}).next(()=>({documents:n,Or:r}))}Fr(e,t,n){if(t.isEmpty())return De.resolve();let r=new vn(Ls);t.forEach(e=>r=r.add(e));const i=IDBKeyRange.bound(Fs(r.first()),Fs(r.last())),a=r.getIterator();let o=a.getNext();return Ms(e).ee({index:vt,range:i},(e,t,r)=>{const i=le.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Ls(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Fs(o)):r.done()}).next(()=>{for(;o;)n(o,null),o=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,t,n,r,i){const a=t.path,o=[a.popLast().toArray(),a.lastSegment(),co(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ms(e).J(IDBKeyRange.bound(o,s,!0)).next(e=>{null===i||void 0===i||i.incrementDocumentReadCount(e.length);let n=di();for(const i of e){const e=this.Cr(le.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(oi(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,r){let i=di();const a=Os(t,n),o=Os(t,Pe.max());return Ms(e).ee({index:wt,range:IDBKeyRange.bound(a,o,!0)},(e,t,n)=>{const a=this.Cr(le.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(a.key,a),i.size===r&&n.done()}).next(()=>i)}newChangeBuffer(e){return new Rs(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return Ds(e).get(Et).next(e=>(M(!!e,20021),e))}Dr(e,t){return Ds(e).put(Et,t)}Cr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Ha(e.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=le.fromSegments(t.noDocument.path),r=ho(t.noDocument.readTime);n=mr.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return R(56709);{const e=le.fromSegments(t.unknownDocument.path),r=ho(t.unknownDocument.version);n=mr.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new ve(e[0],e[1]);return be.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(be.min()))return e}return mr.newInvalidDocument(e)}}function Ns(e){return new _s(e)}class Rs extends Is{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new ui(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new vn((e,t)=>Q(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,a)=>{const o=this.Br.get(i);if(t.push(this.Nr.removeEntry(e,i,o.readTime)),a.isValidDocument()){const s=lo(this.Nr.serializer,a);r=r.add(i.path.popLast());const l=cs(s);n+=l-o.size,t.push(this.Nr.addEntry(e,i,s))}else if(n-=o.size,this.trackRemovals){const n=lo(this.Nr.serializer,a.convertToNoDocument(be.min()));t.push(this.Nr.addEntry(e,i,n))}}),r.forEach(n=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.Nr.updateMetadata(e,n)),De.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next(e=>(this.Br.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next(e=>{let{documents:t,Or:n}=e;return n.forEach((e,n)=>{this.Br.set(e,{size:n,readTime:t.get(e).readTime})}),t})}}function Ds(e){return hn(e,xt)}function Ms(e){return hn(e,gt)}function Fs(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Os(e,t){const n=t.documentKey.path.toArray();return[e,co(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ls(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=Q(n[a],r[a]),i)return i;return i=Q(n.length,r.length),i||(i=Q(n[n.length-2],r[r.length-2]),i||Q(n[n.length-1],r[r.length-1]))}class Us{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class js{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Ki(n.mutation,e,Sn.empty(),ve.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Si()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Si();const r=gi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=fi();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=gi();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Si()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=di();const a=vi(),o=vi();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Qi)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Ki(o.mutation,t,o.mutation.getFieldMask(),ve.now())):a.set(t.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new Us(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=vi();let r=new mn((e,t)=>e-t),i=Si();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||Sn.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||Si()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=yi();l.forEach(e=>{if(!i.has(e)){const r=qi(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return De.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return le.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Jr(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):De.resolve(gi());let o=we,s=i;return a.next(t=>De.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?De.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,Si())).next(e=>({batchId:o,changes:mi(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new le(t)).next(e=>{let t=fi();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=fi();return this.indexManager.getCollectionParents(e,i).next(o=>De.forEach(o,o=>{const s=function(e,t){return new Xr(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,mr.newInvalidDocument(r)))});let n=fi();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&Ki(a.mutation,r,Sn.empty(),ve.now()),oi(t,r)&&(n=n.insert(e,r))}),n})}}class Vs{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return De.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ma(e.createTime)}}(t)),De.resolve()}getNamedQuery(e,t){return De.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:go(e.bundledQuery),readTime:Ma(e.readTime)}}(t)),De.resolve()}}class Bs{constructor(){this.overlays=new mn(le.comparator),this.qr=new Map}getOverlay(e,t){return De.resolve(this.overlays.get(t))}getOverlays(e,t){const n=gi();return De.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),De.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),De.resolve()}getOverlaysForCollection(e,t,n){const r=gi(),i=t.length+1,a=new le(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return De.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new mn((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=gi(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=gi(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return De.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ia(t,n));let i=this.qr.get(t);void 0===i&&(i=Si(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class zs{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return De.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,De.resolve()}}class Gs{constructor(){this.Qr=new vn(qs.$r),this.Ur=new vn(qs.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new qs(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new qs(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new le(new ae([])),n=new qs(t,e),r=new qs(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new le(new ae([])),n=new qs(t,e),r=new qs(t,e+1);let i=Si();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new qs(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class qs{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return le.comparator(e.key,t.key)||Q(e.Yr,t.Yr)}static Kr(e,t){return Q(e.Yr,t.Yr)||le.comparator(e.key,t.key)}}class Hs{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new vn(qs.$r)}checkEmpty(e){return De.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new na(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.Zr=this.Zr.add(new qs(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return De.resolve(a)}lookupMutationBatch(e,t){return De.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return De.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.mutationQueue.length?Ye:this.tr-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new qs(t,0),r=new qs(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),De.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new vn(Q);return t.forEach(e=>{const t=new qs(e,0),r=new qs(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),De.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;le.isDocumentKey(i)||(i=i.child(""));const a=new qs(new le(i),0);let o=new vn(Q);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)},a),De.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){M(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return De.forEach(t.mutations,r=>{const i=new qs(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new qs(t,0),r=this.Zr.firstAfterOrEqual(n);return De.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,De.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ks{constructor(e){this.ri=e,this.docs=new mn(le.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return De.resolve(n?n.document.mutableCopy():mr.newInvalidDocument(t))}getEntries(e,t){let n=di();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():mr.newInvalidDocument(e))}),De.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=di();const a=t.path,o=new le(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Ie(Te(o),n)<=0||(r.has(o.key)||oi(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return De.resolve(i)}getAllFromCollectionGroup(e,t,n,r){R(9500)}ii(e,t){return De.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Ws(this)}getSize(e){return De.resolve(this.size)}}class Ws extends Is{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),De.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Xs{constructor(e){this.persistence=e,this.si=new ui(e=>zr(e),Gr),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Gs,this.targetCount=0,this.ai=ms.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),De.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ms(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,De.resolve()}updateTargetData(e,t){return this.Pr(t),De.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),De.waitFor(i).next(()=>r)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return De.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),De.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),De.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),De.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return De.resolve(n)}containsKey(e,t){return De.resolve(this._i.containsKey(t))}}class Ys{constructor(e,t){this.ui={},this.overlays={},this.ci=new Xe(0),this.li=!1,this.li=!0,this.hi=new zs,this.referenceDelegate=e(this),this.Pi=new Xs(this),this.indexManager=new Yo,this.remoteDocumentCache=function(e){return new Ks(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new so(t),this.Ii=new Vs(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bs,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Hs(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){P("MemoryPersistence","Starting transaction:",e);const r=new Qs(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return De.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Qs extends Ne{constructor(e){super(),this.currentSequenceNumber=e}}class $s{constructor(e){this.persistence=e,this.Ri=new Gs,this.Vi=null}static mi(e){return new $s(e)}get fi(){if(this.Vi)return this.Vi;throw R(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),De.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),De.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),De.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.fi,n=>{const r=le.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,be.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return De.or([()=>De.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Js{constructor(e,t){this.persistence=e,this.pi=new ui(e=>et(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=As(this,t)}static mi(e,t){return new Js(e,t)}Ei(){}di(e){return De.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return De.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?De.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,be.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),De.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),De.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),De.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),De.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jn(e.data.value)),t}br(e,t,n){return De.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return De.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Zs{constructor(e){this.serializer=e}k(e,t,n,r){const i=new Fe("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(at)}(e),function(e){e.createObjectStore(st,{keyPath:"userId"});e.createObjectStore(lt,{keyPath:ct,autoIncrement:!0}).createIndex(ut,ht,{unique:!0}),e.createObjectStore(mt)}(e),el(e),function(e){e.createObjectStore(it)}(e));let a=De.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Tt),e.deleteObjectStore(kt),e.deleteObjectStore(Rt)}(e),el(e)),a=a.next(()=>function(e){const t=e.store(Rt),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:be.min().toTimestamp(),targetCount:0};return t.put(Nt,n)}(i))),n<4&&r>=4&&(0!==n&&(a=a.next(()=>function(e,t){return t.store(lt).J().next(n=>{e.deleteObjectStore(lt),e.createObjectStore(lt,{keyPath:ct,autoIncrement:!0}).createIndex(ut,ht,{unique:!0});const r=t.store(lt),i=n.map(e=>r.put(e));return De.waitFor(i)})}(e,i))),a=a.next(()=>{!function(e){e.createObjectStore(Ft,{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(a=a.next(()=>this.yi(i))),n<6&&r>=6&&(a=a.next(()=>(function(e){e.createObjectStore(xt)}(e),this.wi(i)))),n<7&&r>=7&&(a=a.next(()=>this.Si(i))),n<8&&r>=8&&(a=a.next(()=>this.bi(e,i))),n<9&&r>=9&&(a=a.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(a=a.next(()=>this.Di(i))),n<11&&r>=11&&(a=a.next(()=>{!function(e){e.createObjectStore(Ot,{keyPath:"bundleId"})}(e),function(e){e.createObjectStore(Lt,{keyPath:"name"})}(e)})),n<12&&r>=12&&(a=a.next(()=>{!function(e){const t=e.createObjectStore(Xt,{keyPath:Yt});t.createIndex(Qt,$t,{unique:!1}),t.createIndex(Jt,Zt,{unique:!1})}(e)})),n<13&&r>=13&&(a=a.next(()=>function(e){const t=e.createObjectStore(gt,{keyPath:yt});t.createIndex(vt,bt),t.createIndex(wt,St)}(e)).next(()=>this.Ci(e,i)).next(()=>e.deleteObjectStore(it))),n<14&&r>=14&&(a=a.next(()=>this.Fi(e,i))),n<15&&r>=15&&(a=a.next(()=>function(e){e.createObjectStore(Ut,{keyPath:"indexId",autoIncrement:!0}).createIndex(jt,"collectionGroup",{unique:!1});e.createObjectStore(Vt,{keyPath:Bt}).createIndex(zt,Gt,{unique:!1});e.createObjectStore(qt,{keyPath:Ht}).createIndex(Kt,Wt,{unique:!1})}(e))),n<16&&r>=16&&(a=a.next(()=>{t.objectStore(Vt).clear()}).next(()=>{t.objectStore(qt).clear()})),n<17&&r>=17&&(a=a.next(()=>{!function(e){e.createObjectStore(en,{keyPath:"name"})}(e)})),n<18&&r>=18&&(0,c.Ov)()&&(a=a.next(()=>{t.objectStore(Vt).clear()}).next(()=>{t.objectStore(qt).clear()})),a}wi(e){let t=0;return e.store(it).ee((e,n)=>{t+=cs(n)}).next(()=>{const n={byteSize:t};return e.store(xt).put(Et,n)})}yi(e){const t=e.store(st),n=e.store(lt);return t.J().next(t=>De.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,Ye],[t.userId,t.lastAcknowledgedBatchId]);return n.J(ut,r).next(n=>De.forEach(n,n=>{M(n.userId===t.userId,18650,"Cannot process batch from unexpected user",{batchId:n.batchId});const r=po(this.serializer,n);return ls(e,t.userId,r).next(()=>{})}))}))}Si(e){const t=e.store(Tt),n=e.store(it);return e.store(Rt).get(Nt).next(e=>{const r=[];return n.ee((n,i)=>{const a=new ae(n),o=function(e){return[0,et(e)]}(a);r.push(t.get(o).next(n=>n?De.resolve():(n=>t.put({targetId:0,path:et(n),sequenceNumber:e.highestListenSequenceNumber}))(a)))}).next(()=>De.waitFor(r))})}bi(e,t){e.createObjectStore(Dt,{keyPath:Mt});const n=t.store(Dt),r=new Qo,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:et(r)})}};return t.store(it).ee({X:!0},(e,t)=>{const n=new ae(e);return i(n.popLast())}).next(()=>t.store(mt).ee({X:!0},(e,t)=>{let[n,r,a]=e;const o=rt(r);return i(o.popLast())}))}Di(e){const t=e.store(kt);return t.ee((e,n)=>{const r=fo(n),i=mo(this.serializer,r);return t.put(i)})}Ci(e,t){const n=t.store(it),r=[];return n.ee((e,n)=>{const i=t.store(gt),a=function(e){return e.document?new le(ae.fromString(e.document.name).popFirst(5)):e.noDocument?le.fromSegments(e.noDocument.path):e.unknownDocument?le.fromSegments(e.unknownDocument.path):R(36783)}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))}).next(()=>De.waitFor(r))}Fi(e,t){const n=t.store(lt),r=Ns(this.serializer),i=new Ys($s.mi,this.serializer.yt);return n.J().next(e=>{const n=new Map;return e.forEach(e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Si();po(this.serializer,e).keys().forEach(e=>r=r.add(e)),n.set(e.userId,r)}),De.forEach(n,(e,n)=>{const a=new k(n),o=Eo.wt(this.serializer,a),s=i.getIndexManager(a),l=us.wt(a,this.serializer,s,i.referenceDelegate);return new js(r,l,o,s).recalculateAndSaveOverlaysForDocumentKeys(new un(t,Xe.ce),e).next()})})}}function el(e){e.createObjectStore(Tt,{keyPath:Pt}).createIndex(It,_t,{unique:!0}),e.createObjectStore(kt,{keyPath:"targetId"}).createIndex(Ct,At,{unique:!0}),e.createObjectStore(Rt)}const tl="IndexedDbPersistence",nl=18e5,rl=5e3,il="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",al="main";class ol{constructor(e,t,n,r,i,a,o,s,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:18;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Mi=i,this.window=a,this.document=o,this.xi=l,this.Oi=c,this.Ni=u,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=e=>Promise.resolve(),!ol.v())throw new U(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ts(this,r),this.$i=t+al,this.serializer=new so(s),this.Ui=new Oe(this.$i,this.Ni,new Zs(this.serializer)),this.hi=new Co,this.Pi=new gs(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ns(this.serializer),this.Ii=new wo,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,!1===c&&I(tl,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new U(L.FAILED_PRECONDITION,il);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new Xe(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ll(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(e=>{e||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(t=>this.isPrimary&&!t?this.Zi(e).next(()=>!1):!!t&&this.Xi(e).next(()=>!0))).catch(e=>{if(Ve(e))return P(tl,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return P(tl,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return sl(e).get(ot).next(e=>De.resolve(this.es(e)))}ts(e){return ll(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,nl)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=hn(e,Ft);return t.J().next(e=>{const n=this.ss(e,nl),r=e.filter(e=>-1===n.indexOf(e));return De.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?De.resolve(!0):sl(e).get(ot).next(t=>{if(null!==t&&this.rs(t.leaseTimestampMs,rl)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new U(L.FAILED_PRECONDITION,il);return!1}}return!(!this.networkEnabled||!this.inForeground)||ll(e).J().next(e=>void 0===this.ss(e,rl).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&P(tl,"Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[at,Ft],e=>{const t=new un(e,Xe.ce);return this.Zi(t).next(()=>this.ts(t))}),this.Ui.close(),this.Ps()}ss(e,t){return e.filter(e=>this.rs(e.updateTimeMs,t)&&!this.us(e.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>ll(e).J().next(e=>this.ss(e,nl).map(e=>e.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return us.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Zo(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Eo.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,n){P(tl,"Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 18===e?cn:17===e?ln:16===e?sn:15===e?on:14===e?an:13===e?rn:12===e?nn:11===e?tn:void R(60245)}(this.Ni);let a;return this.Ui.runTransaction(e,r,i,r=>(a=new un(r,this.ci?this.ci.next():Xe.ce),"readwrite-primary"===t?this.Hi(a).next(e=>!!e||this.Yi(a)).next(t=>{if(!t)throw I("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new U(L.FAILED_PRECONDITION,_e);return n(a)}).next(e=>this.Xi(a).next(()=>e)):this.Is(a).next(()=>n(a)))).then(e=>(a.raiseOnCommittedEvent(),e))}Is(e){return sl(e).get(ot).next(e=>{if(null!==e&&this.rs(e.leaseTimestampMs,rl)&&!this.us(e.ownerId)&&!this.es(e)&&!(this.Oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new U(L.FAILED_PRECONDITION,il)})}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sl(e).put(ot,t)}static v(){return Oe.v()}Zi(e){const t=sl(e);return t.get(ot).next(e=>this.es(e)?(P(tl,"Releasing primary lease."),t.delete(ot)):De.resolve())}rs(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(I("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground="visible"===this.document.visibilityState)}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;(0,c.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{var t;const n=null!==(null===(t=this.Ki)||void 0===t?void 0:t.getItem(this._s(e)));return P(tl,"Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return I(tl,"Failed to get zombied client id.",e),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){I("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch(e){}}_s(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function sl(e){return hn(e,at)}function ll(e){return hn(e,Ft)}function cl(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class ul{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Si(),r=Si();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ul(e,t.fromCache,n,r)}}class hl{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class dl{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(0,c.nr)()?8:Le((0,c.ZQ)())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new hl;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(T()<=l.$b.DEBUG&&P("QueryEngine","SDK will not create cache indexes for query:",ai(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),De.resolve()):(T()<=l.$b.DEBUG&&P("QueryEngine","Query:",ai(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(T()<=l.$b.DEBUG&&P("QueryEngine","The SDK decides to create cache indexes for query:",ai(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(t))):De.resolve())}ys(e,t){if($r(t))return De.resolve(null);let n=ei(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ni(t,null,"F"),n=ei(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Si(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,ni(t,null,"F")):this.vs(e,a,t,n)}))})))}ws(e,t,n,r){return $r(t)||r.isEqual(be.min())?De.resolve(null):this.ps.getDocuments(e,n).next(i=>{const a=this.Ds(t,i);return this.Cs(t,a,n,r)?De.resolve(null):(T()<=l.$b.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ai(t)),this.vs(e,a,t,Ae(r,we)).next(e=>e))})}Ds(e,t){let n=new vn(li(e));return t.forEach((t,r)=>{oi(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return T()<=l.$b.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",ai(t)),this.ps.getDocumentsMatchingQuery(e,t,Pe.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const pl="LocalStore";class fl{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new mn(Q),this.xs=new ui(e=>zr(e),Gr),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new js(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function ml(e,t,n,r){return new fl(e,t,n,r)}async function gl(e,t){const n=O(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let o=Si();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:a}))})})}function yl(e){const t=O(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function vl(e,t,n){let r=Si(),i=Si();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=di();return n.forEach((n,a)=>{const o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(be.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):P(pl,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)}),{ks:r,qs:i}})}function bl(e,t){const n=O(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Ye),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function wl(e,t){const n=O(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,De.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new oo(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Sl(e,t,n){const r=O(e),i=r.Ms.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Ve(e))throw e;P(pl,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function xl(e,t,n){const r=O(e);let i=be.min(),a=Si();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=O(e),i=r.xs.get(n);return void 0!==i?De.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,ei(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:be.min(),n?a:Si())).next(e=>(El(r,si(t),e),{documents:e,Qs:a})))}function El(e,t,n){let r=e.Os.get(t)||be.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class kl{constructor(){this.activeTargetIds=Ei()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cl{constructor(){this.Mo=new kl,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new kl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Al{Oo(e){}shutdown(){}}const Tl="ConnectivityMonitor";class Pl{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){P(Tl,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){P(Tl,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Il=null;function _l(){return null===Il?Il=268435456+Math.round(2147483648*Math.random()):Il++,"0x"+Il.toString(16)}const Nl="RestConnection",Rl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dl{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===On?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const a=_l(),o=this.zo(e,t.toUriEncodedString());P(Nl,"Sending RPC '".concat(e,"' ").concat(a,":"),o,n);const s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);const{host:l}=new URL(o),u=(0,c.zJ)(l);return this.Jo(e,o,s,n,u).then(t=>(P(Nl,"Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw _(Nl,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t})}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+C,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Rl[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Ml{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Fl="WebChannelConnection";class Ol extends Dl{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const a=_l();return new Promise((i,o)=>{const s=new d;s.setWithCredentials(!0),s.listenOnce(f.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case m.NO_ERROR:const n=s.getResponseJson();P(Fl,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(n)),i(n);break;case m.TIMEOUT:P(Fl,"RPC '".concat(e,"' ").concat(a," timed out")),o(new U(L.DEADLINE_EXCEEDED,"Request time out"));break;case m.HTTP_ERROR:const r=s.getStatus();if(P(Fl,"RPC '".concat(e,"' ").concat(a," failed with status:"),r,"response text:",s.getResponseText()),r>0){var t;let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(t)>=0?t:L.UNKNOWN}(n.status);o(new U(e,n.message))}else o(new U(L.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new U(L.UNAVAILABLE,"Connection failed."));break;default:R(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{P(Fl,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);P(Fl,"RPC '".concat(e,"' ").concat(a," sending request:"),r),s.send(t,"POST",l,n,15)})}T_(e,t,n){const r=_l(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=b(),o=v(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");P(Fl,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=a.createWebChannel(c,s);this.I_(u);let h=!1,d=!1;const f=new Ml({Yo:t=>{d?P(Fl,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(P(Fl,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),P(Fl,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(u,p.EventType.OPEN,()=>{d||(P(Fl,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),m(u,p.EventType.CLOSE,()=>{d||(d=!0,P(Fl,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),m(u,p.EventType.ERROR,t=>{d||(d=!0,_(Fl,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new U(L.UNAVAILABLE,"The operation could not be completed")))}),m(u,p.EventType.MESSAGE,t=>{if(!d){var n;const i=t.data[0];M(!!i,16349);const a=i,o=(null===a||void 0===a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){P(Fl,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=oa[e];if(void 0!==t)return ca(t)}(t),i=o.message;void 0===n&&(n=L.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.a_(new U(n,i)),u.close()}else P(Fl,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),m(o,y.STAT_EVENT,t=>{t.stat===g.PROXY?P(Fl,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===g.NOPROXY&&P(Fl,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Ll(){return"undefined"!=typeof window?window:null}function Ul(){return"undefined"!=typeof document?document:null}function jl(e){return new Ia(e,!0)}class Vl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&P("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Bl="PersistentStream";class zl{constructor(e,t,n,r,i,a,o,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vl(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(I(t.toString()),I("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===L.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new U(L.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return P(Bl,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(P(Bl,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gl extends zl{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:R(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(M(void 0===t||"string"==typeof t,58123),En.fromBase64String(t||"")):(M(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),En.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?L.UNKNOWN:ca(e.code);return new U(t,e.message||"")}(o);n=new Sa(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ja(e,r.document.name),a=Ma(r.document.updateTime),o=r.document.createTime?Ma(r.document.createTime):be.min(),s=new pr({mapValue:{fields:r.document.fields}}),l=mr.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ba(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ja(e,r.document),a=r.readTime?Ma(r.readTime):be.min(),o=mr.newNoDocument(i,a),s=r.removedTargetIds||[];n=new ba([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ja(e,r.document),a=r.removedTargetIds||[];n=new ba([],a,i,null)}else{if(!("filter"in t))return R(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new aa(r,i),o=e.targetId;n=new wa(o,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return be.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?be.min():t.readTime?Ma(t.readTime):be.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=za(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=qr(r)?{documents:Xa(e,r)}:{query:Ya(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ra(e,t.resumeToken);const r=_a(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(be.min())>0){n.readTime=Na(e,t.snapshotVersion.toTimestamp());const r=_a(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return R(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=za(this.serializer),t.removeTarget=e,this.q_(t)}}class ql extends zl{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return M(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,M(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){M(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(M(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Ma(e.updateTime):Ma(t);return n.isEqual(be.min())&&(n=Ma(t)),new Vi(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Ma(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=za(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ka(this.serializer,e))};this.q_(t)}}class Hl{}class Kl extends Hl{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new U(L.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.Go(e,Oa(t,n),r,a,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new U(L.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[o,s]=a;return this.connection.Ho(e,Oa(t,n),r,o,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new U(L.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Wl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(I(t),this.aa=!1):P("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Xl="RemoteStore";class Yl{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{ic(this)&&(P(Xl,"Restarting streams for network reachability change."),await async function(e){const t=O(e);t.Ea.add(4),await $l(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Ql(t)}(this))})}),this.Ra=new Wl(n,r)}}async function Ql(e){if(ic(e))for(const t of e.da)await t(!0)}async function $l(e){for(const t of e.da)await t(!1)}function Jl(e,t){const n=O(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),rc(n)?nc(n):Ec(n).O_()&&ec(n,t))}function Zl(e,t){const n=O(e),r=Ec(n);n.Ia.delete(t),r.O_()&&tc(n,t),0===n.Ia.size&&(r.O_()?r.L_():ic(n)&&n.Ra.set("Unknown"))}function ec(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(be.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ec(e).Y_(t)}function tc(e,t){e.Va.Ue(t),Ec(e).Z_(t)}function nc(e){e.Va=new Ea({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ec(e).start(),e.Ra.ua()}function rc(e){return ic(e)&&!Ec(e).x_()&&e.Ia.size>0}function ic(e){return 0===O(e).Ea.size}function ac(e){e.Va=void 0}async function oc(e){e.Ra.set("Online")}async function sc(e){e.Ia.forEach((t,n)=>{ec(e,t)})}async function lc(e,t){ac(e),rc(e)?(e.Ra.ha(t),nc(e)):e.Ra.set("Unknown")}async function cc(e,t,n){if(e.Ra.set("Online"),t instanceof Sa&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){P(Xl,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await uc(e,n)}else if(t instanceof ba?e.Va.Ze(t):t instanceof wa?e.Va.st(t):e.Va.tt(t),!n.isEqual(be.min()))try{const t=await yl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(En.EMPTY_BYTE_STRING,r.snapshotVersion)),tc(e,t);const i=new oo(r.target,t,n,r.sequenceNumber);ec(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){P(Xl,"Failed to raise snapshot:",t),await uc(e,t)}}async function uc(e,t,n){if(!Ve(t))throw t;e.Ea.add(1),await $l(e),e.Ra.set("Offline"),n||(n=()=>yl(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{P(Xl,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Ql(e)})}function hc(e,t){return t().catch(n=>uc(e,n,t))}async function dc(e){const t=O(e),n=kc(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ye;for(;pc(t);)try{const e=await bl(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,fc(t,e)}catch(e){await uc(t,e)}mc(t)&&gc(t)}function pc(e){return ic(e)&&e.Ta.length<10}function fc(e,t){e.Ta.push(t);const n=kc(e);n.O_()&&n.X_&&n.ea(t.mutations)}function mc(e){return ic(e)&&!kc(e).x_()&&e.Ta.length>0}function gc(e){kc(e).start()}async function yc(e){kc(e).ra()}async function vc(e){const t=kc(e);for(const n of e.Ta)t.ea(n.mutations)}async function bc(e,t,n){const r=e.Ta.shift(),i=ra.from(r,t,n);await hc(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await dc(e)}async function wc(e,t){t&&kc(e).X_&&await async function(e,t){if(function(e){return la(e)&&e!==L.ABORTED}(t.code)){const n=e.Ta.shift();kc(e).B_(),await hc(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await dc(e)}}(e,t),mc(e)&&gc(e)}async function Sc(e,t){const n=O(e);n.asyncQueue.verifyOperationInProgress(),P(Xl,"RemoteStore received new credentials");const r=ic(n);n.Ea.add(3),await $l(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ql(n)}async function xc(e,t){const n=O(e);t?(n.Ea.delete(2),await Ql(n)):t||(n.Ea.add(2),await $l(n),n.Ra.set("Unknown"))}function Ec(e){return e.ma||(e.ma=function(e,t,n){const r=O(e);return r.sa(),new Gl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:oc.bind(null,e),t_:sc.bind(null,e),r_:lc.bind(null,e),H_:cc.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),rc(e)?nc(e):e.Ra.set("Unknown")):(await e.ma.stop(),ac(e))})),e.ma}function kc(e){return e.fa||(e.fa=function(e,t,n){const r=O(e);return r.sa(),new ql(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:yc.bind(null,e),r_:wc.bind(null,e),ta:vc.bind(null,e),na:bc.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await dc(e)):(await e.fa.stop(),e.Ta.length>0&&(P(Xl,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Cc{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new j,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new Cc(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new U(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ac(e,t){if(I("AsyncQueue","".concat(t,": ").concat(e)),Ve(e))return new U(L.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Tc{static emptySet(e){return new Tc(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||le.comparator(t.key,n.key):(e,t)=>le.comparator(e.key,t.key),this.keyedMap=fi(),this.sortedSet=new mn(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tc))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Tc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Pc{constructor(){this.ga=new mn(le.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):R(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ic{constructor(e,t,n,r,i,a,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new Ic(e,t,Tc.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ri(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class _c{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Nc{constructor(){this.queries=Rc(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=O(e),r=n.queries;n.queries=Rc(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new U(L.ABORTED,"Firestore shutting down"))}}function Rc(){return new ui(e=>ii(e),ri)}async function Dc(e,t){const n=O(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new _c,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Ac(e,"Initialization of query '".concat(ai(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&Lc(n)}async function Mc(e,t){const n=O(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),0===a.Sa.length?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Fc(e,t){const n=O(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Lc(n)}function Oc(e,t,n){const r=O(e),i=r.queries.get(t);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(t)}function Lc(e){e.Ca.forEach(e=>{e.next()})}var Uc,jc;(jc=Uc||(Uc={})).Ma="default",jc.Cache="cache";class Vc{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ic(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Uc.Cache}}class Bc{constructor(e){this.key=e}}class zc{constructor(e){this.key=e}}class Gc{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Si(),this.mutatedKeys=Si(),this.eu=li(e),this.tu=new Tc(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Pc,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=oi(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.su(c,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.eu(u,s)>0||l&&this.eu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(s||l)&&(o=!0)),p&&(u?(a=a.add(u),i=d?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const o=t&&!r?this._u():[],s=0===this.Xa.size&&this.current&&!r?1:0,l=s!==this.Za;return this.Za=s,0!==a.length||l?{snapshot:new Ic(this.query,e.tu,i,a,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Pc,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Si(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new zc(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Bc(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Si();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ic.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const qc="SyncEngine";class Hc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Kc{constructor(e){this.key=e,this.hu=!1}}class Wc{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new ui(e=>ii(e),ri),this.Iu=new Map,this.Eu=new Set,this.du=new mn(le.comparator),this.Au=new Map,this.Ru=new Gs,this.Vu={},this.mu=new Map,this.fu=ms.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Xc(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=mu(e);let i;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Qc(r,t,n,!0),i}async function Yc(e,t){const n=mu(e);await Qc(n,t,!0,!1)}async function Qc(e,t,n,r){const i=await wl(e.localStore,ei(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await $c(e,t,a,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Jl(e.remoteStore,i),s}async function $c(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await xl(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const a=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return cu(e,t.targetId,s.au),s.snapshot}(e,t,n,r);const a=await xl(e.localStore,t,!0),o=new Gc(t,a.Qs),s=o.ru(a.documents),l=va.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(s,e.isPrimaryClient,l);cu(e,n,c.au);const u=new Hc(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Jc(e,t,n){const r=O(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(e=>!ri(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Sl(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zl(r.remoteStore,i.targetId),su(r,i.targetId)}).catch(Re)):(su(r,i.targetId),await Sl(r.localStore,i.targetId,!0))}async function Zc(e,t){const n=O(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zl(n.remoteStore,r.targetId))}async function eu(e,t){const n=O(e);try{const e=await function(e,t){const n=O(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];t.targetChanges.forEach((a,s)=>{const l=i.get(s);if(!l)return;o.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,s).next(()=>n.Pi.addMatchingKeys(e,a.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(En.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&o.push(n.Pi.updateTargetData(e,c))});let s=di(),l=Si();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(vl(e,a,t.documentUpdates).next(e=>{s=e.ks,l=e.qs})),!r.isEqual(be.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return De.waitFor(o).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(M(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?M(r.hu,14607):e.removedDocuments.size>0&&(M(r.hu,42227),r.hu=!1))}),await du(n,e,t)}catch(e){await Re(e)}}function tu(e,t,n){const r=O(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=O(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Lc(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function nu(e,t,n){const r=O(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),a=i&&i.key;if(a){let e=new mn(le.comparator);e=e.insert(a,mr.newNoDocument(a,be.min()));const n=Si().add(a),i=new ya(be.min(),new Map,new mn(Q),e,n);await eu(r,i),r.du=r.du.remove(a),r.Au.delete(t),hu(r)}else await Sl(r.localStore,t,!1).then(()=>su(r,t,n)).catch(Re)}async function ru(e,t){const n=O(e),r=t.batch.batchId;try{const e=await function(e,t){const n=O(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let o=De.resolve();return a.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);M(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Si();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);ou(n,r,null),au(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await du(n,e)}catch(e){await Re(e)}}async function iu(e,t,n){const r=O(e);try{const e=await function(e,t){const n=O(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(M(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);ou(r,t,n),au(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await du(r,e)}catch(n){await Re(n)}}function au(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function ou(e,t,n){const r=O(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function su(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||lu(e,t)})}function lu(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Zl(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),hu(e))}function cu(e,t,n){for(const r of n)r instanceof Bc?(e.Ru.addReference(r.key,t),uu(e,r)):r instanceof zc?(P(qc,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||lu(e,r.key)):R(19791,{wu:r})}function uu(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(P(qc,"New document in limbo: "+n),e.Eu.add(r),hu(e))}function hu(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new le(ae.fromString(t)),r=e.fu.next();e.Au.set(r,new Kc(n)),e.du=e.du.insert(n,r),Jl(e.remoteStore,new oo(ei(Qr(n.path)),r,"TargetPurposeLimboResolution",Xe.ce))}}async function du(e,t,n){const r=O(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,s)=>{o.push(r.pu(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=ul.As(s.targetId,e);a.push(t)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(e,t){const n=O(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>De.forEach(t,t=>De.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>De.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ve(e))throw e;P(pl,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,a))}async function pu(e,t){const n=O(e);if(!n.currentUser.isEqual(t)){P(qc,"User change. New user:",t.toKey());const e=await gl(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new U(L.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await du(n,e.Ls)}}function fu(e,t){const n=O(e),r=n.Au.get(t);if(r&&r.hu)return Si().add(r.key);{let e=Si();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function mu(e){const t=O(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=eu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fu.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nu.bind(null,t),t.Pu.H_=Fc.bind(null,t.eventManager),t.Pu.yu=Oc.bind(null,t.eventManager),t}function gu(e){const t=O(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ru.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iu.bind(null,t),t}class yu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jl(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ml(this.persistence,new dl,e.initialUser,this.serializer)}Cu(e){return new Ys($s.mi,this.serializer)}Du(e){return new Cl}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yu.provider={build:()=>new yu};class vu extends yu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){M(this.persistence.referenceDelegate instanceof Js,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ks(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?ss.withCacheSize(this.cacheSizeBytes):ss.DEFAULT;return new Ys(e=>Js.mi(e,t),this.serializer)}}class bu extends yu{constructor(e,t,n){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await gu(this.xu.syncEngine),await dc(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return ml(this.persistence,new dl,e.initialUser,this.serializer)}Fu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new ks(n,e.asyncQueue,t)}Mu(e,t){const n=new We(t,this.persistence);return new Ke(e.asyncQueue,n)}Cu(e){const t=cl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ss.withCacheSize(this.cacheSizeBytes):ss.DEFAULT;return new ol(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ll(),Ul(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new Cl}}class wu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>tu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=pu.bind(null,this.syncEngine),await xc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Nc}createDatastore(e){const t=jl(e.databaseInfo.databaseId),n=function(e){return new Ol(e)}(e.databaseInfo);return function(e,t,n,r){return new Kl(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Yl(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>tu(this.syncEngine,e,0),Pl.v()?new Pl:new Al)}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new Wc(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=O(e);P(Xl,"RemoteStore shutting down."),t.Ea.add(5),await $l(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}wu.provider={build:()=>new wu};class Su{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):I("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const xu="FirestoreClient";class Eu{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=k.UNAUTHENTICATED,this.clientId=Y.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{P(xu,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(P(xu,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new j;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ac(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function ku(e,t){e.asyncQueue.verifyOperationInProgress(),P(xu,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await gl(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Cu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Au(e);P(xu,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Sc(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Sc(t.remoteStore,n)),e._onlineComponents=t}async function Au(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){P(xu,"Using user provided OfflineComponentProvider");try{await ku(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===L.FAILED_PRECONDITION||e.code===L.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;_("Error using user provided cache. Falling back to memory cache: "+n),await ku(e,new yu)}}else P(xu,"Using default OfflineComponentProvider"),await ku(e,new vu(void 0));return e._offlineComponents}async function Tu(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(P(xu,"Using user provided OnlineComponentProvider"),await Cu(e,e._uninitializedComponentsProvider._online)):(P(xu,"Using default OnlineComponentProvider"),await Cu(e,new wu))),e._onlineComponents}function Pu(e){return Tu(e).then(e=>e.syncEngine)}async function Iu(e){const t=await Tu(e),n=t.eventManager;return n.onListen=Xc.bind(null,t.syncEngine),n.onUnlisten=Jc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Yc.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Zc.bind(null,t.syncEngine),n}function _u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new j;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new Su({next:s=>{a.Nu(),t.enqueueAndForget(()=>Mc(e,o));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new U(L.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new U(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Vc(Qr(n.path),a,{includeMetadataChanges:!0,qa:!0});return Dc(e,o)}(await Iu(e),e.asyncQueue,t,n,r)),r.promise}function Nu(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ru=new Map,Du="firestore.googleapis.com",Mu=!0;class Fu{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new U(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Du,this.ssl=Mu}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Mu;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=os;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Ss)throw new U(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new U(L.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nu(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new U(L.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new U(L.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new U(L.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ou{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fu({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new U(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fu(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new B;switch(e.type){case"firstParty":return new H(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new U(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ru.get(e);t&&(P("ComponentProvider","Removing Datastore"),Ru.delete(e),t.terminate())}(this),Promise.resolve()}}class Lu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Lu(this.firestore,e,this._query)}}class Uu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Uu(this.firestore,e,this._key)}toJSON(){return{type:Uu._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(me(t,Uu._jsonSchema))return new Uu(e,n||null,new le(ae.fromString(t.referencePath)))}}Uu._jsonSchemaVersion="firestore/documentReference/1.0",Uu._jsonSchema={type:fe("string",Uu._jsonSchemaVersion),referencePath:fe("string")};class ju extends Lu{constructor(e,t,n){super(e,t,Qr(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Uu(this.firestore,null,new le(e))}withConverter(e){return new ju(this.firestore,e,this._path)}}function Vu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,c.Ku)(e),1===arguments.length&&(t=Y.newId()),ce("doc","path",t),e instanceof Ou){const n=ae.fromString(t,...r);return ue(n),new Uu(e,null,new le(n))}{if(!(e instanceof Uu||e instanceof ju))throw new U(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ae.fromString(t,...r));return ue(n),new Uu(e.firestore,e instanceof ju?e.converter:null,new le(n))}}const Bu="AsyncQueue";class zu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vl(this,"async_queue_retry"),this._c=()=>{const e=Ul();e&&P(Bu,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Ul();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ul();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new j;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ve(e))throw e;P(Bu,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,I("INTERNAL UNHANDLED ERROR: ",Gu(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Cc.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&R(47125,{Pc:Gu(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Gu(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function qu(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Hu extends Ou{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new zu,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zu(e),this._firestoreClient=void 0,await e}}}function Ku(e){if(e._terminated)throw new U(L.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Wu(e),e._firestoreClient}function Wu(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new Fn(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Nu(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Eu(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function Xu(e,t,n){if((e=pe(e,Hu))._firestoreClient||e._terminated)throw new U(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new U(L.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},Wu(e)}class Yu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yu(En.fromBase64String(e))}catch(e){throw new U(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Yu(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yu._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(me(e,Yu._jsonSchema))return Yu.fromBase64String(e.bytes)}}Yu._jsonSchemaVersion="firestore/bytes/1.0",Yu._jsonSchema={type:fe("string",Yu._jsonSchemaVersion),bytes:fe("string")};class Qu{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new U(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $u{constructor(e){this._methodName=e}}class Ju{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new U(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new U(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ju._jsonSchemaVersion}}static fromJSON(e){if(me(e,Ju._jsonSchema))return new Ju(e.latitude,e.longitude)}}Ju._jsonSchemaVersion="firestore/geoPoint/1.0",Ju._jsonSchema={type:fe("string",Ju._jsonSchemaVersion),latitude:fe("number"),longitude:fe("number")};class Zu{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Zu._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(me(e,Zu._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Zu(e.vectorValues);throw new U(L.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zu._jsonSchemaVersion="firestore/vectorValue/1.0",Zu._jsonSchema={type:fe("string",Zu._jsonSchemaVersion),vectorValues:fe("object")};const eh=/^__.*__$/;class th{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Qi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yi(e,this.data,t,this.fieldTransforms)}}function nh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R(40011,{Ac:e})}}class rh{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rh((0,a.A)((0,a.A)({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(nh(this.Ac)&&eh.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ih{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||jl(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new rh({Ac:e,methodName:t,Dc:n,path:se.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ah(e){const t=e._freezeSettings(),n=jl(e._databaseId);return new ih(e._databaseId,!!t.ignoreUndefinedProperties,n)}function oh(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);hh("Data must be an object, but it was:",o,r);const s=ch(r,o);let l,c;if(a.merge)l=new Sn(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=dh(t,r,n);if(!o.contains(i))throw new U(L.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));gh(e,i)||e.push(i)}l=new Sn(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new th(new pr(s),l,c)}class sh extends $u{_toFieldTransform(e){return new ji(e.path,new Ni)}isEqual(e){return e instanceof sh}}function lh(e,t){if(uh(e=(0,c.Ku)(e)))return hh("Unsupported field value:",t,e),ch(e,t);if(e instanceof $u)return function(e,t){if(!nh(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=lh(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,c.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ai(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ve.fromDate(e);return{timestampValue:Na(t.serializer,n)}}if(e instanceof ve){const n=new ve(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Na(t.serializer,n)}}if(e instanceof Ju)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Yu)return{bytesValue:Ra(t.serializer,e._byteString)};if(e instanceof Uu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Fa(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Zu)return function(e,t){return{mapValue:{fields:{[Un]:{stringValue:Bn},[zn]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return ki(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(de(e)))}(e,t)}function ch(e,t){const n={};return fn(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pn(e,(e,r)=>{const i=lh(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function uh(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ve||e instanceof Ju||e instanceof Yu||e instanceof Uu||e instanceof $u||e instanceof Zu)}function hh(e,t,n){if(!uh(n)||!he(n)){const r=de(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function dh(e,t,n){if((t=(0,c.Ku)(t))instanceof Qu)return t._internalPath;if("string"==typeof t)return fh(e,t);throw mh("Field path arguments must be of type string or ",e,!1,void 0,n)}const ph=new RegExp("[~\\*/\\[\\]]");function fh(e,t,n){if(t.search(ph)>=0)throw mh("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Qu(...t.split("."))._internalPath}catch(F){throw mh("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function mh(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new U(L.INVALID_ARGUMENT,s+e+l)}function gh(e,t){return e.some(e=>e.isEqual(t))}class yh{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Uu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vh extends yh{data(){return super.data()}}function bh(e,t){return"string"==typeof t?fh(e,t):t instanceof Qu?t._internalPath:t._delegate._internalPath}function wh(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new U(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sh{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(qn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return An(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw R(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return pn(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[zn].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>An(e.doubleValue));return new Zu(n)}convertGeoPoint(e){return new Ju(An(e.latitude),An(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Dn(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Mn(e));default:return null}}convertTimestamp(e){const t=Cn(e);return new ve(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ae.fromString(e);M(ao(n),9688,{name:e});const r=new Ln(n.get(1),n.get(3)),i=new le(n.popFirst(5));return r.isEqual(t)||I("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function xh(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Eh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kh extends yh{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(bh("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new U(L.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=kh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}kh._jsonSchemaVersion="firestore/documentSnapshot/1.0",kh._jsonSchema={type:fe("string",kh._jsonSchemaVersion),bundleSource:fe("string","DocumentSnapshot"),bundleName:fe("string"),bundle:fe("string")};class Ch extends kh{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Ah{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Eh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Ch(this._firestore,this._userDataWriter,n.key,n,new Eh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new U(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Ch(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Eh(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Ch(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Eh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Th(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new U(L.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ah._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Y.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Th(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R(61501,{type:e})}}Ah._jsonSchemaVersion="firestore/querySnapshot/1.0",Ah._jsonSchema={type:fe("string",Ah._jsonSchemaVersion),bundleSource:fe("string","QuerySnapshot"),bundleName:fe("string"),bundle:fe("string")};class Ph extends Sh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Uu(this.firestore,null,t)}}function Ih(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=(0,c.Ku)(e);let i={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof n[a]||qu(n[a])||(i=n[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(qu(n[a])){var s,l,u;const e=n[a];n[a]=null===(s=e.next)||void 0===s?void 0:s.bind(e),n[a+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[a+2]=null===(u=e.complete)||void 0===u?void 0:u.bind(e)}let h,d,p;if(e instanceof Uu)d=pe(e.firestore,Hu),p=Qr(e._key.path),h={next:t=>{n[a]&&n[a](Nh(d,e,t))},error:n[a+1],complete:n[a+2]};else{const t=pe(e,Lu);d=pe(t.firestore,Hu),p=t._query;const r=new Ph(d);h={next:e=>{n[a]&&n[a](new Ah(d,r,t,e))},error:n[a+1],complete:n[a+2]},wh(e._query)}return function(e,t,n,r){const i=new Su(r),a=new Vc(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Dc(await Iu(e),a)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>Mc(await Iu(e),a))}}(Ku(d),p,o,h)}function _h(e,t){return function(e,t){const n=new j;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=gu(e);try{const e=await function(e,t){const n=O(e),r=ve.now(),i=t.reduce((e,t)=>e.add(t.key),Si());let a,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=di(),l=Si();return n.Ns.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{a=i;const o=[];for(const e of t){const t=Wi(e,a.get(e.key).overlayedDocument);null!=t&&o.push(new Qi(e.key,t,fr(t.value.mapValue),Bi.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:mi(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new mn(Q)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await du(r,e.changes),await dc(r.remoteStore)}catch(e){const t=Ac(e,"Failed to persist write");n.reject(t)}}(await Pu(e),t,n)),n.promise}(Ku(e),t)}function Nh(e,t,n){const r=n.docs.get(t._key),i=new Ph(e);return new kh(e,i,t._key,r,new Eh(n.hasPendingWrites,n.fromCache),t.converter)}function Rh(){return new sh("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){C=e}(o.MF),(0,o.om)(new s.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Hu(new G(e.getProvider("auth-internal")),new W(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new U(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ln(e.options.projectId,t)}(o,r),o);return i=(0,a.A)({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),(0,o.KO)(x,E,e),(0,o.KO)(x,E,"esm2020")}();(0,o.KO)("firebase","12.3.0","app");var Dh=n(2644);const Mh={apiKey:"AIzaSyALzy3qXMyXPtLl7pUuCDo_eE5X89u3dpA",authDomain:"babynames-app-9fa2a.firebaseapp.com",projectId:"babynames-app-9fa2a",storageBucket:"babynames-app-9fa2a.firebasestorage.app",messagingSenderId:"1093132372253",appId:"1:1093132372253:web:0327c13610942d60f4f9f4"},Fh=(0,o.Wp)(Mh),Oh=((0,Dh.xI)(Fh),new Dh.HF,function(e,t){const n="object"==typeof e?e:(0,o.Sx)(),r="string"==typeof e?e:t||On,i=(0,o.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,c.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=pe(e,Ou);const i=(0,c.zJ)(t),o=e._getSettings(),s=(0,a.A)((0,a.A)({},o),{},{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);i&&((0,c.gE)("https://".concat(l)),(0,c.P1)("Firestore",!0)),o.host!==Du&&o.host!==l&&_("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=(0,a.A)((0,a.A)({},o),{},{host:l,ssl:i,emulatorOptions:r});if(!(0,c.bD)(u,s)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=k.MOCK_USER;else{var h;t=(0,c.Fy)(r.mockUserToken,null===(h=e._app)||void 0===h?void 0:h.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new U(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new k(i)}e._authCredentials=new z(new V(t,n))}}(i,...e)}return i}(Fh));(function(e,t){_("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return Xu(e,wu.provider,{build:e=>new bu(e,n.cacheSizeBytes,null===t||void 0===t?void 0:t.forceOwnership)}),Promise.resolve()})(Oh).catch(e=>{"failed-precondition"===e.code?console.log("Persistence failed: Multiple tabs open"):"unimplemented"===e.code?console.log("Persistence not available in this browser"):console.error("Firebase persistence error:",e)}),console.log("Firebase initialized with project:",Mh.projectId);const Lh=new class{constructor(){this.userId=null,this.unsubscribe=null,this.deviceId=void 0,this.syncStatus={isSyncing:!1,lastSyncTime:null,error:null},this.syncListeners=[],this.deviceId=this.getOrCreateDeviceId()}getOrCreateDeviceId(){let e=localStorage.getItem("deviceId");return e||(e="device_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),localStorage.setItem("deviceId",e)),e}setUserId(e){console.log("[USERDATA DEBUG] setUserId called with:",e),this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null),this.userId=e,console.log("[USERDATA DEBUG] userId set to:",this.userId),e&&this.subscribeToUserData()}subscribeToUserData(){if(!this.userId)return;const e=Vu(Oh,"users",this.userId);this.unsubscribe=Ih(e,e=>{if(e.exists()){const t=e.data();t.preferences&&this.handleCloudDataUpdate(t.preferences)}},e=>{console.error("Error subscribing to user data:",e),this.updateSyncStatus({error:e.message})})}handleCloudDataUpdate(e){if(window.dispatchEvent){const t=new CustomEvent("cloudDataUpdate",{detail:e});window.dispatchEvent(t)}this.updateSyncStatus({lastSyncTime:new Date,error:null})}async saveToCloud(e,t){if(console.log("[USERDATA DEBUG] saveToCloud called, userId:",this.userId),!this.userId)throw console.error("[USERDATA DEBUG] saveToCloud failed - no userId set!"),new Error("No user logged in");this.updateSyncStatus({isSyncing:!0});try{const n=Vu(Oh,"users",this.userId);await function(e,t,n){e=pe(e,Uu);const r=pe(e.firestore,Hu),i=xh(e.converter,t,n);return _h(r,[oh(ah(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Bi.none())])}(n,{preferences:{favorites:e,dislikes:t,lastUpdated:Rh(),deviceId:this.deviceId},email:localStorage.getItem("userEmail")||"",lastLogin:Rh()},{merge:!0}),this.updateSyncStatus({isSyncing:!1,lastSyncTime:new Date,error:null})}catch(n){throw console.error("Error saving to cloud:",n),this.updateSyncStatus({isSyncing:!1,error:n.message}),n}}async loadFromCloud(){if(console.log("[USERDATA DEBUG] loadFromCloud called, userId:",this.userId),!this.userId)throw console.error("[USERDATA DEBUG] loadFromCloud failed - no userId set!"),new Error("No user logged in");this.updateSyncStatus({isSyncing:!0});try{const e=Vu(Oh,"users",this.userId),t=await function(e){e=pe(e,Uu);const t=pe(e.firestore,Hu);return _u(Ku(t),e._key).then(n=>Nh(t,e,n))}(e);if(t.exists()){const e=t.data().preferences;return this.updateSyncStatus({isSyncing:!1,lastSyncTime:new Date,error:null}),e||{favorites:[],dislikes:[],lastUpdated:null,deviceId:""}}return this.updateSyncStatus({isSyncing:!1}),null}catch(e){throw console.error("Error loading from cloud:",e),this.updateSyncStatus({isSyncing:!1,error:e.message}),e}}mergePreferences(e,t){const n=Array.from(new Set([...e.favorites,...t.favorites])),r=Array.from(new Set([...e.dislikes,...t.dislikes]));return{favorites:n.filter(e=>!r.includes(e)),dislikes:r}}updateSyncStatus(e){this.syncStatus=(0,a.A)((0,a.A)({},this.syncStatus),e),this.notifySyncListeners()}notifySyncListeners(){this.syncListeners.forEach(e=>e(this.syncStatus))}onSyncStatusChange(e){return this.syncListeners.push(e),()=>{this.syncListeners=this.syncListeners.filter(t=>t!==e)}}getSyncStatus(){return this.syncStatus}disconnect(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null),this.userId=null}},Uh=Lh},1195:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(6230).A)("baby",[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]])},1318:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(2555),i=n(1136);const a=new class{constructor(){this.STORAGE_KEY="babynames_preferences",this.MAX_PINNED_FAVORITES=20,this.DEBOUNCE_DELAY=1500,this.data={favorites:[],dislikes:[],pinnedFavorites:[]},this.isLoggedIn=!1,this.userId=null,this.isClearingData=!1,this.syncTimeout=null,this.loadFromStorage(),this.setupCloudSync()}setupCloudSync(){window.addEventListener("cloudDataUpdate",e=>{const t=e.detail;t&&this.handleCloudUpdate(t)});const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);this.isLoggedIn=!0,this.userId=t.id}}handleCloudUpdate(e){if(this.isClearingData)return void console.log("[FavoritesService] Skipping cloud merge - clearing in progress");const t=i.A.mergePreferences({favorites:this.data.favorites,dislikes:this.data.dislikes},e);this.data=t,this.saveToStorage()}setUserContext(e){console.log("[FavoritesService] Setting user context:",e),this.userId=e,this.isLoggedIn=!!e,console.log("[FavoritesService] User context set - isLoggedIn:",this.isLoggedIn)}loadFromStorage(){try{const e=localStorage.getItem(this.STORAGE_KEY);if(e){const t=JSON.parse(e);this.data={favorites:(t.favorites||[]).map(e=>e.trim()).filter(e=>e.length>0),dislikes:(t.dislikes||[]).map(e=>e.trim()).filter(e=>e.length>0),pinnedFavorites:(t.pinnedFavorites||[]).map(e=>e.trim()).filter(e=>e.length>0)}}}catch(e){console.error("Error loading favorites from storage:",e),this.data={favorites:[],dislikes:[],pinnedFavorites:[]}}}saveToStorage(){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.data)),this.syncToCloud()}catch(e){console.error("Error saving favorites to storage:",e)}}async syncToCloud(){this.syncTimeout&&clearTimeout(this.syncTimeout),this.syncTimeout=setTimeout(async()=>{if(this.isLoggedIn&&this.userId)try{await i.A.saveToCloud(this.data.favorites,this.data.dislikes)}catch(e){console.error("Error syncing to cloud:",e)}this.syncTimeout=null},this.DEBOUNCE_DELAY)}async flushPendingSync(){if(this.syncTimeout&&(clearTimeout(this.syncTimeout),this.syncTimeout=null),this.isLoggedIn&&this.userId)try{await i.A.saveToCloud(this.data.favorites,this.data.dislikes),console.log("[FavoritesService] Pending sync flushed successfully")}catch(e){throw console.error("[FavoritesService] Error flushing pending sync:",e),e}}addFavorite(e){const t=e.trim();t&&(this.isFavorite(t)||(this.removeDislikes(t),this.data.favorites.push(t),this.saveToStorage(),window.dispatchEvent(new CustomEvent("favoriteAdded",{detail:{name:t}}))))}removeFavorite(e){const t=e.trim(),n=this.data.favorites.findIndex(e=>e.trim()===t);n>-1&&(this.data.favorites.splice(n,1),this.saveToStorage())}moveFavoriteUp(e){const t=e.trim(),n=this.data.favorites.findIndex(e=>e.trim()===t);return!(n<=0)&&([this.data.favorites[n-1],this.data.favorites[n]]=[this.data.favorites[n],this.data.favorites[n-1]],this.saveToStorage(),!0)}isFavorite(e){const t=e.trim();return this.data.favorites.some(e=>e.trim()===t)}getFavorites(){return[...this.data.favorites]}pinFavorite(e){const t=e.trim();if(!t)return{success:!1};var n;if(!this.isPinned(t)&&((null===(n=this.data.pinnedFavorites)||void 0===n?void 0:n.length)||0)>=this.MAX_PINNED_FAVORITES)return{success:!1,message:"You can only pin up to ".concat(this.MAX_PINNED_FAVORITES," names. Please unpin a name to add another.")};return this.isFavorite(t)||this.addFavorite(t),this.isPinned(t)||(this.data.pinnedFavorites||(this.data.pinnedFavorites=[]),this.data.pinnedFavorites.push(t),this.saveToStorage()),{success:!0}}unpinFavorite(e){const t=e.trim();if(!this.data.pinnedFavorites)return;const n=this.data.pinnedFavorites.findIndex(e=>e.trim()===t);n>-1&&(this.data.pinnedFavorites.splice(n,1),this.saveToStorage())}isPinned(e){if(!this.data.pinnedFavorites)return!1;const t=e.trim();return this.data.pinnedFavorites.some(e=>e.trim()===t)}togglePin(e){if(this.isPinned(e))return this.unpinFavorite(e),{success:!0,pinned:!1};{const t=this.pinFavorite(e);return{success:t.success,pinned:t.success,message:t.message}}}getPinnedFavorites(){return[...this.data.pinnedFavorites||[]]}getPinnedCount(){var e;return(null===(e=this.data.pinnedFavorites)||void 0===e?void 0:e.length)||0}getMaxPinnedFavorites(){return this.MAX_PINNED_FAVORITES}addDislike(e){const t=e.trim();t&&(this.isDisliked(t)||(this.removeFavorite(t),this.data.dislikes.push(t),this.saveToStorage()))}removeDislikes(e){const t=e.trim(),n=this.data.dislikes.findIndex(e=>e.trim()===t);n>-1&&(this.data.dislikes.splice(n,1),this.saveToStorage())}isDisliked(e){const t=e.trim();return this.data.dislikes.some(e=>e.trim()===t)}getDislikes(){return[...this.data.dislikes]}async clearFavorites(){console.log("[FavoritesService] Clearing favorites..."),console.log("[FavoritesService] Current isLoggedIn:",this.isLoggedIn,"userId:",this.userId),this.isClearingData=!0,this.data.favorites=[],this.data.pinnedFavorites=[];try{localStorage.removeItem(this.STORAGE_KEY);const e={favorites:[],dislikes:this.data.dislikes,pinnedFavorites:[]};localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e));const t=localStorage.getItem(this.STORAGE_KEY);if(t){const n=JSON.parse(t);n.favorites&&n.favorites.length>0&&(console.error("[FavoritesService] Failed to clear favorites - still has",n.favorites.length,"items"),e.favorites=[],localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e)))}console.log("[FavoritesService] Favorites cleared from localStorage")}catch(e){throw console.error("[FavoritesService] Error saving to localStorage:",e),this.isClearingData=!1,e}if(this.isLoggedIn&&this.userId){console.log("[FavoritesService] User is logged in, syncing to cloud...");try{await i.A.saveToCloud([],this.data.dislikes),console.log("[FavoritesService] Empty favorites successfully synced to cloud")}catch(e){throw console.error("[FavoritesService] Failed to sync empty favorites to cloud:",e),this.isClearingData=!1,e}}else console.log("[FavoritesService] User not logged in, skipping cloud sync");this.loadFromStorage(),setTimeout(()=>{this.isClearingData=!1,console.log("[FavoritesService] Clearing flag reset - cloud sync can resume")},1e3)}async clearDislikes(){console.log("[FavoritesService] Clearing dislikes..."),console.log("[FavoritesService] Current isLoggedIn:",this.isLoggedIn,"userId:",this.userId),this.isClearingData=!0,this.data.dislikes=[];try{localStorage.removeItem(this.STORAGE_KEY);const e={favorites:this.data.favorites,dislikes:[]};localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e));const t=localStorage.getItem(this.STORAGE_KEY);if(t){const n=JSON.parse(t);n.dislikes&&n.dislikes.length>0&&(console.error("[FavoritesService] Failed to clear dislikes - still has",n.dislikes.length,"items"),e.dislikes=[],localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e)))}console.log("[FavoritesService] Dislikes cleared from localStorage")}catch(e){throw console.error("[FavoritesService] Error saving to localStorage:",e),this.isClearingData=!1,e}if(this.isLoggedIn&&this.userId){console.log("[FavoritesService] User is logged in, syncing to cloud...");try{await i.A.saveToCloud(this.data.favorites,[]),console.log("[FavoritesService] Empty dislikes successfully synced to cloud")}catch(e){throw console.error("[FavoritesService] Failed to sync empty dislikes to cloud:",e),this.isClearingData=!1,e}}else console.log("[FavoritesService] User not logged in, skipping cloud sync");this.loadFromStorage(),setTimeout(()=>{this.isClearingData=!1,console.log("[FavoritesService] Clearing flag reset - cloud sync can resume")},1e3)}async clearAll(){console.log("[FavoritesService] Clearing all favorites and dislikes..."),console.log("[FavoritesService] Current isLoggedIn:",this.isLoggedIn,"userId:",this.userId),this.data={favorites:[],dislikes:[]};try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.data)),console.log("[FavoritesService] All data cleared from localStorage")}catch(e){throw console.error("[FavoritesService] Error saving to localStorage:",e),e}if(this.isLoggedIn&&this.userId){console.log("[FavoritesService] User is logged in, syncing to cloud...");try{await i.A.saveToCloud([],[]),console.log("[FavoritesService] Empty lists successfully synced to cloud")}catch(e){throw console.error("[FavoritesService] Failed to sync empty lists to cloud:",e),e}}else console.log("[FavoritesService] User not logged in, skipping cloud sync")}filterOutDislikes(e){return 0===this.data.dislikes.length?e:e.filter(e=>!this.isDisliked(e.name))}filterOutFavorites(e){return 0===this.data.favorites.length?e:e.filter(e=>!this.isFavorite(e.name))}filterOutLikedAndDisliked(e){return 0===this.data.favorites.length&&0===this.data.dislikes.length?e:e.filter(e=>!this.isFavorite(e.name)&&!this.isDisliked(e.name))}filterFavorites(e){return 0===this.data.favorites.length?[]:e.filter(e=>this.isFavorite(e.name))}toggleFavorite(e){return this.isFavorite(e)?(this.removeFavorite(e),!1):(this.addFavorite(e),!0)}toggleDislike(e){return this.isDisliked(e)?(this.removeDislikes(e),!1):(this.addDislike(e),!0)}getFavoritesCount(){return this.data.favorites.length}getDislikesCount(){return this.data.dislikes.length}setFavorites(e){this.data.favorites=e,this.saveToStorage()}setDislikes(e){this.data.dislikes=e,this.saveToStorage()}getAllData(){return(0,r.A)({},this.data)}}},1352:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(1085)},1567:(e,t,n)=>{n.d(t,{d:()=>s});var r=n(2830),i=n(9950),a=n(2278),o=n(9305);function s(e){const t=(0,o.M)(()=>(0,r.OQ)(e)),{isStatic:n}=(0,i.useContext)(a.Q);if(n){const[,n]=(0,i.useState)(e);(0,i.useEffect)(()=>t.on("change",n),[])}return t}},1617:(e,t,n)=>{n.d(t,{V:()=>p,f:()=>y});var r=n(3548);const i=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;var a=n(266),o=n(6935);const s="number",l="color",c="var",u="var(",h="${}",d=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function p(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},a=[];let o=0;const p=t.replace(d,e=>(r.y.test(e)?(i.color.push(o),a.push(l),n.push(r.y.parse(e))):e.startsWith(u)?(i.var.push(o),a.push(c),n.push(e)):(i.number.push(o),a.push(s),n.push(parseFloat(e))),++o,h)).split(h);return{values:n,split:p,indexes:i,types:a}}function f(e){return p(e).values}function m(e){const{split:t,types:n}=p(e),i=t.length;return e=>{let a="";for(let c=0;c<i;c++)if(a+=t[c],void 0!==e[c]){const t=n[c];a+=t===s?(0,o.a)(e[c]):t===l?r.y.transform(e[c]):e[c]}return a}}const g=e=>"number"===typeof e?0:r.y.test(e)?r.y.getAnimatableNone(e):e;const y={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(a.S))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(i))||void 0===n?void 0:n.length)||0)>0},parse:f,createTransformer:m,getAnimatableNone:function(e){const t=f(e);return m(e)(t.map(g))}}},1652:(e,t,n)=>{n.d(t,{q:()=>r});const r={layout:0,mainThread:0,waapi:0}},1741:(e,t,n)=>{n.d(t,{MF:()=>he,j6:()=>oe,xZ:()=>se,om:()=>ae,Sx:()=>pe,Wp:()=>de,KO:()=>fe});var r=n(2555),i=n(6863),a=n(2226),o=n(498);let s,l;const c=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap;let f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||h.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return y(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(v(this),n),y(c.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(e.apply(v(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(v(this),t,...r);return h.set(a,t.sort?t.sort():[t]),y(a)}}function g(e){return"function"===typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});u.set(e,t)}(e),t=e,(s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,f):e);var t}function y(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(y(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&c.set(t,e)}).catch(()=>{}),p.set(t,e),t}(e);if(d.has(e))return d.get(e);const t=g(e);return t!==e&&(d.set(e,t),p.set(t,e)),t}const v=e=>p.get(e);const b=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],S=new Map;function x(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(S.get(t))return S.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return S.set(t,a),a}f=(e=>(0,r.A)((0,r.A)({},e),{},{get:(t,n,r)=>x(t,n)||e.get(t,n,r),has:(t,n)=>!!x(t,n)||e.has(t,n)}))(f);class E{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const k="@firebase/app",C="0.14.3",A=new a.Vy("@firebase/app"),T="@firebase/app-compat",P="@firebase/analytics-compat",I="@firebase/analytics",_="@firebase/app-check-compat",N="@firebase/app-check",R="@firebase/auth",D="@firebase/auth-compat",M="@firebase/database",F="@firebase/data-connect",O="@firebase/database-compat",L="@firebase/functions",U="@firebase/functions-compat",j="@firebase/installations",V="@firebase/installations-compat",B="@firebase/messaging",z="@firebase/messaging-compat",G="@firebase/performance",q="@firebase/performance-compat",H="@firebase/remote-config",K="@firebase/remote-config-compat",W="@firebase/storage",X="@firebase/storage-compat",Y="@firebase/firestore",Q="@firebase/ai",$="@firebase/firestore-compat",J="firebase",Z="[DEFAULT]",ee={[k]:"fire-core",[T]:"fire-core-compat",[I]:"fire-analytics",[P]:"fire-analytics-compat",[N]:"fire-app-check",[_]:"fire-app-check-compat",[R]:"fire-auth",[D]:"fire-auth-compat",[M]:"fire-rtdb",[F]:"fire-data-connect",[O]:"fire-rtdb-compat",[L]:"fire-fn",[U]:"fire-fn-compat",[j]:"fire-iid",[V]:"fire-iid-compat",[B]:"fire-fcm",[z]:"fire-fcm-compat",[G]:"fire-perf",[q]:"fire-perf-compat",[H]:"fire-rc",[K]:"fire-rc-compat",[W]:"fire-gcs",[X]:"fire-gcs-compat",[Y]:"fire-fst",[$]:"fire-fst-compat",[Q]:"fire-vertex","fire-js":"fire-js",[J]:"fire-js-all"},te=new Map,ne=new Map,re=new Map;function ie(e,t){try{e.container.addComponent(t)}catch(n){A.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ae(e){const t=e.name;if(re.has(t))return A.debug("There were multiple attempts to register component ".concat(t,".")),!1;re.set(t,e);for(const n of te.values())ie(n,e);for(const n of ne.values())ie(n,e);return!0}function oe(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function se(e){return null!==e&&void 0!==e&&void 0!==e.settings}const le={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ce=new o.FA("app","Firebase",le);class ue{constructor(e,t,n){this._isDeleted=!1,this._options=(0,r.A)({},e),this._config=(0,r.A)({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}const he="12.3.0";function de(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const a=(0,r.A)({name:Z,automaticDataCollectionEnabled:!0},t),s=a.name;if("string"!==typeof s||!s)throw ce.create("bad-app-name",{appName:String(s)});if(n||(n=(0,o.T9)()),!n)throw ce.create("no-options");const l=te.get(s);if(l){if((0,o.bD)(n,l.options)&&(0,o.bD)(a,l.config))return l;throw ce.create("duplicate-app",{appName:s})}const c=new i.h1(s);for(const r of re.values())c.addComponent(r);const u=new ue(n,a,c);return te.set(s,u),u}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;const t=te.get(e);if(!t&&e===Z&&(0,o.T9)())return de();if(!t)throw ce.create("no-app",{appName:e});return t}function fe(e,t,n){var r;let a=null!==(r=ee[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const o=a.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void A.warn(e.join(" "))}ae(new i.uA("".concat(a,"-version"),()=>({library:a,version:t}),"VERSION"))}const me="firebase-heartbeat-store";let ge=null;function ye(){return ge||(ge=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=y(o);return r&&o.addEventListener("upgradeneeded",e=>{r(y(o.result),e.oldVersion,e.newVersion,y(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(me)}catch(n){console.warn(n)}}}).catch(e=>{throw ce.create("idb-open",{originalErrorMessage:e.message})})),ge}async function ve(e,t){try{const n=(await ye()).transaction(me,"readwrite"),r=n.objectStore(me);await r.put(t,be(e)),await n.done}catch(n){if(n instanceof o.g)A.warn(n.message);else{const e=ce.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});A.warn(e.message)}}}function be(e){return"".concat(e.name,"!").concat(e.options.appId)}class we{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xe(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Se();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){A.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Se(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Ee(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ee(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,o.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return A.warn(t),""}}}function Se(){return(new Date).toISOString().substring(0,10)}class xe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.zW)()&&(0,o.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ye()).transaction(me),n=await t.objectStore(me).get(be(e));return await t.done,n}catch(t){if(t instanceof o.g)A.warn(t.message);else{const e=ce.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});A.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ve(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ve(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ee(e){return(0,o.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var ke;ke="",ae(new i.uA("platform-logger",e=>new E(e),"PRIVATE")),ae(new i.uA("heartbeat",e=>new we(e),"PRIVATE")),fe(k,C,ke),fe(k,C,"esm2020"),fe("fire-js","")},1863:(e,t,n)=>{var r=n(9950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},1983:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var S=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function k(e,t,r,i,a,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(){}function I(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return I((u=e._init)(e._payload),t,i,a,o)}}if(u)return o=o(e),u=""===a?"."+T(e,0):a,S(o)?(i="",null!=u&&(i=u.replace(A,"$&/")+"/"),I(o,t,i,"",function(e){return e})):null!=o&&(C(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+u,o=k(l.type,c,void 0,0,0,l.props)),t.push(o)),1;u=0;var h,f=""===a?".":a+":";if(S(e))for(var m=0;m<e.length;m++)u+=I(a=e[m],t,i,s=f+T(a,m),o);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=I(a=a.value,t,i,s=f+T(a,m++),o);else if("object"===s){if("function"===typeof e.then)return I(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(P,P):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function _(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:_,forEach:function(e,t,n){_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _(e,function(){t++}),t},toArray:function(e){return _(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return x.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!E.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return k(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return k(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.T,n={};x.T=n;try{var r=e(),i=x.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(D,R)}catch(a){R(a)}finally{x.T=t}},t.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},t.use=function(e){return x.H.use(e)},t.useActionState=function(e,t,n){return x.H.useActionState(e,t,n)},t.useCallback=function(e,t){return x.H.useCallback(e,t)},t.useContext=function(e){return x.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return x.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=x.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return x.H.useId()},t.useImperativeHandle=function(e,t,n){return x.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.H.useMemo(e,t)},t.useOptimistic=function(e,t){return x.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return x.H.useReducer(e,t,n)},t.useRef=function(e){return x.H.useRef(e)},t.useState=function(e){return x.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.H.useTransition()},t.version="19.1.1"},2038:(e,t,n)=>{n.d(t,{q:()=>r});const r=(e,t,n)=>n>t?t:n<e?e:n},2167:(e,t,n)=>{n.d(t,{X4:()=>o,ai:()=>a,hs:()=>s});var r=n(2555),i=n(2038);const a={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},o=(0,r.A)((0,r.A)({},a),{},{transform:e=>(0,i.q)(0,1,e)}),s=(0,r.A)((0,r.A)({},a),{},{default:1})},2226:(e,t,n)=>{n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const a={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,s={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=s[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?a[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},2278:(e,t,n)=>{n.d(t,{Q:()=>r});const r=(0,n(9950).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"})},2555:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function a(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>s})},2644:(e,t,n)=>{n.d(t,{HF:()=>Ze,xI:()=>Rn,eN:()=>ct});var r=n(3986),i=n(2555),a=n(1741),o=n(498),s=n(2226),l=n(6863);const c=["providerId"],u=["uid","auth","stsTokenManager"],h=["providerId","signInMethod"];function d(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p=d,f=new o.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),m=new s.Vy("@firebase/auth");function g(e){if(m.logLevel<=s.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];m.error("Auth (".concat(a.MF,"): ").concat(e),...n)}}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw S(e,...n)}function v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return S(e,...n)}function b(e,t,n){const r=(0,i.A)((0,i.A)({},p()),{},{[t]:n});return new o.FA("auth","Firebase",r).create(t,{appName:e.name})}function w(e){return b(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return f.create(e,...n)}function x(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw S(t,...r)}}function E(e){const t="INTERNAL ASSERTION FAILED: "+e;throw g(t),new Error(t)}function k(e,t){e||E(t)}function C(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function A(){return"http:"===T()||"https:"===T()}function T(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class P{constructor(e,t){this.shortDelay=e,this.longDelay=t,k(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,o.jZ)()||(0,o.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(A()||(0,o.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function I(e,t){k(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class _{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void E("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void E("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void E("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},R=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D=new P(3e4,6e4);function M(e,t){return e.tenantId&&!t.tenantId?(0,i.A)((0,i.A)({},t),{},{tenantId:e.tenantId}):t}async function F(e,t,n,r){return O(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let a={},s={};r&&("GET"===t?s=r:a={body:JSON.stringify(r)});const l=(0,o.Am)((0,i.A)({key:e.config.apiKey},s)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u=(0,i.A)({method:t,headers:c},a);return(0,o.c1)()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,o.zJ)(e.emulatorConfig.host)&&(u.credentials="include"),_.fetch()(await U(e,e.config.apiHost,n,l),u)})}async function O(e,t,n){e._canInitEmulator=!1;const r=(0,i.A)((0,i.A)({},N),t);try{const t=new V(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw B(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw B(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw B(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw B(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw b(e,s,o);y(e,s)}}catch(a){if(a instanceof o.g)throw a;y(e,"network-request-failed",{message:String(a)})}}async function L(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await F(e,t,n,r,i);return"mfaPendingCredential"in a&&y(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function U(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),a=e,o=a.config.emulator?I(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(R.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(o).toString()}return o}function j(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class V{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(v(this.auth,"network-request-failed")),D.get())})}}function B(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=v(e,t,r);return i.customData._tokenResponse=n,i}function z(e){return void 0!==e&&void 0!==e.enterprise}class G{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return j(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function q(e,t){return F(e,"GET","/v2/recaptchaConfig",M(e,t))}async function H(e,t){return F(e,"POST","/v1/accounts:lookup",t)}function K(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function W(e){return 1e3*Number(e)}function X(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return g("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,o.u)(n);return e?JSON.parse(e):(g("Failed to decode base64 JWT payload"),null)}catch(i){return g("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Y(e){const t=X(e);return x(t,"internal-error"),x("undefined"!==typeof t.exp,"internal-error"),x("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Q(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof o.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class ${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class J{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=K(this.lastLoginAt),this.creationTime=K(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Z(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Q(e,H(n,{idToken:r}));x(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=null!==(t=a.providerUserInfo)&&void 0!==t&&t.length?ee(a.providerUserInfo):[],s=(l=e.providerData,c=o,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&a.passwordHash)&&!(null!==s&&void 0!==s&&s.length),d=!!u&&h,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new J(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(e,p)}function ee(e){return e.map(e=>{let{providerId:t}=e,n=(0,r.A)(e,c);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class te{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x("undefined"!==typeof e.idToken,"internal-error"),x("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Y(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){x(0!==e.length,"internal-error");const t=Y(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(x(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await O(e,{},async()=>{const n=(0,o.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await U(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:n};return e.emulatorConfig&&(0,o.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),_.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new te;return n&&(x("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(x("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(x("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new te,this.toJSON())}_performRefresh(){return E("not implemented")}}function ne(e,t){x("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class re{constructor(e){let{uid:t,auth:n,stsTokenManager:i}=e,a=(0,r.A)(e,u);this.providerId="firebase",this.proactiveRefresh=new $(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new J(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Q(this,this.stsTokenManager.getToken(this.auth,e));return x(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,o.Ku)(e),r=await n.getIdToken(t),i=X(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:K(W(i.auth_time)),issuedAtTime:K(W(i.iat)),expirationTime:K(W(i.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,o.Ku)(e);await Z(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>(0,i.A)({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new re((0,i.A)((0,i.A)({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Z(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,a.xZ)(this.auth.app))return Promise.reject(w(this.auth));const e=await this.getIdToken();return await Q(this,async function(e,t){return F(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return(0,i.A)((0,i.A)({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>(0,i.A)({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,a,o,s,l,c,u;const h=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,p=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,y=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:w,isAnonymous:S,providerData:E,stsTokenManager:k}=t;x(b&&k,e,"internal-error");const C=te.fromJSON(this.name,k);x("string"===typeof b,e,"internal-error"),ne(h,e.name),ne(d,e.name),x("boolean"===typeof w,e,"internal-error"),x("boolean"===typeof S,e,"internal-error"),ne(p,e.name),ne(f,e.name),ne(m,e.name),ne(g,e.name),ne(y,e.name),ne(v,e.name);const A=new re({uid:b,auth:e,email:d,emailVerified:w,displayName:h,isAnonymous:S,photoURL:f,phoneNumber:p,tenantId:m,stsTokenManager:C,createdAt:y,lastLoginAt:v});return E&&Array.isArray(E)&&(A.providerData=E.map(e=>(0,i.A)({},e))),g&&(A._redirectEventId=g),A}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new te;r.updateFromServerResponse(t);const i=new re({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Z(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];x(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?ee(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),o=new te;o.updateFromIdToken(n);const s=new re({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new J(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(s,l),s}}const ie=new Map;function ae(e){k(e instanceof Function,"Expected a class definition");let t=ie.get(e);return t?(k(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ie.set(e,t),t)}class oe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}oe.type="NONE";const se=oe;function le(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ce{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=le(this.userKey,r.apiKey,i),this.fullPersistenceKey=le("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await H(this.auth,{idToken:e}).catch(()=>{});return t?re._fromGetAccountInfoResponse(this.auth,t,e):null}return re._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ce(ae(se),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ae(se);const a=le(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await H(e,{idToken:t}).catch(()=>{});if(!r)break;n=await re._fromGetAccountInfoResponse(e,r,t)}else n=re._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(t){}})),new ce(i,e,n)):new ce(i,e,n)}}function ue(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(he(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ge(t))return"Blackberry";if(ye(t))return"Webos";if(de(t))return"Safari";if((t.includes("chrome/")||pe(t))&&!t.includes("edge/"))return"Chrome";if(me(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/firefox\//i.test(e)}function de(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/crios\//i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/iemobile/i.test(e)}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/android/i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/blackberry/i.test(e)}function ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/webos/i.test(e)}function ve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function be(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return ve(e)||me(e)||ye(e)||ge(e)||/windows phone/i.test(e)||fe(e)}function we(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ue((0,o.ZQ)());break;case"Worker":t="".concat(ue((0,o.ZQ)()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(a.MF,"/").concat(r)}class Se{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class xe{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,o;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ee{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ce(this),this.idTokenSubscription=new Ce(this),this.beforeStateQueue=new Se(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ae(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await ce.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await H(this,{idToken:e}),n=await re._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,a.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,o;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,a=null===(o=n)||void 0===o?void 0:o._redirectEventId,s=await this.tryRedirectSignIn(e);t&&t!==a||null===s||void 0===s||!s.user||(n=s.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return x(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Z(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,a.xZ)(this.app))return Promise.reject(w(this));const t=e?(0,o.Ku)(e):null;return t&&x(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&x(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,a.xZ)(this.app)?Promise.reject(w(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,a.xZ)(this.app)?Promise.reject(w(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ae(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return F(e,"GET","/v2/passwordPolicy",M(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new xe(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new o.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return F(e,"POST","/v2/accounts:revokeToken",M(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ae(e)||this._popupRedirectResolver;x(t,this,"argument-error"),this.redirectPersistenceManager=await ce.create(this,[ae(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(x(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=we(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,a.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(m.logLevel<=s.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];m.warn("Auth (".concat(a.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ke(e){return(0,o.Ku)(e)}class Ce{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,o.tD)(e=>this.observer=e)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ae={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Te(e){return Ae.loadJS(e)}function Pe(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ie{constructor(){this.enterprise=new _e}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _e{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ne="NO_RECAPTCHA";class Re{constructor(e){this.type="recaptcha-enterprise",this.auth=ke(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;z(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ne)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ie).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{q(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new G(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&z(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ae.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Te(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function De(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new Re(e);let s;if(a)s=Ne;else try{s=await o.verify(n)}catch(c){s=await o.verify(n,!0)}const l=(0,i.A)({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in l){const e=l.phoneEnrollmentInfo.phoneNumber,t=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const e=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Me(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await De(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await De(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("PHONE_PROVIDER")){const i=await De(e,t,n);return r(e,i).catch(async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await De(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await De(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Fe(e){const t=ke(e),n=await q(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new G(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Re(t).verify()}}function Oe(e,t,n){const r=ke(e);x(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),a=Le(t),{host:s,port:l}=function(e){const t=Le(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ue(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ue(t)}}}(t),c=null===l?"":":".concat(l),u={url:"".concat(a,"//").concat(s).concat(c,"/")},h=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return x(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void x((0,o.bD)(u,r.config.emulator)&&(0,o.bD)(h,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,(0,o.zJ)(s)?((0,o.gE)("".concat(a,"//").concat(s).concat(c)),(0,o.P1)("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Le(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ue(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class je{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return E("not implemented")}_getIdTokenResponse(e){return E("not implemented")}_linkToIdToken(e,t){return E("not implemented")}_getReauthenticationResolver(e){return E("not implemented")}}async function Ve(e,t){return F(e,"POST","/v1/accounts:signUp",t)}async function Be(e,t){return L(e,"POST","/v1/accounts:signInWithPassword",M(e,t))}class ze extends je{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ze(e,t,"password")}static _fromEmailAndCode(e,t){return new ze(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Me(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Be,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",M(e,t))}(e,{email:this._email,oobCode:this._password});default:y(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Me(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ve,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",M(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:y(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ge(e,t){return L(e,"POST","/v1/accounts:signInWithIdp",M(e,t))}class qe extends je{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):y("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,a=(0,r.A)(t,h);if(!n||!i)return null;const o=new qe(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){return Ge(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ge(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ge(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,o.Am)(t)}return e}}async function He(e,t){return F(e,"POST","/v1/accounts:sendVerificationCode",M(e,t))}const Ke={USER_NOT_FOUND:"user-not-found"};class We extends je{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new We({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new We({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await L(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,t));if(n.temporaryProof)throw B(e,"account-exists-with-different-credential",n);return n}(e,(0,i.A)({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,(0,i.A)((0,i.A)({},t),{},{operation:"REAUTH"})),Ke)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new We({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Xe{constructor(e){var t,n,r,i,a,s;const l=(0,o.I9)((0,o.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);x(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(i=l.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=l.lang)&&void 0!==a?a:null,this.tenantId=null!==(s=l.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=(0,o.I9)((0,o.hp)(e)).link,n=t?(0,o.I9)((0,o.hp)(t)).deep_link_id:null,r=(0,o.I9)((0,o.hp)(e)).deep_link_id;return(r?(0,o.I9)((0,o.hp)(r)).link:null)||r||n||t||e}(e);try{return new Xe(t)}catch(n){return null}}}class Ye{constructor(){this.providerId=Ye.PROVIDER_ID}static credential(e,t){return ze._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Xe.parseLink(t);return x(n,"argument-error"),ze._fromEmailAndCode(e,n.code,n.tenantId)}}Ye.PROVIDER_ID="password",Ye.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ye.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Qe{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $e extends Qe{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Je extends $e{constructor(){super("facebook.com")}static credential(e){return qe._fromParams({providerId:Je.PROVIDER_ID,signInMethod:Je.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Je.credentialFromTaggedObject(e)}static credentialFromError(e){return Je.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Je.credential(t.oauthAccessToken)}catch(n){return null}}}Je.FACEBOOK_SIGN_IN_METHOD="facebook.com",Je.PROVIDER_ID="facebook.com";class Ze extends $e{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qe._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ze.credential(n,r)}catch(i){return null}}}Ze.GOOGLE_SIGN_IN_METHOD="google.com",Ze.PROVIDER_ID="google.com";class et extends $e{constructor(){super("github.com")}static credential(e){return qe._fromParams({providerId:et.PROVIDER_ID,signInMethod:et.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return et.credentialFromTaggedObject(e)}static credentialFromError(e){return et.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return et.credential(t.oauthAccessToken)}catch(n){return null}}}et.GITHUB_SIGN_IN_METHOD="github.com",et.PROVIDER_ID="github.com";class tt extends $e{constructor(){super("twitter.com")}static credential(e,t){return qe._fromParams({providerId:tt.PROVIDER_ID,signInMethod:tt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return tt.credentialFromTaggedObject(e)}static credentialFromError(e){return tt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return tt.credential(n,r)}catch(i){return null}}}tt.TWITTER_SIGN_IN_METHOD="twitter.com",tt.PROVIDER_ID="twitter.com";class nt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await re._fromIdTokenResponse(e,n,r),a=rt(n);return new nt({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=rt(n);return new nt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function rt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class it extends o.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,it.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new it(e,t,n,r)}}function at(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw it._fromErrorAndOperation(e,n,t,r);throw n})}async function ot(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Q(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return nt._forOperation(e,"link",r)}async function st(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if((0,a.xZ)(r.app))return Promise.reject(w(r));const i="reauthenticate";try{const a=await Q(e,at(r,i,t,e),n);x(a.idToken,r,"internal-error");const o=X(a.idToken);x(o,r,"internal-error");const{sub:s}=o;return x(e.uid===s,r,"user-mismatch"),nt._forOperation(e,i,a)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&y(r,"user-mismatch"),o}}async function lt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,a.xZ)(e.app))return Promise.reject(w(e));const r="signIn",i=await at(e,r,t),o=await nt._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function ct(e,t){return lt(ke(e),t)}function ut(e,t){return F(e,"POST","/v2/accounts/mfaEnrollment:start",M(e,t))}new WeakMap;const ht="__sak";class dt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ht,"1"),this.storage.removeItem(ht),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class pt extends dt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=be(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,o.lT)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pt.type="LOCAL";const ft=pt;function mt(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function gt(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class yt{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=gt(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return mt(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=gt(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=gt(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=mt(n);const i=setInterval(()=>{const e=mt(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}yt.type="COOKIE";class vt extends dt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vt.type="SESSION";const bt=vt;class wt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new wt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(null===a||void 0===a||!a.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function St(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}wt.receivers=[];class xt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((o,s)=>{const l=St("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Et(){return window}function kt(){return"undefined"!==typeof Et().WorkerGlobalScope&&"function"===typeof Et().importScripts}const Ct="firebaseLocalStorageDb",At="firebaseLocalStorage",Tt="fbase_key";class Pt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function It(e,t){return e.transaction([At],t?"readwrite":"readonly").objectStore(At)}function _t(){const e=indexedDB.open(Ct,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(At,{keyPath:Tt})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(At)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ct);return new Pt(e).toPromise()}(),t(await _t()))})})}async function Nt(e,t,n){const r=It(e,!0).put({[Tt]:t,value:n});return new Pt(r).toPromise()}function Rt(e,t){const n=It(e,!0).delete(t);return new Pt(n).toPromise()}class Dt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await _t()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wt._getInstance(kt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new xt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _t();return await Nt(e,ht,"1"),await Rt(e,ht),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nt(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=It(e,!1).get(t),r=await new Pt(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Rt(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=It(e,!1).getAll();return new Pt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Dt.type="LOCAL";const Mt=Dt;function Ft(e,t){return F(e,"POST","/v2/accounts/mfaSignIn:start",M(e,t))}Pe("rcb"),new P(3e4,6e4);const Ot="recaptcha";async function Lt(e,t,n){if(!e._getRecaptchaConfig())try{await Fe(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){x("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=Me(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ne){x((null===n||void 0===n?void 0:n.type)===Ot,e,"argument-error");return ut(e,await Ut(e,t,n))}return ut(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;x("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;x(a,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Me(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ne){x((null===n||void 0===n?void 0:n.type)===Ot,e,"argument-error");return Ft(e,await Ut(e,t,n))}return Ft(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Me(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Ne){x((null===n||void 0===n?void 0:n.type)===Ot,e,"argument-error");return He(e,await Ut(e,t,n))}return He(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Ut(e,t,n){x(n.type===Ot,e,"argument-error");const r=await n.verify();x("string"===typeof r,e,"argument-error");const a=(0,i.A)({},t);if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.captchaResponse,n=a.phoneEnrollmentInfo.clientType,i=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),a}if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.captchaResponse,t=a.phoneSignInInfo.clientType,n=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),a}return Object.assign(a,{recaptchaToken:r}),a}class jt{constructor(e){this.providerId=jt.PROVIDER_ID,this.auth=ke(e)}verifyPhoneNumber(e,t){return Lt(this.auth,e,(0,o.Ku)(t))}static credential(e,t){return We._fromVerification(e,t)}static credentialFromResult(e){const t=e;return jt.credentialFromTaggedObject(t)}static credentialFromError(e){return jt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?We._fromTokenResponse(n,r):null}}function Vt(e,t){return t?ae(t):(x(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}jt.PROVIDER_ID="phone",jt.PHONE_SIGN_IN_METHOD="phone";class Bt extends je{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ge(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ge(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ge(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zt(e){return lt(e.auth,new Bt(e),e.bypassAuthState)}function Gt(e){const{auth:t,user:n}=e;return x(n,t,"internal-error"),st(n,new Bt(e),e.bypassAuthState)}async function qt(e){const{auth:t,user:n}=e;return x(n,t,"internal-error"),ot(n,new Bt(e),e.bypassAuthState)}class Ht{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zt;case"linkViaPopup":case"linkViaRedirect":return qt;case"reauthViaPopup":case"reauthViaRedirect":return Gt;default:y(this.auth,"internal-error")}}resolve(e){k(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){k(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kt=new P(2e3,1e4);class Wt extends Ht{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Wt.currentPopupAction&&Wt.currentPopupAction.cancel(),Wt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return x(e,this.auth,"internal-error"),e}async onExecution(){k(1===this.filter.length,"Popup operations only handle one event");const e=St();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(v(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(v(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(v(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Kt.get())};e()}}Wt.currentPopupAction=null;const Xt=new Map;class Yt extends Ht{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Xt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Jt(t),r=$t(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Xt.set(this.auth._key(),e)}return this.bypassAuthState||Xt.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Qt(e,t){Xt.set(e._key(),t)}function $t(e){return ae(e._redirectPersistence)}function Jt(e){return le("pendingRedirect",e.config.apiKey,e.name)}async function Zt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,a.xZ)(e.app))return Promise.reject(w(e));const r=ke(e),i=Vt(r,t),o=new Yt(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class en{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!nn(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(v(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tn(e))}saveEventToCache(e){this.cachedEventUids.add(tn(e)),this.lastProcessedEventTime=Date.now()}}function tn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function nn(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const rn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,an=/^https?/;async function on(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return F(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(sn(r))return}catch(n){}y(e,"unauthorized-domain")}function sn(e){const t=C(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!an.test(n))return!1;if(rn.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ln=new P(3e4,6e4);function cn(){const e=Et().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function un(e){return new Promise((t,n)=>{var r,i;function a(){cn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cn(),n(v(e,"network-request-failed"))},timeout:ln.get()})}if(null!==(r=Et().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Et().gapi)||void 0===i||!i.load){const t=Pe("iframefcb");return Et()[t]=()=>{gapi.load?a():n(v(e,"network-request-failed"))},Te("".concat(Ae.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw hn=null,e})}let hn=null;const dn=new P(5e3,15e3),pn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mn(e){const t=e.config;x(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?I(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:a.MF},i=fn.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat((0,o.Am)(r).slice(1))}async function gn(e){const t=await function(e){return hn=hn||un(e),hn}(e),n=Et().gapi;return x(n,e,"internal-error"),t.open({where:document.body,url:mn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=v(e,"network-request-failed"),a=Et().setTimeout(()=>{r(i)},dn.get());function o(){Et().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const yn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function bn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=(0,i.A)((0,i.A)({},yn),{},{width:r.toString(),height:a.toString(),top:s,left:l}),h=(0,o.ZQ)().toLowerCase();n&&(c=pe(h)?"_blank":n),he(h)&&(t=t||"http://localhost",u.scrollbars="yes");const d=Object.entries(u).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return ve(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(h)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new vn(null);const p=window.open(t||"",c,d);x(p,e,"popup-blocked");try{p.focus()}catch(f){}return new vn(p)}const wn="__/auth/handler",Sn="emulator/auth/handler",xn=encodeURIComponent("fac");async function En(e,t,n,r,i,s){x(e.config.authDomain,e,"auth-domain-config-required"),x(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:a.MF,eventId:i};if(t instanceof Qe){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,o.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))l[e]=t}if(t instanceof $e){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const a of Object.keys(c))void 0===c[a]&&delete c[a];const u=await e._getAppCheckToken(),h=u?"#".concat(xn,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(wn);return I(t,Sn)}(e),"?").concat((0,o.Am)(c).slice(1)).concat(h)}const kn="webStorageSupport";const Cn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bt,this._completeRedirectFn=Zt,this._overrideRedirectResult=Qt}async _openPopup(e,t,n,r){var i;k(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return bn(e,await En(e,t,n,C(),r),St())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Et().location.href=e}(await En(e,t,n,C(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(k(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await gn(e),n=new en(e);return t.register("authEvent",t=>{x(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kn,{type:kn},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[kn];void 0!==i&&t(!!i),y(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=on(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return be()||de()||ve()}};var An="@firebase/auth",Tn="1.11.0";class Pn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const In=(0,o.XA)("authIdTokenMaxAge")||300;let _n=null;const Nn=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>In)return;const i=null===n||void 0===n?void 0:n.token;_n!==i&&(_n=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function Rn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.Sx)();const t=(0,a.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,a.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,o.bD)(r,null!==t&&void 0!==t?t:{}))return e;y(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Cn,persistence:[Mt,ft,bt]}),r=(0,o.XA)("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=Nn(e.toString());!function(e,t,n){(0,o.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,o.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const i=(0,o.Tj)("auth");return i&&Oe(n,"http://".concat(i)),n}var Dn;Ae={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=v("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Dn="Browser",(0,a.om)(new l.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;x(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:Dn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:we(Dn)},c=new Ee(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ae);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,a.om)(new l.uA("auth-internal",e=>(e=>new Pn(e))(ke(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,a.KO)(An,Tn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Dn)),(0,a.KO)(An,Tn,"esm2020")},2709:(e,t,n)=>{n.d(t,{f:()=>Le});var r=n(2555),i=n(5259);function a(e){e.duration=0,e.type="keyframes"}var o=n(1047),s=n(8673),l=n(2038),c=n(6643),u=n(7065),h=n(1652),d=n(4707);const p=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return o.Gt.update(t,e)},stop:()=>(0,o.WG)(t),now:()=>o.uv.isProcessing?o.uv.timestamp:u.k.now()}},f=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(1e4*e(a/(i-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},m=2e4;function g(e){let t=0;let n=e.next(t);for(;!n.done&&t<m;)t+=50,n=e.next(t);return t>=m?1/0:t}var y=n(7843);function v(e,t,n){const r=Math.max(t-5,0);return(0,y.f)(n-e(r),t-r)}const b={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};var w=n(24);const S=.001;function x(e){let t,n,{duration:r=b.duration,bounce:i=b.bounce,velocity:a=b.velocity,mass:o=b.mass}=e;(0,w.$)(r<=(0,c.f)(b.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let s=1-i;s=(0,l.q)(b.minDamping,b.maxDamping,s),r=(0,l.q)(b.minDuration,b.maxDuration,(0,c.X)(r)),s<1?(t=e=>{const t=e*s,n=t*r,i=t-a,o=k(e,s),l=Math.exp(-n);return S-i/o*l},n=e=>{const n=e*s*r,i=n*a+a,o=Math.pow(s,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=k(Math.pow(e,2),s);return(-t(e)+S>0?-1:1)*((i-o)*l)/c}):(t=e=>Math.exp(-e*r)*((e-a)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(a-e)));const u=function(e,t,n){let r=n;for(let i=1;i<E;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=(0,c.f)(r),isNaN(u))return{stiffness:b.stiffness,damping:b.damping,duration:r};{const e=Math.pow(u,2)*o;return{stiffness:e,damping:2*s*Math.sqrt(o*e),duration:r}}}const E=12;function k(e,t){return e*Math.sqrt(1-t*t)}const C=["duration","bounce"],A=["stiffness","damping","mass"];function T(e,t){return t.some(t=>void 0!==e[t])}function P(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:a}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:d,mass:p,duration:y,velocity:w,isResolvedFromDuration:S}=function(e){let t=(0,r.A)({velocity:b.velocity,stiffness:b.stiffness,damping:b.damping,mass:b.mass,isResolvedFromDuration:!1},e);if(!T(e,A)&&T(e,C))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(1.2*n),a=i*i,o=2*(0,l.q)(.05,1,1-(e.bounce||0))*Math.sqrt(a);t=(0,r.A)((0,r.A)({},t),{},{mass:b.mass,stiffness:a,damping:o})}else{const n=x(e);t=(0,r.A)((0,r.A)((0,r.A)({},t),n),{},{mass:b.mass}),t.isResolvedFromDuration=!0}return t}((0,r.A)((0,r.A)({},n),{},{velocity:-(0,c.X)(n.velocity||0)})),E=w||0,P=d/(2*Math.sqrt(h*p)),I=s-o,_=(0,c.X)(Math.sqrt(h/p)),N=Math.abs(I)<5;let R;if(i||(i=N?b.restSpeed.granular:b.restSpeed.default),a||(a=N?b.restDelta.granular:b.restDelta.default),P<1){const e=k(_,P);R=t=>{const n=Math.exp(-P*_*t);return s-n*((E+P*_*I)/e*Math.sin(e*t)+I*Math.cos(e*t))}}else if(1===P)R=e=>s-Math.exp(-_*e)*(I+(E+_*I)*e);else{const e=_*Math.sqrt(P*P-1);R=t=>{const n=Math.exp(-P*_*t),r=Math.min(e*t,300);return s-n*((E+P*_*I)*Math.sinh(r)+e*I*Math.cosh(r))/e}}const D={calculatedDuration:S&&y||null,next:e=>{const t=R(e);if(S)u.done=e>=y;else{let n=0===e?E:0;P<1&&(n=0===e?(0,c.f)(E):v(R,e,t));const r=Math.abs(n)<=i,o=Math.abs(s-t)<=a;u.done=r&&o}return u.value=u.done?s:t,u},toString:()=>{const e=Math.min(g(D),m),t=f(t=>D.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return D}function I(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],p={done:!1,value:d},f=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=d+m,y=void 0===s?g:s(g);y!==g&&(m=y-d);const b=e=>-m*Math.exp(-e/i),w=e=>y+b(e),S=e=>{const t=b(e),n=w(e);p.done=Math.abs(t)<=u,p.value=p.done?y:n};let x,E;const k=e=>{var t;(t=p.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(x=e,E=P({keyframes:[p.value,f(p.value)],velocity:v(w,e,p.value),damping:a,stiffness:o,restDelta:u,restSpeed:h}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return E||void 0!==x||(t=!0,S(e),k(e)),void 0!==x&&e>=x?E.next(e-x):(!t&&S(e),p)}}}P.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)((0,r.A)((0,r.A)({},e),{},{keyframes:[0,t]})),i=Math.min(g(n),m);return{type:"keyframes",ease:e=>n.next(i*e).value/t,duration:(0,c.X)(i)}}(e,100,P);return e.ease=t.ease,e.duration=(0,c.f)(t.duration),e.type="keyframes",e};var _=n(9389);const N=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function R(e,t,n,r){if(e===t&&n===r)return _.l;const i=t=>function(e,t,n,r,i){let a,o,s=0;do{o=t+(n-t)/2,a=N(o,r,i)-e,a>0?n=o:t=o}while(Math.abs(a)>1e-7&&++s<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:N(i(e),t,r)}const D=R(.42,0,1,1),M=R(0,0,.58,1),F=R(.42,0,.58,1);var O=n(453),L=n(718);const U=R(.33,1.53,.69,.99),j=(0,L.G)(U),V=(0,O.V)(j),B=e=>(e*=2)<1?.5*j(e):.5*(2-Math.pow(2,-10*(e-1)));var z=n(584);const G=e=>Array.isArray(e)&&"number"===typeof e[0],q={linear:_.l,easeIn:D,easeInOut:F,easeOut:M,circIn:z.po,circInOut:z.tn,circOut:z.yT,backIn:j,backInOut:V,backOut:U,anticipate:B},H=e=>{if(G(e)){(0,w.V)(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,i]=e;return R(t,n,r,i)}return"string"===typeof e?((0,w.V)(void 0!==q[e],"Invalid easing type '".concat(e,"'"),"invalid-easing-type"),q[e]):e};var K=n(3971),W=n(9712),X=n(6240);function Y(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=(0,W.q)(0,t,r);e.push((0,X.k)(n,1,i))}}(t,e.length-1),t}function Q(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const a=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(H):H(i),o={done:!1,value:n[0]},s=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:Y(n),t),l=(0,K.G)(s,n,{ease:Array.isArray(a)?a:(c=n,u=a,c.map(()=>u||F).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}const $=e=>null!==e;function J(e,t,n){let{repeat:r,repeatType:i="loop"}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=e.filter($),s=a<0||r&&"loop"!==i&&r%2===1?0:o.length-1;return s&&void 0!==n?n:o[s]}const Z={decay:I,inertia:I,tween:Q,keyframes:Q,spring:P};function ee(e){"string"===typeof e.type&&(e.type=Z[e.type])}class te{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const ne=e=>e/100;class re extends te{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==u.k.now()&&this.tick(u.k.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},h.q.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;ee(e);const{type:t=Q,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:l}=e;const c=t||Q;c!==Q&&"number"!==typeof l[0]&&(this.mixKeyframes=(0,s.F)(ne,(0,d.j)(l[0],l[1])),l=[0,100]);const u=c((0,r.A)((0,r.A)({},e),{},{keyframes:l}));"mirror"===a&&(this.mirroredGenerator=c((0,r.A)((0,r.A)({},e),{},{keyframes:[...l].reverse(),velocity:-o}))),null===u.calculatedDuration&&(u.calculatedDuration=g(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:s}=this;if(null===this.startTime)return n.next(0);const{delay:c=0,keyframes:u,repeat:h,repeatType:d,repeatDelay:p,type:f,onUpdate:m,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>r;this.currentTime=Math.max(y,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let b=this.currentTime,w=n;if(h){const e=Math.min(this.currentTime,r)/o;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===d?(n=1-n,p&&(n-=p/o)):"mirror"===d&&(w=a)),b=(0,l.q)(0,1,n)*o}const S=v?{done:!1,value:u[0]}:w.next(b);i&&(S.value=i(S.value));let{done:x}=S;v||null===s||(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const E=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return E&&f!==I&&(S.value=J(u,this.options,g,this.speed)),m&&m(S.value),E&&this.finish(),S}then(e,t){return this.finished.then(e,t)}get duration(){return(0,c.X)(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+(0,c.X)(e)}get time(){return(0,c.X)(this.currentTime)}set time(e){var t;e=(0,c.f)(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(u.k.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=(0,c.X)(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=p,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(u.k.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,h.q.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}var ie=n(3986),ae=n(3499),oe=n(7293);function se(e){let t;return()=>(void 0===t&&(t=e()),t)}const le=se(()=>void 0!==window.ScrollTimeline);var ce=n(5554);const ue={};function he(e,t){const n=se(e);return()=>{var e;return null!==(e=ue[t])&&void 0!==e?e:n()}}const de=he(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),pe=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},fe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pe([0,.65,.55,1]),circOut:pe([.55,0,1,.45]),backIn:pe([.31,.01,.66,-.59]),backOut:pe([.33,1.53,.69,.99])};function me(e,t){return e?"function"===typeof e?de()?f(e,t):"ease-out":G(e)?pe(e):Array.isArray(e)?e.map(e=>me(e,t)||fe.easeOut):fe[e]:void 0}function ge(e,t,n){let{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:s="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const d=me(s,i);Array.isArray(d)&&(u.easing=d),ce.Q.value&&h.q.waapi++;const p={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===o?"alternate":"normal"};c&&(p.pseudoElement=c);const f=e.animate(u,p);return ce.Q.value&&f.finished.finally(()=>{h.q.waapi--}),f}function ye(e){return"function"===typeof e&&"applyToOptions"in e}const ve=["type"];class be extends te{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:s}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=a,this.options=e,(0,w.V)("string"!==typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function(e){let{type:t}=e,n=(0,ie.A)(e,ve);return ye(t)&&de()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(i=n.ease)&&void 0!==i||(n.ease="easeOut"),n);var r,i}(e);this.animation=ge(t,n,r,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=J(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===s||void 0===s||s(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return(0,c.X)(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+(0,c.X)(e)}get time(){return(0,c.X)(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=(0,c.f)(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&le()?(this.animation.timeline=t,_.l):n(this)}}const we={anticipate:B,backInOut:V,circInOut:z.tn};function Se(e){"string"===typeof e.ease&&e.ease in we&&(e.ease=we[e.ease])}const xe=["motionValue","onUpdate","onComplete","element"];class Ee extends be{constructor(e){Se(e),ee(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:i,onUpdate:a,onComplete:o,element:s}=n,l=(0,ie.A)(n,xe);if(!i)return;if(void 0!==e)return void i.set(e);const u=new re((0,r.A)((0,r.A)({},l),{},{autoplay:!1})),h=(0,c.f)(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);i.setWithVelocity(u.sample(h-10).value,u.sample(h).value,10),u.stop()}}var ke=n(1617);const Ce=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!ke.f.test(e)&&"0"!==e||e.startsWith("url(")));const Ae=new Set(["opacity","clipPath","filter","transform"]),Te=se(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const Pe=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class Ie extends te{constructor(e){var t;let{autoplay:n=!0,delay:i=0,type:a="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:l="loop",keyframes:c,name:h,motionValue:d,element:p}=e,f=(0,ie.A)(e,Pe);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=u.k.now();const m=(0,r.A)({autoplay:n,delay:i,type:a,repeat:o,repeatDelay:s,repeatType:l,name:h,motionValue:d,element:p},f),g=(null===p||void 0===p?void 0:p.KeyframeResolver)||oe.h;this.keyframeResolver=new g(c,(e,t,n)=>this.onKeyframesResolved(e,t,m,!n),h,d,p),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,i){this.keyframeResolver=void 0;const{name:o,type:s,velocity:l,delay:c,isHandoff:h,onUpdate:d}=n;this.resolvedAt=u.k.now(),function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],o=Ce(i,t),s=Ce(a,t);return(0,w.$)(o===s,"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(a,'". "').concat(o?a:i,'" is not an animatable value.'),"value-not-animatable"),!(!o||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||ye(n))&&r)}(e,o,s,l)||(!ae.W.instantAnimations&&c||null===d||void 0===d||d(J(e,n,t)),e[0]=e[e.length-1],a(n),n.repeat=0);const p=i?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,f=(0,r.A)((0,r.A)({startTime:p,finalKeyframe:t},n),{},{keyframes:e}),m=!h&&function(e){var t;const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:o,type:s}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Te()&&r&&Ae.has(r)&&("transform"!==r||!c)&&!l&&!i&&"mirror"!==a&&0!==o&&"inertia"!==s}(f)?new Ee((0,r.A)((0,r.A)({},f),{},{element:f.motionValue.owner.current})):new re(f);m.finished.then(()=>this.notifyFinished()).catch(_.l),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),(0,oe.q)());return this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const _e=e=>null!==e;var Ne=n(3766);const Re={type:"spring",stiffness:500,damping:25,restSpeed:10},De={type:"keyframes",duration:.8},Me={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Fe=(e,t)=>{let{keyframes:n}=t;return n.length>2?De:Ne.f.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Re:Me},Oe=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const Le=function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0;return h=>{const d=(0,i.r)(s,e)||{},p=d.delay||s.delay||0;let{elapsed:f=0}=s;f-=(0,c.f)(p);const m=(0,r.A)((0,r.A)({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},d),{},{delay:-f,onUpdate:e=>{t.set(e),d.onUpdate&&d.onUpdate(e)},onComplete:()=>{h(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:u?void 0:l});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:s,repeatDelay:l,from:c,elapsed:u}=e,h=(0,ie.A)(e,Oe);return!!Object.keys(h).length})(d)||Object.assign(m,Fe(e,m)),m.duration&&(m.duration=(0,c.f)(m.duration)),m.repeatDelay&&(m.repeatDelay=(0,c.f)(m.repeatDelay)),void 0!==m.from&&(m.keyframes[0]=m.from);let g=!1;if((!1===m.type||0===m.duration&&!m.repeatDelay)&&(a(m),0===m.delay&&(g=!0)),(ae.W.instantAnimations||ae.W.skipAnimations)&&(g=!0,a(m),m.delay=0),m.allowFlatten=!d.type&&!d.ease,g&&!u&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const a=e.filter(_e),o=r&&"loop"!==i&&r%2===1?0:a.length-1;return o&&void 0!==n?n:a[o]}(m.keyframes,d);if(void 0!==e)return void o.Gt.update(()=>{m.onUpdate(e),m.onComplete()})}return d.isSync?new re(m):new Ie(m)}}},2830:(e,t,n)=>{n.d(t,{OQ:()=>c,bt:()=>s});var r=n(6732),i=n(7843),a=n(7065),o=n(1047);const s={current:void 0};class l{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=a.k.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=a.k.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new r.v);const n=this.events[e].add(t);return"change"===e?()=>{n(),o.Gt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return s.current&&s.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=a.k.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return(0,i.f)(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function c(e,t){return new l(e,t)}},3147:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(6230).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},3487:(e,t,n)=>{n.d(t,{t:()=>r});const r=(0,n(9950).createContext)(null)},3499:(e,t,n)=>{n.d(t,{W:()=>r});const r={}},3548:(e,t,n)=>{n.d(t,{y:()=>o});var r=n(7583),i=n(6078),a=n(5970);const o={test:e=>a.B.test(e)||r.u.test(e)||i.V.test(e),parse:e=>a.B.test(e)?a.B.parse(e):i.V.test(e)?i.V.parse(e):r.u.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?a.B.transform(e):i.V.transform(e),getAnimatableNone:e=>{const t=o.parse(e);return t.alpha=0,o.transform(t)}}},3577:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(9950),i=n(5739),a=n(7304),o=n(903),s=n(9126),l=n(5995),c=n(6479),u=n(1318),h=n(4128),d=n(1088),p=n(4414);const f=e=>{let{name:t,onClick:n,onFavoriteToggle:f,onDislikeToggle:m,filterContext:g="all",contextualRank:y,isPinned:v=!1,onPin:b,showPinOption:w=!1}=e;const[S,x]=(0,r.useState)(!1),[E,k]=(0,r.useState)(!1),[C,A]=(0,r.useState)(t.meaning),[T,P]=(0,r.useState)(void 0),[I,_]=(0,r.useState)(!1),[N,R]=(0,r.useState)(!1),[D,M]=(0,r.useState)(null),[F,O]=(0,r.useState)(!1),[L,U]=(0,r.useState)(null),j=(0,d.d)();(0,r.useEffect)(()=>{x(u.A.isFavorite(t.name)),k(u.A.isDisliked(t.name));const e=h.A.getNameData(t.name);e?(A(t.meaningShort||e.meaning||t.meaning),P(t.origin||e.origin),_(e.enriched||t.originProcessed||t.meaningProcessed||!1)):(A(t.meaningShort||t.meaning),P(t.origin),_(t.originProcessed||t.meaningProcessed||!1))},[t.name,t.meaning,t.meaningShort,t.origin,t.originProcessed,t.meaningProcessed]);const V=()=>{L&&(clearTimeout(L),U(null))},B="object"===typeof t.gender?t.gender:null,z=((null===B||void 0===B?void 0:B.Male)||0)>((null===B||void 0===B?void 0:B.Female)||0),G=z?"from-blue-400 to-blue-600":"from-pink-400 to-pink-600",q=z?"bg-blue-50":"bg-pink-50",H=z?"border-blue-200":"border-pink-200",K=z?"\u2642":"\u2640",W=t.popularityRank||999999,X=(Y=W)<=10?Math.round(100-1*(Y-1)):Y<=100?Math.round(90-.22*(Y-10)):Y<=1e3?Math.round(70-.033*(Y-100)):Y<=1e4?Math.round(40-.0033*(Y-1e3)):Math.max(1,Math.round(10-1e-4*(Y-1e4)));var Y;return(0,p.jsxs)(i.P.div,{onClick:()=>n(t),onMouseDown:e=>{if(!w)return;e.preventDefault();const t=setTimeout(()=>{O(!0)},1e3);U(t)},onMouseUp:V,onMouseLeave:()=>{V()},onTouchStart:e=>{if(!w)return;const t=setTimeout(()=>{O(!0),"vibrate"in navigator&&navigator.vibrate(50)},1e3);U(t)},onTouchEnd:()=>{V()},className:"relative overflow-hidden rounded-xl ".concat(q," border ").concat(H,"\n                  hover:shadow-xl transform hover:scale-105\n                  cursor-pointer group"),style:{transition:N?"none":"all 200ms"},initial:"initial",animate:N?"left"===D?"flyLeft":"flyRight":"initial",variants:{initial:{x:0,rotate:0,opacity:1,scale:1},flyLeft:{x:-400,rotate:-30,opacity:0,scale:.7,transition:{duration:.12,ease:"easeOut"}},flyRight:{x:400,rotate:30,opacity:0,scale:.7,transition:{duration:.12,ease:"easeOut"}}},children:[(0,p.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br ".concat(G," opacity-5\n                       group-hover:opacity-10 transition-opacity")}),(0,p.jsx)("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,p.jsx)(a.A,{className:"w-3.5 h-3.5 text-yellow-400/60 animate-pulse",strokeWidth:1.5})}),(0,p.jsx)("div",{className:"absolute top-2 left-2 z-10",children:(0,p.jsx)("div",{className:"px-2.5 py-0.5 rounded-full border border-gray-200 bg-white/90 text-gray-600 text-xs font-light shadow-sm",children:(()=>{const e=t.popularityRank||999999;switch(g){case"male":return"Boys #".concat(e);case"female":return"Girls #".concat(e);default:return"#".concat(e)}})()})}),(0,p.jsxs)("div",{className:"relative p-1.5 pb-12",children:[(0,p.jsx)("div",{className:"mb-1 pt-6 text-center",children:(0,p.jsxs)("h3",{className:"text-[52px] font-thin text-gray-800 flex justify-center items-center gap-2",children:[t.name,(0,p.jsx)("span",{className:"text-[52px] font-thin bg-gradient-to-r ".concat(G,"\n                           bg-clip-text text-transparent"),children:K})]})}),C&&(0,p.jsx)("div",{className:"mt-2 px-2.5 py-0 bg-white/30 rounded-lg border border-white/50",children:(0,p.jsxs)("div",{className:"flex items-center gap-1 justify-center py-1",children:[(0,p.jsx)(o.A,{className:"w-3 h-3 text-gray-400",strokeWidth:1.5}),(0,p.jsxs)("span",{className:"text-[24px] font-light text-gray-600 italic",children:['"',C,'"']})]})}),(0,p.jsxs)("div",{className:"mt-2 flex items-center justify-center gap-3 flex-wrap",children:[(T||t.origins)&&(0,p.jsxs)("div",{className:"inline-flex items-center gap-1 px-3 py-0.5 bg-white/40 rounded-full border border-gray-200",children:[(0,p.jsx)(s.A,{className:"w-2.5 h-2.5 text-gray-500",strokeWidth:1.5}),(0,p.jsx)("span",{className:"text-[11px] font-light text-gray-600",children:t.origins?t.origins.join(" \u2022 "):T}),I&&(0,p.jsx)(a.A,{className:"w-2.5 h-2.5 text-gray-500 ml-1",strokeWidth:1.5,title:"AI Enriched"})]}),(0,p.jsxs)("div",{className:"inline-flex items-center gap-2 px-2.5 py-0.5 bg-white/40 rounded-full border border-gray-200",children:[(0,p.jsx)("span",{className:"text-xs font-light text-gray-600",children:"Popularity"}),(0,p.jsxs)("span",{className:"text-base font-medium bg-gradient-to-r ".concat(G," bg-clip-text text-transparent"),children:[Math.round(X),"%"]})]})]})]}),(0,p.jsxs)("div",{className:"absolute bottom-2 left-0 right-0 flex justify-between items-center px-4",children:[(0,p.jsx)("button",{onClick:e=>{e.stopPropagation(),M("left"),R(!0),requestAnimationFrame(()=>{u.A.toggleDislike(t.name),x(u.A.isFavorite(t.name)),k(u.A.isDisliked(t.name)),null===m||void 0===m||m()}),setTimeout(()=>{R(!1),M(null)},120)},className:"flex items-center justify-center w-9 h-9 rounded-full transition-all duration-300 ".concat(E?"bg-red-50 border-2 border-red-300 shadow-md":"bg-white border border-gray-200 shadow-sm hover:shadow-md hover:border-red-200"," transform hover:scale-105 active:scale-95"),title:E?"Remove from hidden":"Pass on this name",children:(0,p.jsx)(c.A,{className:"w-4 h-4 transition-all duration-300 ".concat(E?"text-red-400 stroke-[1.5]":"text-gray-400 hover:text-red-400 stroke-[1.5]")})}),(0,p.jsx)("button",{onClick:e=>{e.stopPropagation(),M("right"),R(!0),requestAnimationFrame(()=>{u.A.toggleFavorite(t.name),x(u.A.isFavorite(t.name)),k(u.A.isDisliked(t.name)),null===f||void 0===f||f()}),setTimeout(()=>{R(!1),M(null)},120)},className:"flex items-center justify-center w-9 h-9 rounded-full transition-all duration-300 ".concat(S?"bg-pink-50 border-2 border-pink-300 shadow-md":"bg-white border border-gray-200 shadow-sm hover:shadow-md hover:border-pink-200"," transform hover:scale-105 active:scale-95"),title:S?"Remove from favorites":"Love this name",children:(0,p.jsx)(l.A,{className:"w-4 h-4 transition-all duration-300 ".concat(S?"text-pink-400 fill-pink-400 stroke-[1.5]":"text-gray-400 hover:text-pink-400 stroke-[1.5]")})})]}),v&&(0,p.jsx)("div",{className:"absolute top-2 left-16 bg-yellow-400/90 p-1 rounded-full shadow-md z-10",children:(0,p.jsx)("svg",{className:"w-3.5 h-3.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,p.jsx)("path",{d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z"})})}),F&&(0,p.jsx)("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center z-50",onClick:e=>{e.stopPropagation(),O(!1)},children:(0,p.jsx)("div",{className:"bg-white rounded-lg shadow-xl p-4 mx-4",children:(0,p.jsxs)("button",{onClick:e=>{e.stopPropagation();const n=u.A.togglePin(t.name);O(!1),!n.success&&n.message?j.warning(n.message,5e3):n.success&&(n.pinned?j.success("Name pinned to top!",2e3):j.info("Name unpinned",2e3),null===b||void 0===b||b())},className:"flex items-center gap-3 px-6 py-3 text-lg font-medium text-gray-700 hover:bg-yellow-50 rounded-lg transition-colors w-full",children:[(0,p.jsx)("svg",{className:"w-6 h-6 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,p.jsx)("path",{d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z"})}),v?"Unpin from Top":"Pin to Top"]})})})]})}},3582:(e,t,n)=>{n.d(t,{$:()=>a,q:()=>o});var r=n(266);const i=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,a=(e,t)=>n=>Boolean("string"===typeof n&&i.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),o=(e,t,n)=>i=>{if("string"!==typeof i)return i;const[a,o,s,l]=i.match(r.S);return{[e]:parseFloat(a),[t]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==l?parseFloat(l):1}}},3766:(e,t,n)=>{n.d(t,{U:()=>r,f:()=>i});const r=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],i=(()=>new Set(r))()},3777:(e,t,n)=>{n.d(t,{K:()=>i});var r=n(5285);function i(e,t,n){const i=e.getProps();return(0,r.a)(i,t,void 0!==n?n:i.custom,e)}},3916:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},3935:(e,t,n)=>{n.d(t,{_:()=>v});var r=n(3777),i=n(2555),a=n(3986),o=n(5259),s=n(1047),l=n(4907),c=n(6794),u=n(5337),h=n(5322),d=n(2709);const p=["transition","transitionEnd"];function f(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function m(e,t){let{delay:n=0,transitionOverride:r,type:m}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:g=e.getDefaultTransition(),transitionEnd:y}=t,v=(0,a.A)(t,p);r&&(g=r);const b=[],w=m&&e.animationState&&e.animationState.getState()[m];for(const a in v){var S;const t=e.getValue(a,null!==(S=e.latestValues[a])&&void 0!==S?S:null),r=v[a];if(void 0===r||w&&f(w,a))continue;const c=(0,i.A)({delay:n},(0,o.r)(g||{},a)),p=t.get();if(void 0!==p&&!t.isAnimating&&!Array.isArray(r)&&r===p&&!c.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const t=(0,h.P)(e);if(t){const e=window.MotionHandoffAnimation(t,a,s.Gt);null!==e&&(c.startTime=e,m=!0)}}(0,u.g)(e,a),t.start((0,d.f)(a,t,r,e.shouldReduceMotion&&l.$.has(a)?{type:!1}:c,e,m));const y=t.animation;y&&b.push(y)}return y&&Promise.all(b).then(()=>{s.Gt.update(()=>{y&&(0,c.U)(e,y)})}),b}var g=n(7826);function y(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,r.K)(e,t,"exit"===a.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=o||{};a.transitionOverride&&(s=a.transitionOverride);const l=o?()=>Promise.all(m(e,o,a)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:r=0,staggerChildren:o,staggerDirection:l}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6?arguments[6]:void 0;const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(y(c,t,(0,i.A)((0,i.A)({},s),{},{delay:n+("function"===typeof r?0:r)+(0,g.L)(e.variantChildren,c,r,a,o)})).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}(e,t,n,r,o,l,a)}:()=>Promise.resolve(),{when:u}=s;if(u){const[e,t]="beforeChildren"===u?[l,c]:[c,l];return e().then(()=>t())}return Promise.all([l(),c(a.delay)])}function v(e,t){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const r=t.map(t=>y(e,t,i));n=Promise.all(r)}else if("string"===typeof t)n=y(e,t,i);else{const a="function"===typeof t?(0,r.K)(e,t,i.custom):t;n=Promise.all(m(e,a,i))}return n.then(()=>{e.notify("AnimationComplete",t)})}},3971:(e,t,n)=>{n.d(t,{G:()=>u});var r=n(2038),i=n(24),a=n(3499),o=n(9389),s=n(8673),l=n(9712),c=n(4707);function u(e,t){let{clamp:n=!0,ease:u,mixer:h}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const d=e.length;if((0,i.V)(d===t.length,"Both input and output ranges must be the same length","range-length"),1===d)return()=>t[0];if(2===d&&t[0]===t[1])return()=>t[1];const p=e[0]===e[1];e[0]>e[d-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=function(e,t,n){const r=[],i=n||a.W.mix||c.j,l=e.length-1;for(let a=0;a<l;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||o.l:t;n=(0,s.F)(e,n)}r.push(n)}return r}(t,u,h),m=f.length,g=n=>{if(p&&n<e[0])return t[0];let r=0;if(m>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=(0,l.q)(e[r],e[r+1],n);return f[r](i)};return n?t=>g((0,r.q)(e[0],e[d-1],t)):g}},3986:(e,t,n)=>{function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{A:()=>r})},4128:(e,t,n)=>{n.d(t,{A:()=>o});const r=["Hebrew","Greek","Latin","Arabic","Germanic","Celtic","English","French","Spanish","Italian","Irish","Scottish","Welsh","Norse","Russian","Polish","Dutch","Portuguese","Indian","Japanese","Chinese","Korean","African","Persian","Turkish","Hawaiian","Native-American","Biblical","Slavic","Modern"];const i=new class{constructor(){this.apiKey=void 0,this.baseUrl="https://api.anthropic.com/v1/messages",this.model="claude-3-haiku-20240307",this.apiKey={NODE_ENV:"production",PUBLIC_URL:"/babyname2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NAME:"New Baby Name",REACT_APP_VERSION:"2.0.0",REACT_APP_BASE_URL:"http://localhost:3000",REACT_APP_API_URL:"http://localhost:5000",REACT_APP_GOOGLE_API_KEY:"AIzaSyALzy3qXMyXPtLl7pUuCDo_eE5X89u3dpA",REACT_APP_GEMINI_API_KEY:"AIzaSyALzy3qXMyXPtLl7pUuCDo_eE5X89u3dpA",REACT_APP_YOUTUBE_API_KEY:"AIzaSyALzy3qXMyXPtLl7pUuCDo_eE5X89u3dpA",REACT_APP_GOOGLE_ANALYTICS_ID:"GA-XXXXXXXXX",REACT_APP_GOOGLE_CLIENT_ID:"1093132372253-a725n8gpe624usli0hnj3re1eicgi4o2.apps.googleusercontent.com",REACT_APP_GOOGLE_CLIENT_SECRET:"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",REACT_APP_OAUTH_REDIRECT_URI_DEV:"http://localhost:3000/auth/callback",REACT_APP_OAUTH_REDIRECT_URI_PROD:"https://amirchason.github.io/babyname2",REACT_APP_USE_LOCAL_DB:"true",REACT_APP_LOCAL_DB_PATH:"/data/names.json",REACT_APP_API_DB_URL:"https://api.babynames.com",REACT_APP_API_DB_KEY:"",REACT_APP_ENABLE_SCRAPING:"true",REACT_APP_ENABLE_AI_CHAT:"true",REACT_APP_ENABLE_BLOG:"false",REACT_APP_ENABLE_FAVORITES:"true",REACT_APP_SCRAPE_WIKIPEDIA:"true",REACT_APP_SCRAPE_YOUTUBE:"true",REACT_APP_SCRAPE_IMDB:"true",REACT_APP_SCRAPE_BIBLE_API:"true",REACT_APP_SCRAPE_DELAY:"1000",REACT_APP_SCRAPE_MAX_RETRIES:"3",REACT_APP_CACHE_DURATION:"3600000",REACT_APP_USE_SERVICE_WORKER:"true",REACT_APP_PRIMARY_COLOR:"#D8B2F2",REACT_APP_SECONDARY_COLOR:"#FFB3D9",REACT_APP_ACCENT_COLOR:"#B3D9FF",REACT_APP_MAX_TRENDING_NAMES:"6",REACT_APP_MAX_POPULAR_NAMES:"8",REACT_APP_NAMES_PER_PAGE:"20",REACT_APP_DEBUG_MODE:"false",REACT_APP_LOG_LEVEL:"info",REACT_APP_SENTRY_DSN:"",REACT_APP_HOMEPAGE:"https://amirchason.github.io/babyname2"}.REACT_APP_CLAUDE_API_KEY||""}async analyzeName(e){return this.generateSmartFallback(e)}async analyzeNamesBatch(e){const t=[];for(const n of e){const e=await this.analyzeName(n);t.push(e),await this.delay(100)}return t}generateSmartFallback(e){return{name:e,meaning:this.generateMeaning(e),origin:this.detectOrigin(e)}}generateMeaning(e){const t=e.toLowerCase(),n={al:"noble bright",ben:"son blessed",el:"god divine",mar:"sea star",ros:"rose beautiful",sam:"heard god",dan:"judge wise",mic:"who like god",joh:"god gracious",will:"determined protector",rob:"bright fame",rich:"powerful ruler",alex:"defender protector",christ:"bearer anointed",paul:"small humble",peter:"rock steadfast",david:"beloved friend",mary:"wished child",anna:"grace favor",emma:"whole universal",olivia:"olive peace",sophia:"wisdom knowledge",ava:"life bird",mia:"mine beloved",charlotte:"free strong",amelia:"work industrious",bella:"beautiful lovely",lynn:"lake waterfall",rose:"flower bloom",grace:"divine elegance",hope:"optimistic faith",joy:"happiness delight",elle:"light bright",ette:"little feminine",ina:"pure clean",ley:"meadow clearing",ton:"town settlement",son:"descendant heir",ian:"god gracious",iel:"god divine",bert:"bright noble",ward:"guardian protector",ford:"crossing river"},r={muhammad:"praised worthy",noah:"rest comfort",liam:"strong warrior",olivia:"olive peace",emma:"whole universal",ava:"life bird",sophia:"wisdom wise",isabella:"devoted god",mason:"stone worker",william:"resolute protector",james:"supplanter follower",benjamin:"right hand",lucas:"light giving",henry:"home ruler",alexander:"defender mankind",michael:"who like god",ethan:"strong firm",daniel:"god judge",matthew:"gift god",jackson:"son jack",emily:"rival industrious",elizabeth:"god oath",mia:"mine beloved",ella:"light fairy",harper:"harp player",luna:"moon celestial",grace:"divine favor",chloe:"blooming green",lily:"pure flower",madison:"warrior strong"};if(r[t])return r[t];for(const[i,a]of Object.entries(n))if(t.includes(i))return a;return t.match(/^[aeiou]/)?e.length<=4?"pure gentle soul":e.length<=6?"peaceful harmonious spirit":"graceful melodious beauty":t.match(/[xyz]/)?"unique modern spirit":e.length<=3?"strong brief power":e.length<=5?"simple pure grace":e.length<=7?"noble complete harmony":"distinguished elegant refined"}detectOrigin(e){const t=e.toLowerCase();return t.match(/^mc|^mac|^o'/)?"Celtic":t.match(/ovich$|ovna$|ski$|sky$/)?"Slavic":t.match(/sen$|son$|sson$/)?"Norse":t.match(/ez$|iz$|oz$/)?"Spanish":t.match(/ini$|elli$|etti$/)?"Italian":t.match(/eau$|oux$|ette$/)?"French":t.match(/stein$|berg$|mann$/)?"Germanic":t.match(/^al-|^abdul|^muhammad/)?"Arabic":t.match(/opoulos$|ides$|akis$/)?"Greek":t.match(/yan$|ian$|yan$/)?"Persian":t.match(/enko$|uk$|chuk$/)?"Russian":t.match(/wicz$|czyk$|ski$/)?"Polish":t.match(/^van |^de |^den /)?"Dutch":t.match(/eira$|eiro$/)?"Portuguese":t.match(/^kim|^park|^lee$/)?"Korean":t.match(/^wang|^zhang|^li$/)?"Chinese":t.match(/^tanaka|^yamamoto|^suzuki$/)?"Japanese":t.match(/kumar$|singh$|patel$/)?"Indian":t.match(/lani$|koa$|kai$/)?"Hawaiian":["david","sarah","rebecca","jacob","rachel","abraham","isaac","moses"].includes(t)?"Biblical":t.match(/^el|iel$|yah$|^ben|^bat/)?"Hebrew":t.match(/us$|ius$|ia$|ina$/)?"Latin":t.match(/^[aeiou]/)?Math.random()>.5?"Greek":"Latin":t.match(/[xyz]|qq|xx/)?"Modern":"English"}delay(e){return new Promise(t=>setTimeout(t,e))}isConfigured(){return!!this.apiKey}};const a=new class{constructor(){this.isProcessing=!1,this.shouldStop=!1,this.processedCount=0,this.errorCount=0,this.currentName=null,this.database=[],this.onProgress=void 0,this.batchSize=10,this.processedNames=new Set,console.log("Name Enrichment Agent initialized"),this.loadProgress()}setProgressCallback(e){this.onProgress=e}async loadDatabase(e){this.database=e.map(e=>{const t=this.database.find(t=>t.name===e.name);return{name:e.name,meaning:(null===t||void 0===t?void 0:t.meaning)||e.meaning,origin:(null===t||void 0===t?void 0:t.origin)||e.origin,culturalContext:null===t||void 0===t?void 0:t.culturalContext,enriched:(null===t||void 0===t?void 0:t.enriched)||!!e.meaning||!1,enrichedAt:(null===t||void 0===t?void 0:t.enrichedAt)||e.enrichedAt,processingStatus:(null===t||void 0===t?void 0:t.processingStatus)||(e.meaning?"completed":"pending")}}),console.log("Loaded ".concat(this.database.length," names into enrichment agent"))}async start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1?arguments[1]:void 0;if(this.isProcessing)return void console.log("Agent is already processing");this.isProcessing=!0,this.shouldStop=!1,this.processedCount=0,this.errorCount=0,console.log("Starting enrichment for up to ".concat(e," names...")),this.emitProgress("Initializing enrichment process...");let n=this.database.filter(e=>!e.enriched||"pending"===e.processingStatus);if(t&&t.length>0){const e=new Set(t.map(e=>e.toLowerCase()));n=[...n.filter(t=>e.has(t.name.toLowerCase())),...n.filter(t=>!e.has(t.name.toLowerCase()))]}n=n.slice(0,e),console.log("Found ".concat(n.length," names to enrich"));for(let i=0;i<n.length;i+=this.batchSize){if(this.shouldStop){console.log("Stopping enrichment process...");break}const e=n.slice(i,i+this.batchSize);await this.processBatch(e)}this.isProcessing=!1,this.emitProgress("Enrichment process complete"),this.saveProgress();const r={processed:this.processedCount,errors:this.errorCount,total:n.length};return console.log("Enrichment complete. Processed: ".concat(r.processed,", Errors: ").concat(r.errors)),r}async processBatch(e){console.log("Processing batch of ".concat(e.length," names..."));const t=e.map(e=>this.processName(e));await Promise.all(t)}async processName(e){this.currentName=e.name,this.emitProgress("Enriching: ".concat(e.name)),e.processingStatus="processing";try{const t=await i.analyzeName(e.name);e.meaning=t.meaning;const n=this.mapToValidOrigin(t.origin);e.origin=n,e.culturalContext=t.culturalContext,e.enriched=!0,e.enrichedAt=(new Date).toISOString(),e.processingStatus="completed",this.processedCount++,this.processedNames.add(e.name),console.log('\u2713 Enriched "'.concat(e.name,'": ').concat(e.meaning," (").concat(e.origin,")")),this.emitProgress("Completed: ".concat(e.name))}catch(t){this.errorCount++,e.processingStatus="failed",e.errorMessage=t instanceof Error?t.message:"Unknown error",console.error('\u2717 Failed to enrich "'.concat(e.name,'":'),t),this.emitProgress("Error: Failed to process ".concat(e.name))}}stop(){this.shouldStop=!0,this.isProcessing=!1,console.log("Stopping enrichment agent..."),this.saveProgress()}getStatus(){const e=this.database.length,t=this.database.filter(e=>e.enriched).length,n=this.database.filter(e=>!e.enriched||"pending"===e.processingStatus).length,r=e>0?Math.round(t/e*100):0;return{isProcessing:this.isProcessing,currentName:this.currentName,processedCount:this.processedCount,errorCount:this.errorCount,totalCount:e,unprocessedCount:n,progressPercentage:r,message:this.isProcessing?"Processing ".concat(this.currentName,"..."):"Idle"}}emitProgress(e){const t=this.getStatus();t.message=e,this.onProgress&&this.onProgress(t)}getEnrichedNames(){return this.database.filter(e=>e.enriched)}getDatabase(){return this.database}saveProgress(){try{const e={processedNames:Array.from(this.processedNames),enrichedData:this.getEnrichedNames(),timestamp:(new Date).toISOString()};localStorage.setItem("nameEnrichmentProgress",JSON.stringify(e)),console.log("Saved enrichment progress: ".concat(this.processedNames.size," names"))}catch(e){console.error("Failed to save progress:",e)}}loadProgress(){try{const e=localStorage.getItem("nameEnrichmentProgress");if(e){const t=JSON.parse(e);this.processedNames=new Set(t.processedNames),console.log("Loaded enrichment progress: ".concat(this.processedNames.size," names"))}}catch(e){console.error("Failed to load progress:",e)}}clearProgress(){this.processedNames.clear(),this.database.forEach(e=>{e.enriched=!1,e.processingStatus="pending",delete e.meaning,delete e.origin,delete e.culturalContext,delete e.enrichedAt}),localStorage.removeItem("nameEnrichmentProgress"),console.log("Cleared all enrichment progress")}getStatistics(){const e={},t=this.getEnrichedNames();return t.forEach(t=>{t.origin&&(e[t.origin]=(e[t.origin]||0)+1)}),{totalNames:this.database.length,enrichedCount:t.length,pendingCount:this.database.filter(e=>!e.enriched).length,errorCount:this.database.filter(e=>"failed"===e.processingStatus).length,originDistribution:e,completionPercentage:Math.round(t.length/this.database.length*100)}}mapToValidOrigin(e){if(!e)return"Modern";const t=e.toLowerCase();return"hebrew"===t?"Hebrew":"greek"===t?"Greek":"latin"===t?"Latin":"arabic"===t?"Arabic":"germanic"===t?"Germanic":"celtic"===t?"Celtic":"english"===t?"English":"french"===t?"French":"spanish"===t?"Spanish":"italian"===t?"Italian":"irish"===t?"Irish":"scottish"===t?"Scottish":"welsh"===t?"Welsh":"norse"===t?"Norse":"russian"===t?"Russian":"polish"===t?"Polish":"dutch"===t?"Dutch":"portuguese"===t?"Portuguese":"indian"===t?"Indian":"japanese"===t?"Japanese":"chinese"===t?"Chinese":"korean"===t?"Korean":"african"===t?"African":"persian"===t?"Persian":"turkish"===t?"Turkish":"hawaiian"===t?"Hawaiian":"biblical"===t?"Biblical":"slavic"===t?"Slavic":t.includes("german")?"Germanic":t.includes("celt")?"Celtic":t.includes("scot")?"Scottish":t.includes("slav")?"Slavic":t.includes("america")||t.includes("native")?"Native-American":t.includes("bible")||t.includes("christian")?"Biblical":"Modern"}};const o=new class{constructor(){this.enrichedNames=new Map,this.isInitialized=!1,this.storageKey="nameEnrichment_v2",this.databaseUpdateCallback=void 0,this.autoProcessing=!1,this.processingInterval=void 0,this.loadFromStorage()}async initialize(e){console.log("Initializing enrichment service...");const t=e.map(e=>{const t=this.enrichedNames.get(e.name);return{name:e.name,meaning:(null===t||void 0===t?void 0:t.meaning)||e.meaning,origin:(null===t||void 0===t?void 0:t.origin)||e.origin,culturalContext:null===t||void 0===t?void 0:t.culturalContext,enriched:(null===t||void 0===t?void 0:t.enriched)||!1,enrichedAt:null===t||void 0===t?void 0:t.enrichedAt}});await a.loadDatabase(t),t.forEach(e=>{this.enrichedNames.set(e.name,e)}),this.isInitialized=!0,console.log("Enrichment service initialized with ".concat(t.length," names")),this.startBackgroundProcessing(),this.autoProcessing&&!a.getStatus().isProcessing&&setTimeout(()=>this.startProcessing(100),2e3)}startBackgroundProcessing(){this.processingInterval=setInterval(()=>{const e=a.getStatus();!e.isProcessing&&e.unprocessedCount>0&&this.isInitialized&&this.autoProcessing&&(console.log("Auto-starting background enrichment..."),this.startProcessing(20))},1e4)}setDatabaseUpdateCallback(e){this.databaseUpdateCallback=e}async startProcessing(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1?arguments[1]:void 0;if(!this.isInitialized)return console.error("Service not initialized"),{processed:0,errors:0,total:0};a.setProgressCallback(t=>{if(console.log("Enrichment: ".concat(t.message," (").concat(t.processedCount,"/").concat(e,") - ").concat(t.progressPercentage,"% complete")),t.processedCount>0&&t.processedCount%5===0&&(this.saveProgress(),this.databaseUpdateCallback)){const e=Array.from(this.enrichedNames.values()).filter(e=>e.enriched);this.databaseUpdateCallback(e)}});const n=await a.start(e,t);if(this.saveProgress(),this.databaseUpdateCallback){const e=Array.from(this.enrichedNames.values()).filter(e=>e.enriched);this.databaseUpdateCallback(e)}return n}saveProgress(){a.getEnrichedNames().forEach(e=>{this.enrichedNames.set(e.name,e)}),this.saveToStorage()}getNameData(e){return this.enrichedNames.get(e)}getAllEnrichedNames(){return Array.from(this.enrichedNames.values()).filter(e=>e.enriched)}getStatus(){return a.getStatus()}getStatistics(){return a.getStatistics()}stopProcessing(){a.stop(),this.saveProgress()}getAvailableOrigins(){return[...r]}filterByOrigin(e,t){return 0===t.length?e:e.filter(e=>{const n=this.enrichedNames.get(e.name);return!(!n||!n.origin)&&t.includes(n.origin)})}getOriginDistribution(){const e={};return this.enrichedNames.forEach(t=>{t.origin&&(e[t.origin]=(e[t.origin]||0)+1)}),e}saveToStorage(){try{const e=Array.from(this.enrichedNames.values());localStorage.setItem(this.storageKey,JSON.stringify(e)),console.log("Saved ".concat(e.length," enriched names to storage"))}catch(e){console.error("Failed to save enriched names:",e)}}loadFromStorage(){try{const e=localStorage.getItem(this.storageKey);if(e){const t=JSON.parse(e);t.forEach(e=>{this.enrichedNames.set(e.name,e)}),console.log("Loaded ".concat(t.length," enriched names from storage"))}}catch(e){console.error("Failed to load enriched names:",e)}}clearEnrichmentData(){this.enrichedNames.clear(),localStorage.removeItem(this.storageKey),a.clearProgress(),console.log("Cleared all enrichment data")}stopBackgroundProcessing(){this.processingInterval&&(clearInterval(this.processingInterval),this.processingInterval=void 0),this.autoProcessing=!1}enableBackgroundProcessing(){this.autoProcessing=!0,this.processingInterval||this.startBackgroundProcessing()}}},4362:(e,t,n)=>{n.d(t,{Ib:()=>d,ry:()=>h,zs:()=>u});const r=e=>180*e/Math.PI,i=e=>{const t=r(Math.atan2(e[1],e[0]));return o(t)},a={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:i,rotateZ:i,skewX:e=>r(Math.atan(e[1])),skewY:e=>r(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},o=e=>((e%=360)<0&&(e+=360),e),s=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),l=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),c={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:s,scaleY:l,scale:e=>(s(e)+l(e))/2,rotateX:e=>o(r(Math.atan2(e[6],e[5]))),rotateY:e=>o(r(Math.atan2(-e[2],e[0]))),rotateZ:i,rotate:i,skewX:e=>r(Math.atan(e[4])),skewY:e=>r(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function u(e){return e.includes("scale")?1:0}function h(e,t){if(!e||"none"===e)return u(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,i;if(n)r=c,i=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=a,i=t}if(!i)return u(t);const o=r[t],s=i[1].split(",").map(p);return"function"===typeof o?o(s):s[o]}const d=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return h(n,t)};function p(e){return parseFloat(e.trim())}},4414:(e,t,n)=>{e.exports=n(3916)},4707:(e,t,n)=>{n.d(t,{j:()=>C});var r=n(2555),i=n(8673),a=n(24),o=n(5294),s=n(3548),l=n(1617),c=n(7583),u=n(6078);function h(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var d=n(5970);function p(e,t){return n=>n>0?t:e}var f=n(6240);const m=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},g=[c.u,d.B,u.V];function y(e){const t=(n=e,g.find(e=>e.test(n)));var n;if((0,a.$)(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),"color-not-animatable"),!Boolean(t))return!1;let r=t.parse(e);return t===u.V&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let a=0,o=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;a=h(i,e,t+1/3),o=h(i,e,t),s=h(i,e,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}(r)),r}const v=(e,t)=>{const n=y(e),i=y(t);if(!n||!i)return p(e,t);const a=(0,r.A)({},n);return e=>(a.red=m(n.red,i.red,e),a.green=m(n.green,i.green,e),a.blue=m(n.blue,i.blue,e),a.alpha=(0,f.k)(n.alpha,i.alpha,e),d.B.transform(a))},b=new Set(["none","hidden"]);function w(e,t){return n=>(0,f.k)(e,t,n)}function S(e){return"number"===typeof e?w:"string"===typeof e?(0,o.p)(e)?p:s.y.test(e)?v:k:Array.isArray(e)?x:"object"===typeof e?s.y.test(e)?v:E:p}function x(e,t){const n=[...e],r=n.length,i=e.map((e,n)=>S(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function E(e,t){const n=(0,r.A)((0,r.A)({},e),t),i={};for(const r in n)void 0!==e[r]&&void 0!==t[r]&&(i[r]=S(e[r])(e[r],t[r]));return e=>{for(const t in i)n[t]=i[t](e);return n}}const k=(e,t)=>{const n=l.f.createTransformer(t),r=(0,l.V)(e),o=(0,l.V)(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?b.has(e)&&!o.values.length||b.has(t)&&!r.values.length?function(e,t){return b.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):(0,i.F)(x(function(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){var i;const o=t.types[a],s=e.indexes[o][r[o]],l=null!==(i=e.values[s])&&void 0!==i?i:0;n[a]=l,r[o]++}return n}(r,o),o.values),n):((0,a.$)(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),"complex-values-different"),p(e,t))};function C(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return(0,f.k)(e,t,n);return S(e)(e,t)}},4907:(e,t,n)=>{n.d(t,{$:()=>i});var r=n(3766);const i=new Set(["width","height","top","left","right","bottom",...r.U])},5259:(e,t,n)=>{function r(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}n.d(t,{r:()=>r})},5285:(e,t,n)=>{function r(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function i(e,t,n,i){if("function"===typeof t){const[a,o]=r(i);t=t(void 0!==n?n:e.custom,a,o)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[a,o]=r(i);t=t(void 0!==n?n:e.custom,a,o)}return t}n.d(t,{a:()=>i})},5294:(e,t,n)=>{n.d(t,{j:()=>i,p:()=>o});const r=e=>t=>"string"===typeof t&&t.startsWith(e),i=r("--"),a=r("var(--"),o=e=>!!a(e)&&s.test(e.split("/*")[0].trim()),s=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i},5322:(e,t,n)=>{n.d(t,{P:()=>i});var r=n(9512);function i(e){return e.props[r.n]}},5328:(e,t,n)=>{n.d(t,{A:()=>c});const r=[{name:"Liam",popularity:9999e3,popularityRank:1,gender:{Male:.95,Female:.05},origin:"Irish",meaning:"Strong-willed warrior",type:"first",isPopular:!0,countries:{US:1},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9999e3,globalPopularityScore:10099e3,searchPriority:0},{name:"Olivia",popularity:9998e3,popularityRank:2,gender:{Male:.05,Female:.95},origin:"Latin",meaning:"Olive tree",type:"first",isPopular:!0,countries:{US:1},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9998e3,globalPopularityScore:10098e3,searchPriority:0},{name:"Noah",popularity:9997e3,popularityRank:3,gender:{Male:.95,Female:.05},origin:"Hebrew",meaning:"Rest, comfort",type:"first",isPopular:!0,countries:{US:2},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9997e3,globalPopularityScore:10097e3,searchPriority:0},{name:"Emma",popularity:9996e3,popularityRank:4,gender:{Male:.05,Female:.95},origin:"Germanic",meaning:"Universal",type:"first",isPopular:!0,countries:{US:2},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9996e3,globalPopularityScore:10096e3,searchPriority:0},{name:"Oliver",popularity:9995e3,popularityRank:5,gender:{Male:.95,Female:.05},origin:"Latin",meaning:"Olive tree",type:"first",isPopular:!0,countries:{US:3},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9995e3,globalPopularityScore:10095e3,searchPriority:0},{name:"Amelia",popularity:9994e3,popularityRank:6,gender:{Male:.05,Female:.95},origin:"Germanic",meaning:"Work",type:"first",isPopular:!0,countries:{US:3},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9994e3,globalPopularityScore:10094e3,searchPriority:0},{name:"Theodore",popularity:9993e3,popularityRank:7,gender:{Male:.95,Female:.05},origin:"Greek",meaning:"Gift of God",type:"first",isPopular:!0,countries:{US:4},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9993e3,globalPopularityScore:10093e3,searchPriority:0},{name:"Charlotte",popularity:9992e3,popularityRank:8,gender:{Male:.05,Female:.95},origin:"French",meaning:"Free woman",type:"first",isPopular:!0,countries:{US:4},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9992e3,globalPopularityScore:10092e3,searchPriority:0},{name:"James",popularity:9991e3,popularityRank:9,gender:{Male:.95,Female:.05},origin:"Hebrew",meaning:"Supplanter",type:"first",isPopular:!0,countries:{US:5},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9991e3,globalPopularityScore:10091e3,searchPriority:0},{name:"Mia",popularity:999e4,popularityRank:10,gender:{Male:.05,Female:.95},origin:"Italian",meaning:"Mine",type:"first",isPopular:!0,countries:{US:5},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:999e4,globalPopularityScore:1009e4,searchPriority:0},{name:"Mateo",popularity:9989e3,popularityRank:11,gender:{Male:.95,Female:.05},origin:"Spanish",meaning:"Gift of God",type:"first",isPopular:!0,countries:{US:6},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9989e3,globalPopularityScore:10089e3,searchPriority:0},{name:"Sophia",popularity:9988e3,popularityRank:12,gender:{Male:.05,Female:.95},origin:"Greek",meaning:"Wisdom",type:"first",isPopular:!0,countries:{US:6},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9988e3,globalPopularityScore:10088e3,searchPriority:0},{name:"Henry",popularity:9987e3,popularityRank:13,gender:{Male:.989,Female:.011},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:126,GB:124,ZA:160,NG:37,MY:170,HK:33,CO:68,PE:57,BO:77},globalCountries:{"Bolivia, Plurinational State of":.03,Colombia:.238,France:.028,"United Kingdom":.073,"Hong Kong":.044,Malaysia:.036,Nigeria:.136,Peru:.112,"United States":.249,"South Africa":.055},primaryCountry:"US",appearances:9,globalFrequency:9,popularityScore:9987e3,globalPopularityScore:10087e3,searchPriority:0},{name:"Isabella",popularity:9986e3,popularityRank:14,gender:{Male:.05,Female:.95},origin:"Hebrew",meaning:"God is my oath",type:"first",isPopular:!0,countries:{US:7},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9986e3,globalPopularityScore:10086e3,searchPriority:0},{name:"Elijah",popularity:9985e3,popularityRank:15,gender:{Male:.95,Female:.05},origin:"Hebrew",meaning:"My God is Yahweh",type:"first",isPopular:!0,countries:{US:8},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9985e3,globalPopularityScore:10085e3,searchPriority:0},{name:"Ava",popularity:9984e3,popularityRank:16,gender:{Male:.05,Female:.95},origin:"Latin",meaning:"Bird",type:"first",isPopular:!0,countries:{US:8},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9984e3,globalPopularityScore:10084e3,searchPriority:0},{name:"Lucas",popularity:9983e3,popularityRank:17,gender:{Male:.95,Female:.05},origin:"Latin",meaning:"Light",type:"first",isPopular:!0,countries:{US:9},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9983e3,globalPopularityScore:10083e3,searchPriority:0},{name:"Evelyn",popularity:9982e3,popularityRank:18,gender:{Male:.009,Female:.991},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:128,GB:314,ZA:314,NG:85,MY:186,MX:154,CO:318,CL:63,PE:103},globalCountries:{Chile:.144,Colombia:.061,"United Kingdom":.038,Italy:.059,Mexico:.115,Malaysia:.04,Nigeria:.081,Peru:.097,"United States":.312,"South Africa":.054},primaryCountry:"US",appearances:9,globalFrequency:9,popularityScore:9982e3,globalPopularityScore:10082e3,searchPriority:0},{name:"William",popularity:9981e3,popularityRank:19,gender:{Male:.95,Female:.05},origin:"Germanic",meaning:"Resolute protector",type:"first",isPopular:!0,countries:{US:10},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9981e3,globalPopularityScore:10081e3,searchPriority:0},{name:"Sofia",popularity:998e4,popularityRank:20,gender:{Male:.05,Female:.95},origin:"Greek",meaning:"Wisdom",type:"first",isPopular:!0,countries:{US:10},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:998e4,globalPopularityScore:1008e4,searchPriority:0},{name:"Benjamin",popularity:9979e3,popularityRank:21,gender:{Male:.95,Female:.05},origin:"Hebrew",meaning:"Son of the right hand",type:"first",isPopular:!0,countries:{US:11},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9979e3,globalPopularityScore:10079e3,searchPriority:0},{name:"Luna",popularity:9978e3,popularityRank:22,gender:{Male:.05,Female:.95},origin:"Latin",meaning:"Moon",type:"first",isPopular:!0,countries:{US:11},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9978e3,globalPopularityScore:10078e3,searchPriority:0},{name:"Jack",popularity:9977e3,popularityRank:23,gender:{Male:.95,Female:.05},origin:"English",meaning:"God is gracious",type:"first",isPopular:!0,countries:{US:12},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9977e3,globalPopularityScore:10077e3,searchPriority:0},{name:"Harper",popularity:9976e3,popularityRank:24,gender:{Male:.05,Female:.95},origin:"English",meaning:"Harp player",type:"first",isPopular:!0,countries:{US:12},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9976e3,globalPopularityScore:10076e3,searchPriority:0},{name:"Alexander",popularity:9975e3,popularityRank:25,gender:{Male:.95,Female:.05},origin:"Greek",meaning:"Defender of mankind",type:"first",isPopular:!0,countries:{US:13},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9975e3,globalPopularityScore:10075e3,searchPriority:0},{name:"Camila",popularity:9974e3,popularityRank:26,gender:{Male:.015,Female:.985},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:445,ES:358,MX:133,AR:29,CO:17,CL:5,PE:52,BO:35,UY:15},globalCountries:{Argentina:.035,"Bolivia, Plurinational State of":.023,Brazil:.139,Chile:.237,Colombia:.358,Spain:.012,Mexico:.057,Peru:.066,"United States":.041,Uruguay:.033},primaryCountry:"US",appearances:9,globalFrequency:9,popularityScore:9974e3,globalPopularityScore:10074e3,searchPriority:0},{name:"Jackson",popularity:9973e3,popularityRank:27,gender:{Male:.971,Female:.029},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:369,GB:506,ZA:432,NG:417,SG:176,MY:227,HK:195,CO:492,PE:547},globalCountries:{Brazil:.231,Colombia:.072,"United Kingdom":.035,"Hong Kong":.034,Malaysia:.121,Nigeria:.082,Peru:.028,Singapore:.038,"United States":.265,"South Africa":.093},primaryCountry:"US",appearances:9,globalFrequency:9,popularityScore:9973e3,globalPopularityScore:10073e3,searchPriority:0},{name:"Gianna",popularity:9972e3,popularityRank:28,gender:{Male:.05,Female:.95},origin:"Italian",meaning:"God is gracious",type:"first",isPopular:!0,countries:{US:14},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9972e3,globalPopularityScore:10072e3,searchPriority:0},{name:"Sebastian",popularity:9971e3,popularityRank:29,gender:{Male:.95,Female:.05},origin:"Greek",meaning:"Venerable",type:"first",isPopular:!0,countries:{US:15},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9971e3,globalPopularityScore:10071e3,searchPriority:0},{name:"Abigail",popularity:997e4,popularityRank:30,gender:{Male:.022,Female:.978},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:272,GB:224,ZA:220,NG:90,GH:3,MX:110,CO:707,CL:284,PE:191,BO:65},globalCountries:{"Bolivia, Plurinational State of":.051,Chile:.033,Colombia:.027,"United Kingdom":.093,Ghana:.085,Mexico:.212,Nigeria:.104,Peru:.065,"United States":.232,"South Africa":.098},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:997e4,globalPopularityScore:1007e4,searchPriority:0},{name:"Michael",popularity:9969e3,popularityRank:31,gender:{Male:.95,Female:.05},origin:"Hebrew",meaning:"Who is like God?",type:"first",isPopular:!0,countries:{US:16},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9969e3,globalPopularityScore:10069e3,searchPriority:0},{name:"Ella",popularity:9968e3,popularityRank:32,gender:{Male:.05,Female:.95},origin:"Germanic",meaning:"Light",type:"first",isPopular:!0,countries:{US:16},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9968e3,globalPopularityScore:10068e3,searchPriority:0},{name:"Daniel",popularity:9967e3,popularityRank:33,gender:{Male:.95,Female:.05},origin:"Hebrew",meaning:"God is my judge",type:"first",isPopular:!0,countries:{US:17},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9967e3,globalPopularityScore:10067e3,searchPriority:0},{name:"Emily",popularity:9966e3,popularityRank:34,gender:{Male:.05,Female:.95},origin:"Latin",meaning:"Rival",type:"first",isPopular:!0,countries:{US:17},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9966e3,globalPopularityScore:10066e3,searchPriority:0},{name:"Muhammad",popularity:9965e3,popularityRank:35,gender:{Male:.95,Female:.05},origin:"Arabic",meaning:"Praised",type:"first",isPopular:!0,countries:{US:18},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9965e3,globalPopularityScore:10065e3,searchPriority:0},{name:"Madison",popularity:9964e3,popularityRank:36,gender:{Male:.05,Female:.95},origin:"English",meaning:"Son of Maud",type:"first",isPopular:!0,countries:{US:18},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9964e3,globalPopularityScore:10064e3,searchPriority:0},{name:"Ethan",popularity:9963e3,popularityRank:37,gender:{Male:.95,Female:.05},origin:"Hebrew",meaning:"Firm, strong",type:"first",isPopular:!0,countries:{US:19},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9963e3,globalPopularityScore:10063e3,searchPriority:0},{name:"Scarlett",popularity:9962e3,popularityRank:38,gender:{Male:.05,Female:.95},origin:"English",meaning:"Red",type:"first",isPopular:!0,countries:{US:19},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9962e3,globalPopularityScore:10062e3,searchPriority:0},{name:"Mason",popularity:9961e3,popularityRank:39,gender:{Male:.95,Female:.05},origin:"English",meaning:"Stone worker",type:"first",isPopular:!0,countries:{US:20},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9961e3,globalPopularityScore:10061e3,searchPriority:0},{name:"Victoria",popularity:996e4,popularityRank:40,gender:{Male:.05,Female:.95},origin:"Latin",meaning:"Victory",type:"first",isPopular:!0,countries:{US:20},globalCountries:{"United States":.5},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:996e4,globalPopularityScore:1006e4,searchPriority:0},{name:"Juan",popularity:9945900,popularityRank:41,gender:{Male:.987,Female:.013},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:5,ES:3,MX:2,AR:1,CO:1,CL:1,PE:4,BO:1,GT:4,UY:1},globalCountries:{Argentina:.028,"Bolivia, Plurinational State of":.031,Chile:.102,Colombia:.235,Spain:.134,Guatemala:.016,Mexico:.161,Peru:.083,"United States":.195,Uruguay:.017},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9945900,globalPopularityScore:10045900,searchPriority:0},{name:"Javier",popularity:9945800,popularityRank:42,gender:{Male:.993,Female:.007},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:49,ES:7,MX:16,AR:13,CO:18,CL:23,PE:13,BO:9,PA:3,UY:14},globalCountries:{Argentina:.025,"Bolivia, Plurinational State of":.033,Chile:.079,Colombia:.193,Spain:.246,Mexico:.176,Panama:.021,Peru:.074,"United States":.136,Uruguay:.017},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9945800,globalPopularityScore:10045800,searchPriority:0},{name:"Alejandro",popularity:9945700,popularityRank:43,gender:{Male:.993,Female:.007},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:68,ES:20,MX:7,AR:6,CO:15,CL:12,PE:27,BO:14,CR:2,UY:6},globalCountries:{Argentina:.034,"Bolivia, Plurinational State of":.028,Chile:.104,Colombia:.227,"Costa Rica":.015,Spain:.137,Mexico:.254,Peru:.055,"United States":.122,Uruguay:.024},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9945700,globalPopularityScore:10045700,searchPriority:0},{name:"Elizabeth",popularity:9945600,popularityRank:44,gender:{Male:.009,Female:.991},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:9,GB:72,ZA:41,NG:20,MX:14,CO:40,CL:20,PE:4,BO:4,GT:1},globalCountries:{"Bolivia, Plurinational State of":.031,Chile:.086,Colombia:.13,"United Kingdom":.064,Guatemala:.022,Mexico:.143,Nigeria:.049,Peru:.103,"United States":.324,"South Africa":.048},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9945600,globalPopularityScore:10045600,searchPriority:0},{name:"Alejandra",popularity:9945500,popularityRank:45,gender:{Male:.01,Female:.99},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:108,ES:109,MX:5,AR:6,CO:11,CL:6,PE:64,BO:6,GT:2,UY:6},globalCountries:{Argentina:.043,"Bolivia, Plurinational State of":.034,Chile:.139,Colombia:.3,Spain:.045,Guatemala:.019,Mexico:.251,Peru:.039,"United States":.102,Uruguay:.028},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9945500,globalPopularityScore:10045500,searchPriority:0},{name:"Jesus",popularity:9945400,popularityRank:46,gender:{Male:.978,Female:.022},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:25,ES:14,MX:5,AR:81,CO:32,CL:93,PE:14,BO:45,CR:19,PA:12},globalCountries:{Argentina:.007,"Bolivia, Plurinational State of":.017,Chile:.018,Colombia:.135,"Costa Rica":.008,Spain:.174,Mexico:.329,Panama:.013,Peru:.083,"United States":.216},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9945400,globalPopularityScore:10045400,searchPriority:0},{name:"Andres",popularity:9945300,popularityRank:47,gender:{Male:.99,Female:.01},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:121,ES:47,MX:49,AR:40,CO:2,CL:30,PE:56,BO:35,CR:4,UY:13},globalCountries:{Argentina:.015,"Bolivia, Plurinational State of":.02,Chile:.08,Colombia:.583,"Costa Rica":.014,Spain:.07,Mexico:.081,Peru:.036,"United States":.08,Uruguay:.02},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9945300,globalPopularityScore:10045300,searchPriority:0},{name:"Juan Carlos",popularity:9945200,popularityRank:48,gender:{Male:.995,Female:.005},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:265,ES:32,MX:46,AR:32,CO:31,CL:40,PE:17,BO:7,GT:29,CR:10},globalCountries:{Argentina:.033,"Bolivia, Plurinational State of":.078,Chile:.098,Colombia:.244,"Costa Rica":.018,Spain:.17,Guatemala:.014,Mexico:.157,Peru:.128,"United States":.06},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9945200,globalPopularityScore:10045200,searchPriority:0},{name:"Hector",popularity:9945100,popularityRank:49,gender:{Male:.994,Female:.006},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:72,ES:107,MX:39,AR:34,CO:57,CL:37,PE:55,BO:78,GT:18,PA:15},globalCountries:{Argentina:.034,"Bolivia, Plurinational State of":.019,Chile:.128,Colombia:.185,Spain:.049,Guatemala:.024,Mexico:.213,Panama:.023,Peru:.073,"United States":.252},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9945100,globalPopularityScore:10045100,searchPriority:0},{name:"Maribel",popularity:9945e3,popularityRank:50,gender:{Male:.01,Female:.99},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:164,ES:47,MX:63,CO:96,CL:105,PE:19,BO:11,GT:11,CR:15,PA:4},globalCountries:{"Bolivia, Plurinational State of":.064,Chile:.051,Colombia:.144,"Costa Rica":.021,Spain:.196,Guatemala:.024,Mexico:.17,Panama:.022,Peru:.139,"United States":.168},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9945e3,globalPopularityScore:10045e3,searchPriority:0},{name:"Enrique",popularity:9944900,popularityRank:51,gender:{Male:.994,Female:.006},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:132,ES:42,MX:37,CO:110,CL:66,PE:46,BO:70,GT:21,PA:19,UY:33},globalCountries:{"Bolivia, Plurinational State of":.027,Chile:.069,Colombia:.105,Spain:.186,Guatemala:.023,Mexico:.264,Panama:.025,Peru:.096,"United States":.184,Uruguay:.022},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9944900,globalPopularityScore:10044900,searchPriority:0},{name:"Edgar",popularity:9944800,popularityRank:52,gender:{Male:.993,Female:.007},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:109,ES:176,MX:35,CO:54,CL:190,PE:28,BO:24,GT:6,CR:20,PA:14},globalCountries:{"Bolivia, Plurinational State of":.054,Chile:.014,Colombia:.217,"Costa Rica":.017,Spain:.027,Guatemala:.05,Mexico:.259,Panama:.026,Peru:.125,"United States":.209},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9944800,globalPopularityScore:10044800,searchPriority:0},{name:"Rocio",popularity:9944700,popularityRank:53,gender:{Male:.009,Female:.991},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:235,ES:21,MX:40,AR:32,CO:72,CL:102,PE:17,BO:49,CR:19,UY:69},globalCountries:{Argentina:.043,"Bolivia, Plurinational State of":.025,Chile:.047,Colombia:.159,"Costa Rica":.017,Spain:.27,Mexico:.196,Peru:.124,"United States":.108,Uruguay:.011},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9944700,globalPopularityScore:10044700,searchPriority:0},{name:"Luz",popularity:9944600,popularityRank:54,gender:{Male:.017,Female:.983},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:125,ES:198,MX:58,AR:86,CO:14,CL:88,PE:8,BO:41,CR:45,PA:6},globalCountries:{Argentina:.014,"Bolivia, Plurinational State of":.023,Chile:.048,Colombia:.423,"Costa Rica":.009,Spain:.034,Mexico:.137,Panama:.016,Peru:.148,"United States":.15},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9944600,globalPopularityScore:10044600,searchPriority:0},{name:"Blanca",popularity:9944500,popularityRank:55,gender:{Male:.011,Female:.989},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:91,ES:90,MX:38,AR:79,CO:47,CL:106,PE:106,BO:66,GT:12,UY:39},globalCountries:{Argentina:.02,"Bolivia, Plurinational State of":.022,Chile:.047,Colombia:.261,Spain:.109,Guatemala:.021,Mexico:.21,Peru:.056,"United States":.23,Uruguay:.023},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9944500,globalPopularityScore:10044500,searchPriority:0},{name:"Guillermo",popularity:9944400,popularityRank:56,gender:{Male:.995,Female:.005},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:194,ES:74,MX:54,AR:37,CO:70,CL:45,PE:67,BO:88,CR:18,UY:35},globalCountries:{Argentina:.043,"Bolivia, Plurinational State of":.023,Chile:.128,Colombia:.208,"Costa Rica":.021,Spain:.115,Mexico:.203,Peru:.09,"United States":.143,Uruguay:.025},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9944400,globalPopularityScore:10044400,searchPriority:0},{name:"Santiago",popularity:9944300,popularityRank:57,gender:{Male:.988,Female:.012},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:213,ES:64,MX:72,AR:30,CO:13,CL:116,PE:90,BO:58,GT:39,UY:7},globalCountries:{Argentina:.037,"Bolivia, Plurinational State of":.027,Chile:.025,Colombia:.499,Spain:.103,Guatemala:.011,Mexico:.11,Peru:.049,"United States":.09,Uruguay:.049},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9944300,globalPopularityScore:10044300,searchPriority:0},{name:"Jose Luis",popularity:9944200,popularityRank:58,gender:{Male:.995,Female:.005},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:263,ES:22,MX:38,AR:66,CO:96,CL:76,PE:30,BO:15,PA:36,UY:61},globalCountries:{Argentina:.022,"Bolivia, Plurinational State of":.066,Chile:.053,Colombia:.113,Spain:.268,Mexico:.25,Panama:.01,Peru:.125,"United States":.079,Uruguay:.013},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9944200,globalPopularityScore:10044200,searchPriority:0},{name:"Juana",popularity:9944100,popularityRank:59,gender:{Male:.02,Female:.98},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:168,ES:85,MX:66,AR:66,CO:202,CL:60,PE:22,BO:13,GT:10,PA:20},globalCountries:{Argentina:.033,"Bolivia, Plurinational State of":.072,Chile:.108,Colombia:.074,Spain:.14,Guatemala:.028,Mexico:.19,Panama:.013,Peru:.154,"United States":.188},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9944100,globalPopularityScore:10044100,searchPriority:0},{name:"Katherine",popularity:9944e3,popularityRank:60,gender:{Male:.006,Female:.994},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:144,GB:179,CA:91,HK:104,CO:87,CL:46,PE:86,BO:100,CR:10,PA:1},globalCountries:{"Bolivia, Plurinational State of":.023,Canada:.029,Chile:.177,Colombia:.225,"Costa Rica":.035,"United Kingdom":.082,"Hong Kong":.019,Panama:.037,Peru:.101,"United States":.273},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9944e3,globalPopularityScore:10044e3,searchPriority:0},{name:"Shirley",popularity:9943900,popularityRank:61,gender:{Male:.008,Female:.992},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:176,GB:126,ZA:150,SG:21,MY:62,HK:14,CO:188,PE:137,BO:50,CR:8},globalCountries:{"Bolivia, Plurinational State of":.045,Colombia:.117,"Costa Rica":.041,"United Kingdom":.145,"Hong Kong":.085,Malaysia:.081,Peru:.074,Singapore:.047,"United States":.268,"South Africa":.097},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9943900,globalPopularityScore:10043900,searchPriority:0},{name:"Flor",popularity:9943800,popularityRank:62,gender:{Male:.023,Female:.977},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:277,ES:256,MX:73,AR:43,CO:79,CL:129,PE:11,GT:17,CR:7,UY:48},globalCountries:{Argentina:.051,Chile:.056,Colombia:.222,"Costa Rica":.036,Spain:.039,Guatemala:.025,Mexico:.192,Peru:.217,"United States":.139,Uruguay:.024},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9943800,globalPopularityScore:10043800,searchPriority:0},{name:"Ruth",popularity:9943700,popularityRank:63,gender:{Male:.011,Female:.989},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:118,GB:99,ZA:203,NG:28,ES:161,MX:172,CO:134,CL:74,PE:26,BO:18},globalCountries:{"Bolivia, Plurinational State of":.051,Chile:.08,Colombia:.107,Spain:.062,"United Kingdom":.127,Mexico:.068,Nigeria:.107,Peru:.127,"United States":.22,"South Africa":.051},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9943700,globalPopularityScore:10043700,searchPriority:0},{name:"Gonzalo",popularity:9943600,popularityRank:64,gender:{Male:.994,Female:.006},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:371,ES:75,MX:135,AR:43,CO:147,CL:42,PE:116,BO:46,CR:98,UY:16},globalCountries:{Argentina:.063,"Bolivia, Plurinational State of":.071,Chile:.209,Colombia:.128,"Costa Rica":.007,Spain:.17,Mexico:.108,Peru:.078,"United States":.087,Uruguay:.08},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9943600,globalPopularityScore:10043600,searchPriority:0},{name:"Gladys",popularity:9943500,popularityRank:65,gender:{Male:.01,Female:.99},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:236,ZA:171,NG:122,MX:337,AR:41,CO:59,CL:55,PE:16,BO:24,UY:31},globalCountries:{Argentina:.049,"Bolivia, Plurinational State of":.051,Chile:.131,Colombia:.254,Mexico:.038,Nigeria:.049,Peru:.174,"United States":.149,Uruguay:.038,"South Africa":.067},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9943500,globalPopularityScore:10043500,searchPriority:0},{name:"German",popularity:9943400,popularityRank:66,gender:{Male:.992,Female:.008},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:315,ES:152,MX:132,AR:71,CO:69,CL:101,PE:145,BO:53,CR:39,UY:64},globalCountries:{Argentina:.042,"Bolivia, Plurinational State of":.07,Chile:.079,Colombia:.369,"Costa Rica":.017,Spain:.074,Mexico:.125,Peru:.069,"United States":.128,Uruguay:.026},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9943400,globalPopularityScore:10043400,searchPriority:0},{name:"Miguel Angel",popularity:9943300,popularityRank:67,gender:{Male:.996,Female:.004},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:520,ES:35,MX:64,AR:68,CO:92,CL:96,PE:49,BO:50,GT:96,UY:91},globalCountries:{Argentina:.03,"Bolivia, Plurinational State of":.052,Chile:.056,Colombia:.168,Spain:.294,Guatemala:.008,Mexico:.217,Peru:.128,"United States":.04,Uruguay:.008},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9943300,globalPopularityScore:10043300,searchPriority:0},{name:"Maritza",popularity:9943200,popularityRank:68,gender:{Male:.01,Female:.99},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:222,ES:428,MX:211,CO:93,CL:77,PE:30,BO:67,GT:26,CR:5,PA:3},globalCountries:{"Bolivia, Plurinational State of":.038,Chile:.121,Colombia:.235,"Costa Rica":.046,Spain:.021,Guatemala:.027,Mexico:.09,Panama:.037,Peru:.183,"United States":.202},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9943200,globalPopularityScore:10043200,searchPriority:0},{name:"Helen",popularity:9943100,popularityRank:69,gender:{Male:.012,Female:.988},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:173,GB:8,CA:47,IE:21,ZA:324,NG:27,SG:22,MY:112,HK:29,CO:404},globalCountries:{Canada:.034,Colombia:.032,"United Kingdom":.429,"Hong Kong":.046,Ireland:.056,Malaysia:.038,Nigeria:.118,Singapore:.031,"United States":.179,"South Africa":.037},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9943100,globalPopularityScore:10043100,searchPriority:0},{name:"Graciela",popularity:9943e3,popularityRank:70,gender:{Male:.009,Female:.991},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:323,ES:330,MX:93,AR:2,CO:168,CL:107,PE:116,BO:53,PA:31,UY:2},globalCountries:{Argentina:.186,"Bolivia, Plurinational State of":.041,Chile:.08,Colombia:.131,Spain:.032,Mexico:.183,Panama:.015,Peru:.084,"United States":.135,Uruguay:.114},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9943e3,globalPopularityScore:10043e3,searchPriority:0},{name:"Janet",popularity:9942900,popularityRank:71,gender:{Male:.01,Female:.99},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:77,GB:59,CA:57,ZA:384,NG:63,MY:174,HK:56,GH:12,MX:245,PE:107},globalCountries:{Canada:.036,"United Kingdom":.24,Ghana:.033,"Hong Kong":.033,Mexico:.061,Malaysia:.035,Nigeria:.081,Peru:.078,"United States":.367,"South Africa":.038},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9942900,globalPopularityScore:10042900,searchPriority:0},{name:"Josue",popularity:9942800,popularityRank:72,gender:{Male:.991,Female:.009},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:222,ES:260,MX:79,CO:264,CL:194,PE:97,BO:76,GT:10,CR:11,PA:21},globalCountries:{"Bolivia, Plurinational State of":.052,Chile:.032,Colombia:.072,"Costa Rica":.052,Spain:.036,Guatemala:.093,Mexico:.267,Panama:.047,Peru:.119,"United States":.231},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9942800,globalPopularityScore:10042800,searchPriority:0},{name:"Mariela",popularity:9942700,popularityRank:73,gender:{Male:.01,Female:.99},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:411,ES:359,MX:162,AR:25,CO:92,CL:81,PE:80,BO:19,GT:21,UY:20},globalCountries:{Argentina:.091,"Bolivia, Plurinational State of":.079,Chile:.115,Colombia:.243,Spain:.03,Guatemala:.03,Mexico:.114,Peru:.124,"United States":.107,Uruguay:.067},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9942700,globalPopularityScore:10042700,searchPriority:0},{name:"Aaron",popularity:9942600,popularityRank:74,gender:{Male:.989,Female:.011},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:64,GB:68,CA:43,IE:32,ZA:273,SG:81,MY:205,ES:148,MX:126,PE:257},globalCountries:{Canada:.046,Spain:.052,"United Kingdom":.204,Ireland:.037,Mexico:.092,Malaysia:.034,Peru:.024,Singapore:.019,"United States":.455,"South Africa":.038},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9942600,globalPopularityScore:10042600,searchPriority:0},{name:"Isaac",popularity:9942500,popularityRank:75,gender:{Male:.982,Female:.018},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:172,GB:238,ZA:70,NG:50,GH:3,ES:121,MX:106,CO:248,CL:151,PE:189},globalCountries:{Chile:.037,Colombia:.06,Spain:.081,"United Kingdom":.037,Ghana:.1,Mexico:.135,Nigeria:.14,Peru:.04,"United States":.235,"South Africa":.135},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9942500,globalPopularityScore:10042500,searchPriority:0},{name:"Agustin",popularity:9942400,popularityRank:76,gender:{Male:.988,Female:.012},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:314,ES:91,MX:110,AR:27,CO:351,CL:105,PE:208,BO:120,PA:39,UY:20},globalCountries:{Argentina:.123,"Bolivia, Plurinational State of":.035,Chile:.092,Colombia:.052,Spain:.179,Mexico:.192,Panama:.024,Peru:.053,"United States":.156,Uruguay:.095},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9942400,globalPopularityScore:10042400,searchPriority:0},{name:"Liz",popularity:9942300,popularityRank:77,gender:{Male:.01,Female:.99},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:84,GB:69,CA:99,IE:43,ZA:669,MX:81,CO:215,PE:54,BO:56,PA:23},globalCountries:{"Bolivia, Plurinational State of":.031,Canada:.023,Colombia:.074,"United Kingdom":.2,Ireland:.033,Mexico:.165,Panama:.013,Peru:.116,"United States":.326,"South Africa":.02},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9942300,globalPopularityScore:10042300,searchPriority:0},{name:"Ramiro",popularity:9942200,popularityRank:78,gender:{Male:.992,Female:.008},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:262,ES:258,MX:107,AR:75,CO:126,CL:234,PE:218,BO:27,GT:74,UY:75},globalCountries:{Argentina:.047,"Bolivia, Plurinational State of":.142,Chile:.027,Colombia:.23,Spain:.041,Guatemala:.02,Mexico:.203,Peru:.053,"United States":.214,Uruguay:.022},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9942200,globalPopularityScore:10042200,searchPriority:0},{name:"Ignacio",popularity:9942100,popularityRank:79,gender:{Male:.993,Female:.007},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:319,ES:78,MX:99,AR:70,CO:322,CL:31,PE:305,BO:133,CR:66,UY:36},globalCountries:{Argentina:.043,"Bolivia, Plurinational State of":.023,Chile:.35,Colombia:.048,"Costa Rica":.011,Spain:.168,Mexico:.166,Peru:.026,"United States":.123,Uruguay:.043},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9942100,globalPopularityScore:10042100,searchPriority:0},{name:"Joaquin",popularity:9942e3,popularityRank:80,gender:{Male:.993,Female:.007},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:380,ES:65,MX:151,AR:67,CO:290,CL:65,PE:188,BO:142,PA:82,UY:37},globalCountries:{Argentina:.056,"Bolivia, Plurinational State of":.025,Chile:.181,Colombia:.069,Spain:.306,Mexico:.129,Panama:.011,Peru:.058,"United States":.115,Uruguay:.05},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9942e3,globalPopularityScore:10042e3,searchPriority:0},{name:"Estela",popularity:9941900,popularityRank:81,gender:{Male:.011,Female:.989},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:318,ES:181,MX:101,AR:45,CO:252,CL:309,PE:188,BO:126,GT:36,UY:27},globalCountries:{Argentina:.088,"Bolivia, Plurinational State of":.03,Chile:.03,Colombia:.115,Spain:.115,Guatemala:.034,Mexico:.24,Peru:.071,"United States":.201,Uruguay:.076},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9941900,globalPopularityScore:10041900,searchPriority:0},{name:"Yesenia",popularity:9941800,popularityRank:82,gender:{Male:.009,Female:.991},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:248,ES:652,MX:119,CO:164,CL:201,PE:136,BO:162,GT:40,CR:43,PA:25},globalCountries:{"Bolivia, Plurinational State of":.023,Chile:.062,Colombia:.202,"Costa Rica":.029,Spain:.016,Guatemala:.032,Mexico:.222,Panama:.025,Peru:.107,"United States":.282},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9941800,globalPopularityScore:10041800,searchPriority:0},{name:"Guadalupe",popularity:9941700,popularityRank:83,gender:{Male:.14,Female:.86},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:112,ES:226,MX:3,AR:121,CO:677,CL:320,PE:208,BO:88,GT:48,PA:36},globalCountries:{Argentina:.016,"Bolivia, Plurinational State of":.019,Chile:.013,Colombia:.015,Spain:.041,Guatemala:.012,Mexico:.606,Panama:.009,Peru:.031,"United States":.237},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9941700,globalPopularityScore:10041700,searchPriority:0},{name:"Hernan",popularity:9941600,popularityRank:84,gender:{Male:.994,Female:.006},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:537,ES:466,MX:289,AR:56,CO:81,CL:68,PE:112,BO:69,PA:67,UY:98},globalCountries:{Argentina:.074,"Bolivia, Plurinational State of":.071,Chile:.18,Colombia:.388,Spain:.017,Mexico:.048,Panama:.014,Peru:.122,"United States":.072,Uruguay:.013},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9941600,globalPopularityScore:10041600,searchPriority:0},{name:"Abraham",popularity:9941500,popularityRank:85,gender:{Male:.983,Female:.017},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:246,ZA:377,NG:128,GH:38,ES:175,MX:77,CO:378,CL:146,PE:167,BO:121},globalCountries:{"Bolivia, Plurinational State of":.034,Chile:.055,Colombia:.048,Spain:.072,Ghana:.027,Mexico:.315,Nigeria:.113,Peru:.069,"United States":.22,"South Africa":.048},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9941500,globalPopularityScore:10041500,searchPriority:0},{name:"Juan Jose",popularity:9941400,popularityRank:86,gender:{Male:.994,Female:.006},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:810,ES:70,MX:147,AR:108,CO:118,CL:244,PE:160,BO:118,GT:99,CR:82},globalCountries:{Argentina:.028,"Bolivia, Plurinational State of":.041,Chile:.028,Colombia:.276,"Costa Rica":.013,Spain:.308,Guatemala:.015,Mexico:.16,Peru:.086,"United States":.044},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9941400,globalPopularityScore:10041400,searchPriority:0},{name:"Ian",popularity:9941300,popularityRank:87,gender:{Male:.986,Female:.014},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:185,GB:19,CA:48,IE:33,ZA:227,SG:107,MY:473,ES:350,MX:314,CL:207},globalCountries:{Canada:.047,Chile:.02,Spain:.016,"United Kingdom":.569,Ireland:.038,Mexico:.026,Malaysia:.017,Singapore:.016,"United States":.201,"South Africa":.05},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9941300,globalPopularityScore:10041300,searchPriority:0},{name:"Saul",popularity:9941200,popularityRank:88,gender:{Male:.992,Female:.008},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:223,GB:599,ES:240,MX:75,CO:217,CL:307,PE:118,BO:97,GT:70,PA:50},globalCountries:{"Bolivia, Plurinational State of":.048,Chile:.017,Colombia:.108,Spain:.046,"United Kingdom":.013,Guatemala:.022,Mexico:.344,Panama:.018,Peru:.113,"United States":.271},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9941200,globalPopularityScore:10041200,searchPriority:0},{name:"Jazmin",popularity:9941100,popularityRank:89,gender:{Male:.011,Female:.989},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:397,MX:95,AR:150,CO:256,CL:252,PE:243,BO:267,GT:169,CR:90,PA:112},globalCountries:{Argentina:.039,"Bolivia, Plurinational State of":.018,Chile:.059,Colombia:.161,"Costa Rica":.02,Guatemala:.014,Mexico:.374,Panama:.013,Peru:.079,"United States":.222},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9941100,globalPopularityScore:10041100,searchPriority:0},{name:"Juan Pablo",popularity:9941e3,popularityRank:90,gender:{Male:.994,Female:.006},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:907,ES:269,MX:146,AR:95,CO:71,CL:85,PE:261,BO:79,CR:76,UY:86},globalCountries:{Argentina:.032,"Bolivia, Plurinational State of":.06,Chile:.132,Colombia:.475,"Costa Rica":.013,Spain:.041,Mexico:.149,Peru:.045,"United States":.035,Uruguay:.018},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9941e3,globalPopularityScore:10041e3,searchPriority:0},{name:"Luis Alberto",popularity:9940900,popularityRank:91,gender:{Male:.995,Female:.005},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:1048,ES:288,MX:139,AR:102,CO:105,CL:110,PE:50,BO:107,PA:61,UY:84},globalCountries:{Argentina:.029,"Bolivia, Plurinational State of":.046,Chile:.097,Colombia:.304,Spain:.038,Mexico:.162,Panama:.016,Peru:.257,"United States":.029,Uruguay:.02},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9940900,globalPopularityScore:10040900,searchPriority:0},{name:"Juan Manuel",popularity:9940800,popularityRank:92,gender:{Male:.995,Female:.005},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:779,ES:69,MX:92,AR:96,CO:145,CL:206,PE:190,BO:283,CR:172,UY:100},globalCountries:{Argentina:.033,"Bolivia, Plurinational State of":.012,Chile:.037,Colombia:.207,"Costa Rica":.005,Spain:.312,Mexico:.269,Peru:.066,"United States":.046,Uruguay:.014},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9940800,globalPopularityScore:10040800,searchPriority:0},{name:"Efrain",popularity:9940700,popularityRank:93,gender:{Male:.993,Female:.007},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:299,ES:787,MX:127,CO:186,CL:335,PE:115,BO:63,GT:82,CR:101,PA:47},globalCountries:{"Bolivia, Plurinational State of":.103,Chile:.019,Colombia:.175,"Costa Rica":.012,Spain:.011,Guatemala:.025,Mexico:.225,Panama:.026,Peru:.157,"United States":.247},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9940700,globalPopularityScore:10040700,searchPriority:0},{name:"Camilo",popularity:9940600,popularityRank:94,gender:{Male:.989,Female:.011},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:562,ES:311,MX:370,AR:196,CO:11,CL:59,PE:325,BO:230,PA:73,UY:90},globalCountries:{Argentina:.004,"Bolivia, Plurinational State of":.007,Chile:.105,Colombia:.795,Spain:.015,Mexico:.016,Panama:.006,Peru:.014,"United States":.031,Uruguay:.007},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9940600,globalPopularityScore:10040600,searchPriority:0},{name:"Juanita",popularity:9940500,popularityRank:95,gender:{Male:.013,Female:.987},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:258,ZA:407,ES:506,MX:121,CO:236,CL:179,PE:238,BO:139,GT:64,CR:89},globalCountries:{"Bolivia, Plurinational State of":.03,Chile:.08,Colombia:.14,"Costa Rica":.016,Spain:.026,Guatemala:.025,Mexico:.245,Peru:.065,"United States":.3,"South Africa":.074},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9940500,globalPopularityScore:10040500,searchPriority:0},{name:"Jorge Luis",popularity:9940400,popularityRank:96,gender:{Male:.996,Female:.004},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:860,ES:475,MX:171,AR:148,CO:150,CL:222,PE:53,BO:123,CR:88,PA:83},globalCountries:{Argentina:.022,"Bolivia, Plurinational State of":.049,Chile:.044,Colombia:.263,"Costa Rica":.016,Spain:.024,Mexico:.169,Panama:.017,Peru:.342,"United States":.054},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9940400,globalPopularityScore:10040400,searchPriority:0},{name:"Fer",popularity:9940300,popularityRank:97,gender:{Male:.588,Female:.412},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:709,ES:245,MX:88,AR:94,CO:329,CL:223,PE:362,BO:212,GT:90,CR:59},globalCountries:{Argentina:.058,"Bolivia, Plurinational State of":.029,Chile:.056,Colombia:.107,"Costa Rica":.027,Spain:.082,Guatemala:.029,Mexico:.475,Peru:.049,"United States":.088},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9940300,globalPopularityScore:10040300,searchPriority:0},{name:"Estrella",popularity:9940200,popularityRank:98,gender:{Male:.025,Female:.975},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:597,ES:154,MX:112,AR:295,CO:477,CL:237,PE:140,BO:191,GT:110,CR:129},globalCountries:{Argentina:.013,"Bolivia, Plurinational State of":.025,Chile:.065,Colombia:.076,"Costa Rica":.015,Spain:.202,Guatemala:.019,Mexico:.318,Peru:.14,"United States":.128},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9940200,globalPopularityScore:10040200,searchPriority:0},{name:"Anibal",popularity:9940100,popularityRank:99,gender:{Male:.993,Female:.007},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:599,ES:405,MX:582,AR:111,CO:244,CL:162,PE:172,GT:43,PA:45,UY:83},globalCountries:{Argentina:.059,Chile:.118,Colombia:.229,Spain:.053,Guatemala:.085,Mexico:.045,Panama:.051,Peru:.166,"United States":.148,Uruguay:.046},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:9940100,globalPopularityScore:10040100,searchPriority:0},{name:"Yessica",popularity:994e4,popularityRank:100,gender:{Male:.011,Female:.989},origin:"Unknown",meaning:"",type:"first",isPopular:!0,countries:{US:834,ES:451,MX:270,CO:187,CL:182,PE:159,BO:105,GT:155,PA:49,UY:94},globalCountries:{"Bolivia, Plurinational State of":.061,Chile:.114,Colombia:.279,Spain:.049,Guatemala:.018,Mexico:.163,Panama:.03,Peru:.15,"United States":.1,Uruguay:.036},primaryCountry:"US",appearances:10,globalFrequency:10,popularityScore:994e4,globalPopularityScore:1004e4,searchPriority:0}];let i=[...r];(new Date).toISOString();let a=null,o=!1;const s=async()=>{if(i.length>500)return console.log("\u2705 Database already loaded: ".concat(i.length," names")),i;if(a)return await a,i;if(o){for(;o;)await new Promise(e=>setTimeout(e,100));return i}return o=!0,console.log("\ud83d\udcca Loading names database from /data/popularNames_cache.json..."),console.log("\ud83d\udcca Starting with ".concat(i.length," fallback names for instant display")),a=fetch("".concat("/babyname2","/data/popularNames_cache.json")).then(e=>{if(console.log("\ud83d\udcca Fetch response status: ".concat(e.status)),!e.ok)throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText));return e.json()}).then(e=>{console.log("\ud83d\udcca Received data, checking structure..."),e&&e.names&&Array.isArray(e.names)?(i=e.names,console.log("\u2705 Successfully loaded ".concat(i.length," names from popularNames_cache.json!"))):Array.isArray(e)?(i=e,console.log("\u2705 Successfully loaded ".concat(i.length," names (direct array)!"))):(console.error("\u274c Invalid database structure:",Object.keys(e||{})),console.log("\u26a1 Keeping ".concat(i.length," fallback names"))),o=!1}).catch(e=>{console.error("\u274c Failed to load database:",e.message),console.log("\u26a1 Using ".concat(i.length," fallback names")),o=!1}),await a,i};s(),console.log("\ud83d\udcca Loading 10,000 curated baby names...");const l=new class{constructor(){this.allNames=[],this.loadedChunks=new Set,this.index=null,this.isLoadingCore=!1,this.isLoadingChunk={},this.allNames=[...r],console.log("\u26a1 ChunkedDatabaseService: ".concat(this.allNames.length," fallback names ready")),this.loadCore()}async loadIndex(){if(!this.index)try{console.log("\ud83d\udcc7 Loading database index...");const e=await fetch("".concat("/babyname2","/data/names-index.json"));if(!e.ok)throw new Error("HTTP ".concat(e.status));const t=await e.json();this.index=t,console.log("\u2705 Index loaded: ".concat(t.totalNames.toLocaleString()," total names in ").concat(Object.keys(t.chunks).length," chunks"))}catch(e){console.error("\u274c Failed to load index:",e),this.index=null}}async loadCore(){if(!this.isLoadingCore&&!this.loadedChunks.has("core")){this.isLoadingCore=!0;try{console.log("\u26a1 Loading core chunk (top 1000 names)..."),await this.loadIndex();const e=await fetch("".concat("/babyname2","/data/names-core.json"));if(!e.ok)throw new Error("HTTP ".concat(e.status));const t=(await e.json()).names||[];this.allNames=t,this.loadedChunks.add("core"),console.log("\u2705 Core chunk loaded: ".concat(t.length," names"))}catch(e){console.error("\u274c Failed to load core chunk:",e)}finally{this.isLoadingCore=!1}}}async loadChunk(e){if(!this.loadedChunks.has(e)&&!this.isLoadingChunk[e]){this.isLoadingChunk[e]=!0;try{if(console.log("\ud83d\udce6 Loading ".concat(e,"...")),this.index||await this.loadIndex(),!this.index)throw new Error("Index not available");const t=this.index.chunks[e];if(!t)throw new Error("Chunk ".concat(e," not found in index"));const n=await fetch("".concat("/babyname2","/data/").concat(t.file));if(!n.ok)throw new Error("HTTP ".concat(n.status));const r=(await n.json()).names||[],i=new Set(this.allNames.map(e=>e.name.toLowerCase())),a=r.filter(e=>!i.has(e.name.toLowerCase()));this.allNames=[...this.allNames,...a],this.loadedChunks.add(e),console.log("\u2705 ".concat(e," loaded: ").concat(r.length," names (total: ").concat(this.allNames.length,")"))}catch(t){console.error("\u274c Failed to load ".concat(e,":"),t)}finally{this.isLoadingChunk[e]=!1}}}async loadAllChunks(){if(this.index||await this.loadIndex(),!this.index)return void console.error("\u274c Cannot load chunks: index not available");const e=Object.keys(this.index.chunks).filter(e=>"core"!==e);for(const t of e)this.loadedChunks.has(t)||await this.loadChunk(t);console.log("\u2705 All chunks loaded! Total: ".concat(this.allNames.length," names"))}getAllNames(){return this.allNames}getTotalNamesCount(){var e;return(null===(e=this.index)||void 0===e?void 0:e.totalNames)||this.allNames.length}getStatus(){var e;return{loadedNames:this.allNames.length,totalNames:(null===(e=this.index)||void 0===e?void 0:e.totalNames)||this.allNames.length,loadedChunks:this.loadedChunks.size,totalChunks:this.index?Object.keys(this.index.chunks).length:1}}};const c=new class{constructor(){this.allNames=[],this.loading=!1,this.loaded=!1,this.cachedConversions=new Map,this.emergencyFallbackNames=r,this.allNames=l.getAllNames(),console.log("\u26a1 NameService initialized with ".concat(this.allNames.length," names from chunked service")),this.initializeDatabase(),this.loadAllChunksInBackground()}async initializeDatabase(){this.loading=!0;try{console.log("\ud83d\udcca Starting background database load...");const e=await s();e&&e.length>this.allNames.length?(this.allNames=e,console.log("\u2705 Database upgraded: ".concat(this.allNames.length," names now available"))):console.log("\u26a1 Keeping fallback: ".concat(this.allNames.length," names (fetch returned ").concat((null===e||void 0===e?void 0:e.length)||0,")")),this.loaded=!0}catch(e){console.error("\u274c Failed to load database, keeping emergency fallback:",e),this.loaded=!0}this.loading=!1}async loadAllChunksInBackground(){try{console.log("\ud83d\udd04 Starting progressive chunk loading in background..."),await l.loadAllChunks(),this.allNames=l.getAllNames(),console.log("\u2705 All chunks loaded! ".concat(this.allNames.length," names now available"))}catch(e){console.error("\u274c Error loading chunks:",e)}}async loadFullDatabase(){this.allNames.length>=2e5?console.log("\u2705 Database already loaded: ".concat(this.allNames.length," names")):(await this.initializeDatabase(),await this.loadAllChunksInBackground())}getDatabaseInfo(){return{mode:"Direct Database Load",totalNames:this.allNames.length}}async searchNames(e){if(!e)return[];const t=e.toLowerCase(),n=[],r=[],i=[];for(const a of this.allNames){const e=a.name.toLowerCase();e===t?n.push(a):e.startsWith(t)?r.push(a):e.includes(t)&&i.push(a)}return n.sort((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase())),r.sort((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase())),i.sort((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase())),[...n,...r,...i].slice(0,100)}getTotalNames(){return this.allNames.length}getAllNames(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25e4;const t=Math.min(e,this.allNames.length);return console.log("\ud83d\udcca Returning ".concat(t," names from database of ").concat(this.allNames.length," total names")),this.allNames.slice(0,t)}getPopularNames(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;const t=Math.min(e,this.allNames.length);return[...this.allNames].sort((e,t)=>(e.popularityRank||999999)-(t.popularityRank||999999)).slice(0,t)}getNamesByCountry(e){return this.allNames.filter(t=>t.primaryCountry===e)}getNamesByGender(e){return this.allNames.filter(t=>{if("object"===typeof t.gender){const n=t.gender.Male||0,r=t.gender.Female||0;return"unisex"===e?this.isUnisexName(t):"male"===e?n>r:r>n}return!1})}isUnisexName(e){if(void 0!==e.isUnisex)return e.isUnisex;if("object"===typeof e.gender&&e.gender){const t=e.gender.Male||0,n=t+(e.gender.Female||0);if(0===n)return!1;const r=t/n,i=.35;return r>=i&&r<=1-i}return!1}getUnisexScore(e){if(void 0!==e.unisexScore)return e.unisexScore;if("object"===typeof e.gender&&e.gender){const t=e.gender.Male||0,n=t+(e.gender.Female||0);if(0===n)return 0;const r=t/n;return 1-2*Math.abs(.5-r)}return 0}getOrigins(){const e=new Set(this.allNames.map(e=>e.origin||"unknown"));return Array.from(e)}getCountries(){const e=new Set;return this.allNames.forEach(t=>{t.primaryCountry&&e.add(t.primaryCountry)}),Array.from(e)}getGenderCounts(){let e=0,t=0,n=0;return this.allNames.forEach(r=>{if(this.isUnisexName(r))n++;else if("object"===typeof r.gender&&r.gender){const n=r.gender.Male||0,i=r.gender.Female||0;n>i?e++:i>n&&t++}}),{total:this.allNames.length,male:e,female:t,unisex:n}}getFilteredCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",n=this.allNames;return e&&(n=n.filter(t=>t.name.toLowerCase().includes(e.toLowerCase()))),"all"!==t&&(n=n.filter(e=>{if("unisex"===t)return this.isUnisexName(e);if("object"===typeof e.gender&&e.gender){const n=(e.gender.Male||0)>(e.gender.Female||0);return"male"===t?n:!n}return!1})),n.length}async getNameDetails(e){return this.allNames.find(t=>t.name.toLowerCase()===e.toLowerCase())}getPopularCount(){return this.allNames.filter(e=>e.isPopular).length}async loadMore(){console.log("\ud83d\udcca All ".concat(this.allNames.length," names already loaded"))}}},5337:(e,t,n)=>{n.d(t,{g:()=>a});var r=n(3499),i=n(7799);function a(e,t){const n=e.getValue("willChange");if(a=n,Boolean((0,i.S)(a)&&a.add))return n.add(t);if(!n&&r.W.WillChange){const n=new r.W.WillChange("auto");e.addValue("willChange",n),n.add(t)}var a}},5340:(e,t,n)=>{e.exports=n(9487)},5554:(e,t,n)=>{n.d(t,{Q:()=>r});const r={value:null,addProjectionMetrics:null}},5716:(e,t,n)=>{n.d(t,{I:()=>s});var r=n(3499);const i=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];var a=n(5554);const o=40;function s(e,t){let n=!1,s=!0;const l={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,u=i.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,o=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(t){s.has(t)&&(h.schedule(t),e()),c++,t(l)}const h={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),s.delete(e)},process:e=>{l=e,i?o=!0:(i=!0,[n,r]=[r,n],n.forEach(u),t&&a.Q.value&&a.Q.value.frameloop[t].push(c),c=0,n.clear(),i=!1,o&&(o=!1,h.process(e)))}};return h}(c,t?n:void 0),e),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:f,update:m,preRender:g,render:y,postRender:v}=u,b=()=>{const i=r.W.useManualTiming?l.timestamp:performance.now();n=!1,r.W.useManualTiming||(l.delta=s?1e3/60:Math.max(Math.min(i-l.timestamp,o),1)),l.timestamp=i,l.isProcessing=!0,h.process(l),d.process(l),p.process(l),f.process(l),m.process(l),g.process(l),y.process(l),v.process(l),l.isProcessing=!1,n&&t&&(s=!1,e(b))},w=i.reduce((t,r)=>{const i=u[r];return t[r]=function(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,s=!0,l.isProcessing||e(b)),i.schedule(t,r,a)},t},{});return{schedule:w,cancel:e=>{for(let t=0;t<i.length;t++)u[i[t]].cancel(e)},state:l,steps:u}}},5739:(e,t,n)=>{n.d(t,{P:()=>Ei});var r=n(9950),i=n(3766),a=n(4362),o=n(5294);function s(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}var l=n(6240);function c(e){return void 0===e||1===e}function u(e){let{scale:t,scaleX:n,scaleY:r}=e;return!c(t)||!c(n)||!c(r)}function h(e){return u(e)||d(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function d(e){return p(e.x)||p(e.y)}function p(e){return e&&"0%"!==e}function f(e,t,n){return n+t*(e-n)}function m(e,t,n,r,i){return void 0!==i&&(e=f(e,i,r)),f(e,n,r)+t}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=m(e.min,t,n,r,i),e.max=m(e.max,t,n,r,i)}function y(e,t){let{x:n,y:r}=t;g(e.x,n.translate,n.scale,n.originPoint),g(e.y,r.translate,r.scale,r.originPoint)}const v=.999999999999,b=1.0000000000001;function w(e,t){e.min=e.min+t,e.max=e.max+t}function S(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;g(e,t,n,(0,l.k)(e.min,e.max,i),r)}function x(e,t){S(e.x,t.x,t.scaleX,t.scale,t.originX),S(e.y,t.y,t.scaleY,t.scale,t.originY)}function E(e,t){return s(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var k=n(4907);var C=n(2167),A=n(1098);const T=e=>t=>t.test(e),P=[C.ai,A.px,A.KN,A.uj,A.vw,A.vh,{test:e=>"auto"===e,parse:e=>e}],I=e=>P.find(T(e));var _=n(24);const N=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),R=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function D(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,_.V)(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'),"max-css-var-depth");const[r,i]=function(e){const t=R.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const e=a.trim();return N(e)?parseFloat(e):e}return(0,o.p)(i)?D(i,t,n+1):i}var M=n(7293);const F=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function O(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||F(e))}var L=n(1617),U=n(2555),j=n(266);const V=new Set(["brightness","contrast","saturate","opacity"]);function B(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(j.S)||[];if(!r)return e;const i=n.replace(r,"");let a=V.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const z=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,G=(0,U.A)((0,U.A)({},L.f),{},{getAnimatableNone:e=>{const t=e.match(z);return t?t.map(B).join(" "):e}});var q=n(3548);const H=(0,U.A)((0,U.A)({},C.ai),{},{transform:Math.round}),K={rotate:A.uj,rotateX:A.uj,rotateY:A.uj,rotateZ:A.uj,scale:C.hs,scaleX:C.hs,scaleY:C.hs,scaleZ:C.hs,skew:A.uj,skewX:A.uj,skewY:A.uj,distance:A.px,translateX:A.px,translateY:A.px,translateZ:A.px,x:A.px,y:A.px,z:A.px,perspective:A.px,transformPerspective:A.px,opacity:C.X4,originX:A.gQ,originY:A.gQ,originZ:A.px},W=(0,U.A)((0,U.A)({borderWidth:A.px,borderTopWidth:A.px,borderRightWidth:A.px,borderBottomWidth:A.px,borderLeftWidth:A.px,borderRadius:A.px,radius:A.px,borderTopLeftRadius:A.px,borderTopRightRadius:A.px,borderBottomRightRadius:A.px,borderBottomLeftRadius:A.px,width:A.px,maxWidth:A.px,height:A.px,maxHeight:A.px,top:A.px,right:A.px,bottom:A.px,left:A.px,padding:A.px,paddingTop:A.px,paddingRight:A.px,paddingBottom:A.px,paddingLeft:A.px,margin:A.px,marginTop:A.px,marginRight:A.px,marginBottom:A.px,marginLeft:A.px,backgroundPositionX:A.px,backgroundPositionY:A.px},K),{},{zIndex:H,fillOpacity:C.X4,strokeOpacity:C.X4,numOctaves:H}),X=(0,U.A)((0,U.A)({},W),{},{color:q.y,backgroundColor:q.y,outlineColor:q.y,fill:q.y,stroke:q.y,borderColor:q.y,borderTopColor:q.y,borderRightColor:q.y,borderBottomColor:q.y,borderLeftColor:q.y,filter:G,WebkitFilter:G}),Y=e=>X[e];function Q(e,t){let n=Y(e);return n!==G&&(n=L.f),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const $=new Set(["auto","none","0"]);var J=n(8648);class Z extends M.h{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let n=e[l];if("string"===typeof n&&(n=n.trim(),(0,o.p)(n))){const r=D(n,t.current);void 0!==r&&(e[l]=r),l===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!k.$.has(n)||2!==e.length)return;const[r,i]=e,a=I(r),s=I(i);if(a!==s)if((0,J.E4)(a)&&(0,J.E4)(s))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else J.Hr[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||O(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!$.has(t)&&(0,L.V)(t).values.length&&(r=e[i]),i++}if(r&&n)for(const a of t)e[a]=Q(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=J.Hr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=J.Hr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}var ee=n(7799),te=n(3986),ne=n(7065),re=n(1047),ie=n(2830);const ae=[...P,q.y,L.f];var oe=n(5716);const{schedule:se,cancel:le}=(0,oe.I)(queueMicrotask,!1);var ce=n(6732);const ue={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},he={};for(const Ci in ue)he[Ci]={isEnabled:e=>ue[Ci].some(t=>!!e[t])};const de=()=>({x:{min:0,max:0},y:{min:0,max:0}});var pe=n(7584);const fe={current:null},me={current:!1};const ge=new WeakMap;function ye(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function ve(e){return"string"===typeof e||Array.isArray(e)}const be=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],we=["initial",...be];function Se(e){return ye(e.animate)||we.some(t=>ve(e[t]))}function xe(e){return Boolean(Se(e)||e.variants)}var Ee=n(5285);const ke=["willChange"],Ce=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ae{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=M.h,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=ne.k.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,re.Gt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget=(0,U.A)({},l),this.initialValues=n.initial?(0,U.A)({},l):{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=Se(n),this.isVariantNode=xe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const u=this.scrapeMotionValuesFromProps(n,{},this),{willChange:h}=u,d=(0,te.A)(u,ke);for(const p in d){const e=d[p];void 0!==l[p]&&(0,ee.S)(e)&&e.set(l[p])}}mount(e){var t;this.current=e,ge.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),me.current||function(){if(me.current=!0,pe.B)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>fe.current=e.matches;e.addEventListener("change",t),t()}else fe.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||fe.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),(0,re.WG)(this.notifyUpdate),(0,re.WG)(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=i.f.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&re.Gt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in he){const t=he[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Ce.length;n++){const t=Ce[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],a=n[r];if((0,ee.S)(i))e.addValue(r,i);else if((0,ee.S)(a))e.addValue(r,(0,ie.OQ)(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,(0,ie.OQ)(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=(0,ie.OQ)(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var i;return void 0!==r&&null!==r&&("string"===typeof r&&(N(r)||F(r))?r=parseFloat(r):(i=r,!ae.find(T(i))&&L.f.test(t)&&(r=Q(e,t))),this.setBaseTarget(e,(0,ee.S)(r)?r.get():r)),(0,ee.S)(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const i=(0,Ee.a)(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);i&&(n=i[e])}if(t&&void 0!==n)return n;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||(0,ee.S)(i)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new ce.v),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){se.render(this.render)}}class Te extends Ae{constructor(){super(...arguments),this.KeyframeResolver=Z}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;(0,ee.S)(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}const Pe=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Ie={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_e=i.U.length;function Ne(e,t,n){const{style:r,vars:a,transformOrigin:s}=e;let l=!1,c=!1;for(const u in t){const e=t[u];if(i.f.has(u))l=!0;else if((0,o.j)(u))a[u]=e;else{const t=Pe(e,W[u]);u.startsWith("origin")?(c=!0,s[u]=t):r[u]=t}}if(t.transform||(l||n?r.transform=function(e,t,n){let r="",a=!0;for(let o=0;o<_e;o++){const s=i.U[o],l=e[s];if(void 0===l)continue;let c=!0;if(c="number"===typeof l?l===(s.startsWith("scale")?1:0):0===parseFloat(l),!c||n){const e=Pe(l,W[s]);c||(a=!1,r+="".concat(Ie[s]||s,"(").concat(e,") ")),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function Re(e,t,n,r){let{style:i,vars:a}=t;const o=e.style;let s;for(s in i)o[s]=i[s];for(s in null===r||void 0===r||r.applyProjectionStyles(o,n),a)o.setProperty(s,a[s])}const De={};function Me(e,t){let{layout:n,layoutId:r}=t;return i.f.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!De[e]||"opacity"===e)}function Fe(e,t,n){const{style:r}=e,i={};for(const o in r){var a;((0,ee.S)(r[o])||t.style&&(0,ee.S)(t.style[o])||Me(o,e)||void 0!==(null===n||void 0===n||null===(a=n.getValue(o))||void 0===a?void 0:a.liveStyle))&&(i[o]=r[o])}return i}class Oe extends Te{constructor(){super(...arguments),this.type="html",this.renderInstance=Re}readValueFromInstance(e,t){var n,r;if(i.f.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?(0,a.zs)(t):(0,a.Ib)(e,t);{const n=(r=e,window.getComputedStyle(r)),i=((0,o.j)(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof i?i.trim():i}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return E(e,n)}build(e,t,n){Ne(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Fe(e,t,n)}}var Le=n(9246);const Ue={offset:"stroke-dashoffset",array:"stroke-dasharray"},je={offset:"strokeDashoffset",array:"strokeDasharray"};const Ve=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function Be(e,t,n,r,i){let{attrX:a,attrY:o,attrScale:s,pathLength:l,pathSpacing:c=1,pathOffset:u=0}=t;if(Ne(e,(0,te.A)(t,Ve),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:d}=e;var p,f;(h.transform&&(d.transform=h.transform,delete h.transform),d.transform||h.transformOrigin)&&(d.transformOrigin=null!==(p=h.transformOrigin)&&void 0!==p?p:"50% 50%",delete h.transformOrigin);d.transform&&(d.transformBox=null!==(f=null===i||void 0===i?void 0:i.transformBox)&&void 0!==f?f:"fill-box",delete h.transformBox);void 0!==a&&(h.x=a),void 0!==o&&(h.y=o),void 0!==s&&(h.scale=s),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=i?Ue:je;e[a.offset]=A.px.transform(-r);const o=A.px.transform(t),s=A.px.transform(n);e[a.array]="".concat(o," ").concat(s)}(h,l,c,u,!1)}const ze=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Ge=e=>"string"===typeof e&&"svg"===e.toLowerCase();function qe(e,t,n){const r=Fe(e,t,n);for(const a in e)if((0,ee.S)(e[a])||(0,ee.S)(t[a])){r[-1!==i.U.indexOf(a)?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a]=e[a]}return r}class He extends Te{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=de}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(i.f.has(t)){const e=Y(t);return e&&e.default||0}return t=ze.has(t)?t:(0,Le.I)(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return qe(e,t,n)}build(e,t,n){Be(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){Re(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(ze.has(i)?i:(0,Le.I)(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=Ge(e.tagName),super.mount(e)}}const Ke=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function We(e){return"string"===typeof e&&!e.includes("-")&&!!(Ke.indexOf(e)>-1||/[A-Z]/.test(e))}const Xe=(e,t)=>We(e)?new He(t):new Oe(t,{allowProjection:e!==r.Fragment});var Ye=n(4414),Qe=n(6017);const $e=(0,r.createContext)({strict:!1});var Je=n(2278);const Ze=(0,r.createContext)({});function et(e){const{initial:t,animate:n}=function(e,t){if(Se(e)){const{initial:t,animate:n}=e;return{initial:!1===t||ve(t)?t:void 0,animate:ve(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(Ze));return(0,r.useMemo)(()=>({initial:t,animate:n}),[tt(t),tt(n)])}function tt(e){return Array.isArray(e)?e.join(" "):e}const nt=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rt(e,t,n){for(const r in t)(0,ee.S)(t[r])||Me(r,n)||(e[r]=t[r])}function it(e,t){const n={};return rt(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,r.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Ne(e,t,n),Object.assign({},e.vars,e.style)},[t])}(e,t)),n}function at(e,t){const n={},r=it(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const ot=()=>(0,U.A)((0,U.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function st(e,t,n,i){const a=(0,r.useMemo)(()=>{const n=ot();return Be(n,t,Ge(i),e.transformTemplate,e.style),(0,U.A)((0,U.A)({},n.attrs),{},{style:(0,U.A)({},n.style)})},[t]);if(e.style){const t={};rt(t,e.style,e),a.style=(0,U.A)((0,U.A)({},t),a.style)}return a}const lt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ct(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||lt.has(e)}let ut=e=>!ct(e);try{"function"===typeof(ht=require("@emotion/is-prop-valid").default)&&(ut=e=>e.startsWith("on")?!ct(e):ht(e))}catch(ki){}var ht;function dt(e,t,n,i,a){let{latestValues:o}=i,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=(We(e)?st:at)(t,o,a,e),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(ut(i)||!0===n&&ct(i)||!t&&!ct(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(t,"string"===typeof e,s),u=e!==r.Fragment?(0,U.A)((0,U.A)((0,U.A)({},c),l),{},{ref:n}):{},{children:h}=t,d=(0,r.useMemo)(()=>(0,ee.S)(h)?h.get():h,[h]);return(0,r.createElement)(e,(0,U.A)((0,U.A)({},u),{},{children:d}))}var pt=n(3487),ft=n(9305);function mt(e){return(0,ee.S)(e)?e.get():e}const gt=["transitionEnd","transition"];function yt(e,t,n,r){const i={},a=r(e,{});for(const d in a)i[d]=mt(a[d]);let{initial:o,animate:s}=e;const l=Se(e),c=xe(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===s&&(s=t.animate));let u=!!n&&!1===n.initial;u=u||!1===o;const h=u?s:o;if(h&&"boolean"!==typeof h&&!ye(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const r=(0,Ee.a)(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=(0,te.A)(r,gt);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const vt=e=>(t,n)=>{const i=(0,r.useContext)(Ze),a=(0,r.useContext)(pt.t),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:a}=e;return{latestValues:yt(t,n,r,i),renderState:a()}}(e,t,i,a);return n?o():(0,ft.M)(o)},bt=vt({scrapeMotionValuesFromProps:Fe,createRenderState:nt}),wt=vt({scrapeMotionValuesFromProps:qe,createRenderState:ot});const St=Symbol.for("motionComponentSymbol");function xt(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Et(e,t,n){return(0,r.useCallback)(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):xt(n)&&(n.current=r))},[t])}var kt=n(9512);const Ct=(0,r.createContext)({});var At=n(7544);function Tt(e,t,n,i,a){var o,s,l,c;const{visualElement:u}=(0,r.useContext)(Ze),h=(0,r.useContext)($e),d=(0,r.useContext)(pt.t),p=(0,r.useContext)(Je.Q).reducedMotion,f=(0,r.useRef)(null);i=i||h.renderer,!f.current&&i&&(f.current=i(e,{visualState:t,parent:u,props:n,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:p}));const m=f.current,g=(0,r.useContext)(Ct);!m||m.projection||!a||"html"!==m.type&&"svg"!==m.type||function(e,t,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Pt(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:Boolean(o)||s&&xt(s),visualElement:e,animationType:"string"===typeof a?a:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(f.current,n,a,g);const y=(0,r.useRef)(!1);(0,r.useInsertionEffect)(()=>{m&&y.current&&m.update(n,d)});const v=n[kt.n],b=(0,r.useRef)(Boolean(v)&&!(null!==(o=(s=window).MotionHandoffIsComplete)&&void 0!==o&&o.call(s,v))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,v)));return(0,At.E)(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),b.current&&m.animationState&&m.animationState.animateChanges())}),(0,r.useEffect)(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,v)}),b.current=!1),m.enteringChildren=void 0)}),m}function Pt(e){if(e)return!1!==e.options.allowProjection?e.projection:Pt(e.parent)}function It(e){var t,n;let{forwardMotionProps:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;a&&function(e){for(const t in e)he[t]=(0,U.A)((0,U.A)({},he[t]),e[t])}(a);const s=We(e)?wt:bt;function l(t,n){let a;const l=(0,U.A)((0,U.A)((0,U.A)({},(0,r.useContext)(Je.Q)),t),{},{layoutId:_t(t)}),{isStatic:c}=l,u=et(t),h=s(t,c);if(!c&&pe.B){!function(){(0,r.useContext)($e).strict;0}();const t=function(e){const{drag:t,layout:n}=he;if(!t&&!n)return{};const r=(0,U.A)((0,U.A)({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);a=t.MeasureLayout,u.visualElement=Tt(e,h,l,o,t.ProjectionNode)}return(0,Ye.jsxs)(Ze.Provider,{value:u,children:[a&&u.visualElement?(0,Ye.jsx)(a,(0,U.A)({visualElement:u.visualElement},l)):null,dt(e,t,Et(h,u.visualElement,n),h,c,i)]})}l.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(t=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==t?t:"",")"));const c=(0,r.forwardRef)(l);return c[St]=e,c}function _t(e){let{layoutId:t}=e;const n=(0,r.useContext)(Qe.L).id;return n&&void 0!==t?n+"-"+t:t}function Nt(e,t){if("undefined"===typeof Proxy)return It;const n=new Map,r=(n,r)=>It(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,a)=>"create"===a?r:(n.has(a)||n.set(a,It(a,void 0,e,t)),n.get(a))})}var Rt=n(3935),Dt=n(7826),Mt=n(6640);function Ft(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Ot=we.length;function Lt(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Lt(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Ot;n++){const r=we[n],i=e.props[r];(ve(i)||!1===i)&&(t[r]=i)}return t}var Ut=n(3777);const jt=["transition","transitionEnd"],Vt=[...be].reverse(),Bt=be.length;function zt(e){let t=function(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return(0,Rt._)(e,n,r)}))}(e),n=Ht(),r=!0;const i=t=>(n,r)=>{var i;const a=(0,Ut.K)(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(a){const{transition:e,transitionEnd:t}=a,r=(0,te.A)(a,jt);n=(0,U.A)((0,U.A)((0,U.A)({},n),r),t)}return n};function a(a){const{props:o}=e,s=Lt(e.parent)||{},l=[],c=new Set;let u={},h=1/0;for(let t=0;t<Bt;t++){const d=Vt[t],p=n[d],f=void 0!==o[d]?o[d]:s[d],m=ve(f),g=d===a?p.isActive:null;!1===g&&(h=t);let y=f===s[d]&&f!==o[d]&&m;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys=(0,U.A)({},u),!p.isActive&&null===g||!f&&!p.prevProp||ye(f)||"boolean"===typeof f)continue;const v=Gt(p.prevProp,f);let b=v||d===a&&p.isActive&&!y&&m||t>h&&m,w=!1;const S=Array.isArray(f)?f:[f];let x=S.reduce(i(d),{});!1===g&&(x={});const{prevResolvedValues:E={}}=p,k=(0,U.A)((0,U.A)({},E),x),C=t=>{b=!0,c.has(t)&&(w=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=x[e],n=E[e];if(u.hasOwnProperty(e))continue;let r=!1;r=(0,Mt.p)(t)&&(0,Mt.p)(n)?!Ft(t,n):t!==n,r?void 0!==t&&null!==t?C(e):c.add(e):void 0!==t&&c.has(e)?C(e):p.protectedKeys[e]=!0}p.prevProp=f,p.prevResolvedValues=x,p.isActive&&(u=(0,U.A)((0,U.A)({},u),x)),r&&e.blockInitialAnimation&&(b=!1);const A=y&&v;b&&(!A||w)&&l.push(...S.map(t=>{const n={type:d};if("string"===typeof t&&r&&!A&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,i=(0,Ut.K)(r,t);if(r.enteringChildren&&i){const{delayChildren:t}=i.transition||{};n.delay=(0,Dt.L)(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!==typeof o.initial){const n=(0,Ut.K)(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),l.push({animation:t})}let d=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(d=!1),r=!1,d?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const o=a(t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Ht(),r=!0}}}function Gt(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Ft(t,e)}function qt(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ht(){return{animate:qt(!0),whileInView:qt(),whileHover:qt(),whileTap:qt(),whileDrag:qt(),whileFocus:qt(),exit:qt()}}class Kt{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Wt=0;const Xt={animation:{Feature:class extends Kt{constructor(e){super(e),e.animationState||(e.animationState=zt(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ye(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Kt{constructor(){super(...arguments),this.id=Wt++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};var Yt=n(9389);const Qt={x:!1,y:!1};function $t(){return Qt.x||Qt.y}var Jt=n(2709);function Zt(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const en=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function tn(e){return{point:{x:e.pageX,y:e.pageY}}}function nn(e,t,n,r){return Zt(e,t,(e=>t=>en(t)&&e(t,tn(t)))(n),r)}function rn(e){return e.max-e.min}function an(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=(0,l.k)(t.min,t.max,e.origin),e.scale=rn(n)/rn(t),e.translate=(0,l.k)(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function on(e,t,n,r){an(e.x,t.x,n.x,r?r.originX:void 0),an(e.y,t.y,n.y,r?r.originY:void 0)}function sn(e,t,n){e.min=n.min+t.min,e.max=e.min+rn(t)}function ln(e,t,n){e.min=t.min-n.min,e.max=e.min+rn(t)}function cn(e,t,n){ln(e.x,t.x,n.x),ln(e.y,t.y,n.y)}function un(e){return[e("x"),e("y")]}const hn=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null};var dn=n(5337),pn=n(8673),fn=n(6643);const mn=(e,t)=>Math.abs(e-t);class gn{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=bn(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=mn(e.x,t.x),r=mn(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=re.uv;this.history.push((0,U.A)((0,U.A)({},r),{},{timestamp:i}));const{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=yn(t,this.transformPagePoint),re.Gt.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=bn("pointercancel"===e.type?this.lastMoveEventInfo:yn(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!en(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;const o=yn(tn(e),this.transformPagePoint),{point:s}=o,{timestamp:l}=re.uv;this.history=[(0,U.A)((0,U.A)({},s),{},{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,bn(o,this.history)),this.removeListeners=(0,pn.F)(nn(this.contextWindow,"pointermove",this.handlePointerMove),nn(this.contextWindow,"pointerup",this.handlePointerUp),nn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),(0,re.WG)(this.updatePoint)}}function yn(e,t){return t?{point:t(e.point)}:e}function vn(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bn(e,t){let{point:n}=e;return{point:n,delta:vn(n,Sn(t)),offset:vn(n,wn(t)),velocity:xn(t,.1)}}function wn(e){return e[0]}function Sn(e){return e[e.length-1]}function xn(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Sn(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>(0,fn.f)(t)));)n--;if(!r)return{x:0,y:0};const a=(0,fn.X)(i.timestamp-r.timestamp);if(0===a)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}var En=n(9712),kn=n(2038);function Cn(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function An(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Tn=.35;function Pn(e,t,n){return{min:In(e,t),max:In(e,n)}}function In(e,t){return"number"===typeof e?e:e[t]||0}const _n=new WeakMap;class Nn{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new gn(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(tn(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=n)||"y"===a?Qt[a]?null:(Qt[a]=!0,()=>{Qt[a]=!1}):Qt.x||Qt.y?null:(Qt.x=Qt.y=!0,()=>{Qt.x=Qt.y=!1}),!this.openDragLock))return;var a;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),un(e=>{let t=this.getAxisMotionValue(e).get()||0;if(A.KN.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=rn(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&re.Gt.postRender(()=>i(e,t)),(0,dn.g)(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>un(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,distanceThreshold:n,contextWindow:hn(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&re.Gt.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Rn(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?(0,l.k)(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?(0,l.k)(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&xt(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:a}=t;return{x:Cn(e.x,r,a),y:Cn(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn;return!1===e?e=0:!0===e&&(e=Tn),{x:Pn(e,"left","right"),y:Pn(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&un(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!xt(e))return!1;const n=e.current;(0,_.V)(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=E(e,n),{scroll:i}=t;return i&&(w(r.x,i.offset.x),w(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:An(e.x,t.x),y:An(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=s(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},l=un(o=>{if(!Rn(o,t,this.currentDirection))return;let l=s&&s[o]||{};a&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h=(0,U.A)((0,U.A)({type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(o,h)});return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return(0,dn.g)(this.visualElement,e),n.start((0,Jt.f)(e,n,0,t,this.visualElement,!1))}stopAnimation(){un(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){un(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){un(t=>{const{drag:n}=this.getProps();if(!Rn(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:a}=r.layout.layoutBox[t];i.set(e[t]-(0,l.k)(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!xt(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};un(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=rn(e),i=rn(t);return i>r?n=(0,En.q)(t.min,t.max-r,e.min):r>i&&(n=(0,En.q)(e.min,e.max-i,t.min)),(0,kn.q)(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),un(t=>{if(!Rn(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set((0,l.k)(i,a,r[t]))})}addListeners(){if(!this.visualElement.current)return;_n.set(this.visualElement,this);const e=nn(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();xt(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),re.Gt.read(t);const i=Zt(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(un(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=Tn,dragMomentum:o=!0}=e;return(0,U.A)((0,U.A)({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o})}}function Rn(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Dn=e=>(t,n)=>{e&&re.Gt.postRender(()=>e(t,n))};var Mn=n(7168);const Fn={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function On(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ln={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!A.px.test(e))return e;e=parseFloat(e)}const n=On(e,t.target.x),r=On(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Un={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,a=L.f.parse(e);if(a.length>5)return i;const o=L.f.createTransformer(e),s="number"!==typeof a[0]?1:0,c=r.x.scale*n.x,u=r.y.scale*n.y;a[0+s]/=c,a[1+s]/=u;const h=(0,l.k)(c,u,.5);return"number"===typeof a[2+s]&&(a[2+s]/=h),"number"===typeof a[3+s]&&(a[3+s]/=h),o(a)}};let jn=!1;class Vn extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)De[t]=e[t],(0,o.j)(t)&&(De[t].isCSSVariable=!0)}(zn),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),jn&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions((0,U.A)((0,U.A)({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),Fn.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:a}=n;return a?(a.isPresent=i,jn=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||re.Gt.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),se.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;jn=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Bn(e){const[t,n]=(0,Mn.xQ)(),i=(0,r.useContext)(Qe.L);return(0,Ye.jsx)(Vn,(0,U.A)((0,U.A)({},e),{},{layoutGroup:i,switchLayoutGroup:(0,r.useContext)(Ct),isPresent:t,safeToRemove:n}))}const zn={borderRadius:(0,U.A)((0,U.A)({},Ln),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Ln,borderTopRightRadius:Ln,borderBottomLeftRadius:Ln,borderBottomRightRadius:Ln,boxShadow:Un};var Gn=n(5554),qn=n(911);function Hn(e){return(0,qn.G)(e)&&"ownerSVGElement"in e}var Kn=n(5259),Wn=n(1652);var Xn=n(5322),Yn=n(6544);const Qn=(e,t)=>e.depth-t.depth;class $n{constructor(){this.children=[],this.isDirty=!1}add(e){(0,Yn.Kq)(this.children,e),this.isDirty=!0}remove(e){(0,Yn.Ai)(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Qn),this.isDirty=!1,this.children.forEach(e)}}function Jn(e,t){const n=ne.k.now(),r=i=>{let{timestamp:a}=i;const o=a-n;o>=t&&((0,re.WG)(r),e(o-t))};return re.Gt.setup(r,!0),()=>(0,re.WG)(r)}var Zn=n(584);const er=["TopLeft","TopRight","BottomLeft","BottomRight"],tr=er.length,nr=e=>"string"===typeof e?parseFloat(e):e,rr=e=>"number"===typeof e||A.px.test(e);function ir(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const ar=sr(0,.5,Zn.yT),or=sr(.5,.95,Yt.l);function sr(e,t,n){return r=>r<e?0:r>t?1:n((0,En.q)(e,t,r))}function lr(e,t){e.min=t.min,e.max=t.max}function cr(e,t){lr(e.x,t.x),lr(e.y,t.y)}function ur(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function hr(e,t,n,r,i){return e=f(e-=t,1/n,r),void 0!==i&&(e=f(e,1/i,r)),e}function dr(e,t,n,r,i){let[a,o,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;A.KN.test(t)&&(t=parseFloat(t),t=(0,l.k)(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let s=(0,l.k)(a.min,a.max,r);e===a&&(s-=t),e.min=hr(e.min,t,n,s,i),e.max=hr(e.max,t,n,s,i)}(e,t[a],t[o],t[s],t.scale,r,i)}const pr=["x","scaleX","originX"],fr=["y","scaleY","originY"];function mr(e,t,n,r){dr(e.x,t,pr,n?n.x:void 0,r?r.x:void 0),dr(e.y,t,fr,n?n.y:void 0,r?r.y:void 0)}function gr(e){return 0===e.translate&&1===e.scale}function yr(e){return gr(e.x)&&gr(e.y)}function vr(e,t){return e.min===t.min&&e.max===t.max}function br(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function wr(e,t){return br(e.x,t.x)&&br(e.y,t.y)}function Sr(e){return rn(e.x)/rn(e.y)}function xr(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Er{constructor(){this.members=[]}add(e){(0,Yn.Kq)(this.members,e),e.scheduleRender()}remove(e){if((0,Yn.Ai)(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const kr={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Cr=["","X","Y","Z"];let Ar=0;function Tr(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Pr(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=(0,Xn.P)(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",re.Gt,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Pr(r)}function Ir(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Ar++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Gn.Q.value&&(kr.nodes=kr.calculatedTargetDeltas=kr.calculatedProjections=0),this.nodes.forEach(Rr),this.nodes.forEach(jr),this.nodes.forEach(Vr),this.nodes.forEach(Dr),Gn.Q.addProjectionMetrics&&Gn.Q.addProjectionMetrics(kr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new $n)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new ce.v),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=Hn(e)&&!(Hn(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:i,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const i=()=>this.root.updateBlockedByResize=!1;re.Gt.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=Jn(i,250),Fn.hasAnimatedSinceResize&&(Fn.hasAnimatedSinceResize=!1,this.nodes.forEach(Ur)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&a&&(r||i)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||a.getDefaultTransition()||Kr,{onLayoutAnimationStart:s,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!wr(this.targetLayout,i),u=!n&&r;if(this.options.layoutRoot||this.resumeFrom||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=(0,U.A)((0,U.A)({},(0,Kn.r)(o,"layout")),{},{onPlay:s,onComplete:l});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,u)}else n||Ur(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),(0,re.WG)(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Br),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Pr(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Fr);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Or);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Lr),this.nodes.forEach(_r),this.nodes.forEach(Nr)):this.nodes.forEach(Or),this.clearAllSnapshots();const e=ne.k.now();re.uv.delta=(0,kn.q)(0,1e3/60,e-re.uv.timestamp),re.uv.timestamp=e,re.uv.isProcessing=!0,re.PP.update.process(re.uv),re.PP.preRender.process(re.uv),re.PP.render.process(re.uv),re.uv.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,se.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Mr),this.sharedNodes.forEach(zr)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||rn(this.snapshot.measuredBox.x)||rn(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!yr(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||h(this.latestValues)||i)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Yr((r=n).x),Yr(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some($r))){const{scroll:e}=this.root;e&&(w(n.x,e.offset.x),w(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(cr(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:a}=t;t!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&cr(n,e),w(n.x,i.offset.x),w(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};cr(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&x(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),h(e.latestValues)&&x(n,e.latestValues)}return h(this.latestValues)&&x(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};cr(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!h(e.latestValues))continue;u(e.latestValues)&&e.updateSnapshot();const r=de();cr(r,e.measurePageBox()),mr(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return h(this.latestValues)&&mr(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=(0,U.A)((0,U.A)((0,U.A)({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==re.uv.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:a}=this.options;if(this.layout&&(i||a)){if(this.resolvedRelativeTargetAt=re.uv.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},cn(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,s,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,s=this.relativeTarget,l=this.relativeParent.target,sn(o.x,s.x,l.x),sn(o.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):cr(this.target,this.layout.layoutBox),y(this.target,this.targetDelta)):cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},cn(this.relativeTargetOrigin,this.target,e.target),cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Gn.Q.value&&kr.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!u(this.parent.latestValues)&&!d(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===re.uv.timestamp&&(r=!1),r)return;const{layout:i,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!a)return;cr(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let a,o;t.x=t.y=1;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;const{visualElement:i}=a.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&x(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,y(e,o)),r&&h(a.latestValues)&&x(e,a.latestValues))}t.x<b&&t.x>v&&(t.x=1),t.y<b&&t.y>v&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(ur(this.prevProjectionDelta.x,this.projectionDelta.x),ur(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),on(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===s&&xr(this.projectionDelta.x,this.prevProjectionDelta.x)&&xr(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Gn.Q.value&&kr.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=(0,U.A)({},this.latestValues),a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),u=!c||c.members.length<=1,h=Boolean(s&&!u&&!0===this.options.crossfade&&!this.path.some(Hr));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var c,p,f,m,g,y;Gr(a.x,e.x,n),Gr(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cn(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,m=this.relativeTargetOrigin,g=o,y=n,qr(f.x,m.x,g.x,y),qr(f.y,m.y,g.y,y),d&&(c=this.relativeTarget,p=d,vr(c.x,p.x)&&vr(c.y,p.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),cr(d,this.relativeTarget)),s&&(this.animationValues=i,function(e,t,n,r,i,a){var o,s;if(i)e.opacity=(0,l.k)(0,null!==(o=n.opacity)&&void 0!==o?o:1,ar(r)),e.opacityExit=(0,l.k)(null!==(s=t.opacity)&&void 0!==s?s:1,0,or(r));else if(a){var c,u;e.opacity=(0,l.k)(null!==(c=t.opacity)&&void 0!==c?c:1,null!==(u=n.opacity)&&void 0!==u?u:1,r)}for(let h=0;h<tr;h++){const i="border".concat(er[h],"Radius");let a=ir(t,i),o=ir(n,i);void 0===a&&void 0===o||(a||(a=0),o||(o=0),0===a||0===o||rr(a)===rr(o)?(e[i]=Math.max((0,l.k)(nr(a),nr(o),r),0),(A.KN.test(o)||A.KN.test(a))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=(0,l.k)(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,h,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&((0,re.WG)(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.Gt.update(()=>{Fn.hasAnimatedSinceResize=!0,Wn.q.layout++,this.motionValue||(this.motionValue=(0,ie.OQ)(0)),this.currentAnimation=function(e,t,n){const r=(0,ee.S)(e)?e:(0,ie.OQ)(e);return r.start((0,Jt.f)("",r,t,n)),r.animation}(this.motionValue,[0,1e3],(0,U.A)((0,U.A)({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{Wn.q.layout--},onComplete:()=>{Wn.q.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Qr(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=rn(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=rn(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}cr(t,n),x(t,i),on(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Er);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Tr("z",e,r,this.animationValues);for(let i=0;i<Cr.length;i++)Tr("rotate".concat(Cr[i]),e,r,this.animationValues),Tr("skew".concat(Cr[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=mt(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=mt(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!h(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let a=function(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(null===n||void 0===n?void 0:n.z)||0;if((i||a||o)&&(r="translate3d(".concat(i,"px, ").concat(a,"px, ").concat(o,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:o,skewY:s}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),a&&(r+="rotateY(".concat(a,"deg) ")),o&&(r+="skewX(".concat(o,"deg) ")),s&&(r+="skewY(".concat(s,"deg) "))}const s=e.x.scale*t.x,l=e.y.scale*t.y;return 1===s&&1===l||(r+="scale(".concat(s,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);n&&(a=n(i,a)),e.transform=a;const{x:o,y:s}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*o.origin,"% ").concat(100*s.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(l=null!==(c=i.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const u in De){if(void 0===i[u])continue;const{correct:t,applyTo:n,isCSSVariable:o}=De[u],s="none"===a?i[u]:t(i[u],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=s}else o?this.options.visualElement.renderState.vars[u]=s:e[u]=s}this.options.layoutId&&(e.pointerEvents=r===this?mt(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Fr),this.root.sharedNodes.clear()}}}function _r(e){e.updateLayout()}function Nr(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;"size"===i?un(e=>{const r=a?n.measuredBox[e]:n.layoutBox[e],i=rn(r);r.min=t[e].min,r.max=r.min+i}):Qr(i,n.layoutBox,t)&&un(r=>{const i=a?n.measuredBox[r]:n.layoutBox[r],o=rn(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};on(o,t,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?on(s,e.applyTransform(r,!0),n.measuredBox):on(s,t,n.layoutBox);const l=!yr(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:a}=r;if(i&&a){const o={x:{min:0,max:0},y:{min:0,max:0}};cn(o,n.layoutBox,i.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};cn(s,t,a.layoutBox),wr(o,s)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Rr(e){Gn.Q.value&&kr.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Dr(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Mr(e){e.clearSnapshot()}function Fr(e){e.clearMeasurements()}function Or(e){e.isLayoutDirty=!1}function Lr(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ur(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function jr(e){e.resolveTargetDelta()}function Vr(e){e.calcProjection()}function Br(e){e.resetSkewAndRotation()}function zr(e){e.removeLeadSnapshot()}function Gr(e,t,n){e.translate=(0,l.k)(t.translate,0,n),e.scale=(0,l.k)(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function qr(e,t,n,r){e.min=(0,l.k)(t.min,n.min,r),e.max=(0,l.k)(t.max,n.max,r)}function Hr(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Kr={duration:.45,ease:[.4,0,.1,1]},Wr=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Xr=Wr("applewebkit/")&&!Wr("chrome/")?Math.round:Yt.l;function Yr(e){e.min=Xr(e.min),e.max=Xr(e.max)}function Qr(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=Sr(t),i=Sr(n),a=.2,!(Math.abs(r-i)<=a));var r,i,a}function $r(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Jr=Ir({attachResizeListener:(e,t)=>Zt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zr={current:void 0},ei=Ir({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zr.current){const e=new Jr({});e.mount(window),e.setOptions({layoutScroll:!0}),Zr.current=e}return Zr.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),ti={pan:{Feature:class extends Kt{constructor(){super(...arguments),this.removePointerDownListener=Yt.l}onPointerDown(e){this.session=new gn(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hn(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Dn(e),onStart:Dn(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&re.Gt.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=nn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Kt{constructor(e){super(e),this.removeGroupControls=Yt.l,this.removeListeners=Yt.l,this.controls=new Nn(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yt.l}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:ei,MeasureLayout:Bn}};function ni(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let i=document;t&&(i=t.current);const a=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}(e),r=new AbortController;return[n,(0,U.A)((0,U.A)({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function ri(e){return!("touch"===e.pointerType||$t())}function ii(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&re.Gt.postRender(()=>i(t,tn(t)))}var ai=n(9699);const oi=(e,t)=>!!t&&(e===t||oi(e,t.parentElement)),si=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const li=new WeakSet;function ci(e){return t=>{"Enter"===t.key&&e(t)}}function ui(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function hi(e){return en(e)&&!$t()}function di(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,a]=ni(e,n),o=e=>{const r=e.currentTarget;if(!hi(e))return;li.add(r);const a=t(r,e),o=(e,t)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",l),li.has(r)&&li.delete(r),hi(e)&&"function"===typeof a&&a(e,{success:t})},s=e=>{o(e,r===window||r===document||n.useGlobalTarget||oi(r,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",s,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",o,i),(0,ai.s)(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=ci(()=>{if(li.has(n))return;ui(n,"down");const e=ci(()=>{ui(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>ui(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,i)),t=e,si.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}function pi(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&re.Gt.postRender(()=>i(t,tn(t)))}const fi=["root"],mi=new WeakMap,gi=new WeakMap,yi=e=>{const t=mi.get(e.target);t&&t(e)},vi=e=>{e.forEach(yi)};function bi(e,t,n){const r=function(e){let{root:t}=e,n=(0,te.A)(e,fi);const r=t||document;gi.has(r)||gi.set(r,{});const i=gi.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(vi,(0,U.A)({root:t},n))),i[a]}(t);return mi.set(e,n),r.observe(e),()=>{mi.delete(e),r.unobserve(e)}}const wi={some:0,all:1};const Si={inView:{Feature:class extends Kt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:wi[r]};return bi(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Kt{mount(){const{current:e}=this.node;e&&(this.unmount=di(e,(e,t)=>(pi(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return pi(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Kt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=(0,pn.F)(Zt(this.node.current,"focus",()=>this.onFocus()),Zt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Kt{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,a]=ni(e,n),o=e=>{if(!ri(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const a=e=>{ri(e)&&(r(e),n.removeEventListener("pointerleave",a))};n.addEventListener("pointerleave",a,i)};return r.forEach(e=>{e.addEventListener("pointerenter",o,i)}),a}(e,(e,t)=>(ii(this.node,t,"Start"),e=>ii(this.node,e,"End"))))}unmount(){}}}},xi={layout:{ProjectionNode:ei,MeasureLayout:Bn}},Ei=Nt((0,U.A)((0,U.A)((0,U.A)((0,U.A)({},Xt),Si),ti),xi),Xe)},5970:(e,t,n)=>{n.d(t,{B:()=>c});var r=n(2555),i=n(2038),a=n(2167),o=n(6935),s=n(3582);const l=(0,r.A)((0,r.A)({},a.ai),{},{transform:e=>Math.round((e=>(0,i.q)(0,255,e))(e))}),c={test:(0,s.$)("rgb","red"),parse:(0,s.q)("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+l.transform(t)+", "+l.transform(n)+", "+l.transform(r)+", "+(0,o.a)(a.X4.transform(i))+")"}}},5995:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(6230).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},6017:(e,t,n)=>{n.d(t,{L:()=>r});const r=(0,n(9950).createContext)({})},6078:(e,t,n)=>{n.d(t,{V:()=>s});var r=n(2167),i=n(1098),a=n(6935),o=n(3582);const s={test:(0,o.$)("hsl","hue"),parse:(0,o.q)("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:o,alpha:s=1}=e;return"hsla("+Math.round(t)+", "+i.KN.transform((0,a.a)(n))+", "+i.KN.transform((0,a.a)(o))+", "+(0,a.a)(r.X4.transform(s))+")"}}},6149:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(6230).A)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]])},6230:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(2555),i=n(3986),a=n(9950);const o=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],u=(0,a.forwardRef)((e,t)=>{let{color:n="currentColor",size:o=24,strokeWidth:u=2,absoluteStrokeWidth:h,className:d="",children:p,iconNode:f}=e,m=(0,i.A)(e,c);return(0,a.createElement)("svg",(0,r.A)((0,r.A)((0,r.A)({ref:t},l),{},{width:o,height:o,stroke:n,strokeWidth:h?24*Number(u)/Number(o):u,className:s("lucide",d)},!p&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"}),m),[...f.map(e=>{let[t,n]=e;return(0,a.createElement)(t,n)}),...Array.isArray(p)?p:[p]])}),h=["className"],d=(e,t)=>{const n=(0,a.forwardRef)((n,l)=>{let{className:c}=n,d=(0,i.A)(n,h);return(0,a.createElement)(u,(0,r.A)({ref:l,iconNode:t,className:s("lucide-".concat((p=o(e),p.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),c)},d));var p});return n.displayName=o(e),n}},6240:(e,t,n)=>{n.d(t,{k:()=>r});const r=(e,t,n)=>e+(t-e)*n},6429:(e,t,n)=>{n.d(t,{N:()=>S});var r=n(4414),i=n(9950),a=n(6017),o=n(9305),s=n(7544),l=n(2555),c=n(3487),u=n(9699),h=n(2278);function d(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=d(t,e);return n||"function"!==typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"===typeof n?n():d(t[e],null)}}}}(...t),t)}class f extends i.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=(0,u.s)(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m(e){let{children:t,isPresent:n,anchorX:a,root:o}=e;const s=(0,i.useId)(),l=(0,i.useRef)(null),c=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=(0,i.useContext)(h.Q),d=p(l,null===t||void 0===t?void 0:t.ref);return(0,i.useInsertionEffect)(()=>{const{width:e,height:t,top:r,left:i,right:h}=c.current;if(n||!l.current||!e||!t)return;const d="left"===a?"left: ".concat(i):"right: ".concat(h);l.current.dataset.motionPopId=s;const p=document.createElement("style");u&&(p.nonce=u);const f=null!==o&&void 0!==o?o:document.head;return f.appendChild(p),p.sheet&&p.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(d,"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{f.contains(p)&&f.removeChild(p)}},[n]),(0,r.jsx)(f,{isPresent:n,childRef:l,sizeRef:c,children:i.cloneElement(t,{ref:d})})}const g=e=>{let{children:t,initial:n,isPresent:a,onExitComplete:s,custom:u,presenceAffectsLayout:h,mode:d,anchorX:p,root:f}=e;const g=(0,o.M)(y),v=(0,i.useId)();let b=!0,w=(0,i.useMemo)(()=>(b=!1,{id:v,initial:n,isPresent:a,custom:u,onExitComplete:e=>{g.set(e,!0);for(const t of g.values())if(!t)return;s&&s()},register:e=>(g.set(e,!1),()=>g.delete(e))}),[a,g,s]);return h&&b&&(w=(0,l.A)({},w)),(0,i.useMemo)(()=>{g.forEach((e,t)=>g.set(t,!1))},[a]),i.useEffect(()=>{!a&&!g.size&&s&&s()},[a]),"popLayout"===d&&(t=(0,r.jsx)(m,{isPresent:a,anchorX:p,root:f,children:t})),(0,r.jsx)(c.t.Provider,{value:w,children:t})};function y(){return new Map}var v=n(7168);const b=e=>e.key||"";function w(e){const t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}const S=e=>{let{children:t,custom:n,initial:l=!0,onExitComplete:c,presenceAffectsLayout:u=!0,mode:h="sync",propagate:d=!1,anchorX:p="left",root:f}=e;const[m,y]=(0,v.xQ)(d),S=(0,i.useMemo)(()=>w(t),[t]),x=d&&!m?[]:S.map(b),E=(0,i.useRef)(!0),k=(0,i.useRef)(S),C=(0,o.M)(()=>new Map),[A,T]=(0,i.useState)(S),[P,I]=(0,i.useState)(S);(0,s.E)(()=>{E.current=!1,k.current=S;for(let e=0;e<P.length;e++){const t=b(P[e]);x.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[P,x.length,x.join("-")]);const _=[];if(S!==A){let e=[...S];for(let t=0;t<P.length;t++){const n=P[t],r=b(n);x.includes(r)||(e.splice(t,0,n),_.push(n))}return"wait"===h&&_.length&&(e=_),I(w(e)),T(S),null}const{forceRender:N}=(0,i.useContext)(a.L);return(0,r.jsx)(r.Fragment,{children:P.map(e=>{const t=b(e),i=!(d&&!m)&&(S===P||x.includes(t));return(0,r.jsx)(g,{isPresent:i,initial:!(E.current&&!l)&&void 0,custom:n,presenceAffectsLayout:u,mode:h,root:f,onExitComplete:i?void 0:()=>{if(!C.has(t))return;C.set(t,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(null===N||void 0===N||N(),I(k.current),d&&(null===y||void 0===y||y()),c&&c())},anchorX:p,children:e},t)})})}},6450:(e,t,n)=>{n.d(t,{O:()=>A,A:()=>k});var r=n(9950),i=n(2555),a=n(3986);const o=["flow","scope","onSuccess","onError","onNonOAuthError","overrideScope","state"];const s=(0,r.createContext)(null);function l(e){let{clientId:t,nonce:n,onScriptLoadSuccess:i,onScriptLoadError:a,children:o}=e;const l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:i}=e,[a,o]=(0,r.useState)(!1),s=(0,r.useRef)(n);s.current=n;const l=(0,r.useRef)(i);return l.current=i,(0,r.useEffect)(()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=t,e.onload=()=>{var e;o(!0),null===(e=s.current)||void 0===e||e.call(s)},e.onerror=()=>{var e;o(!1),null===(e=l.current)||void 0===e||e.call(l)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[t]),a}({nonce:n,onScriptLoadSuccess:i,onScriptLoadError:a}),c=(0,r.useMemo)(()=>({clientId:t,scriptLoadedSuccessfully:l}),[t,l]);return r.createElement(s.Provider,{value:c},o)}function c(){const e=(0,r.useContext)(s);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}var u=n(2644),h=n(1136),d=n(1318),p=n(1088),f=n(6429),m=n(5739),g=n(7304),y=n(1195),v=n(5995);const b=(0,n(6230).A)("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);var w=n(4414);const S=e=>{let{isVisible:t,favoritesCount:n}=e;return(0,w.jsx)(f.N,{children:t&&(0,w.jsxs)(m.P.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[(0,w.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((e,t)=>(0,w.jsx)(m.P.div,{className:"absolute",initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,scale:0,rotate:0},animate:{y:[null,Math.random()*window.innerHeight],scale:[0,1,0],rotate:[0,360]},transition:{duration:3+2*Math.random(),repeat:1/0,delay:2*Math.random()},children:(0,w.jsx)(g.A,{className:"w-4 h-4 text-white/30"})},t))}),(0,w.jsxs)("div",{className:"relative z-10 text-center px-6",children:[(0,w.jsx)(m.P.div,{className:"mb-8 flex justify-center",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.1},children:(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)(m.P.div,{className:"absolute inset-0 bg-white/20 rounded-full blur-2xl",animate:{scale:[1,1.3,1],opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0}}),(0,w.jsx)(y.A,{className:"w-24 h-24 text-white relative z-10"})]})}),(0,w.jsx)(m.P.h2,{className:"text-4xl sm:text-5xl font-bold text-white mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:"Saving Your"}),(0,w.jsxs)(m.P.div,{className:"flex items-center justify-center gap-3 mb-6",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:300,damping:20,delay:.5},children:[(0,w.jsx)(m.P.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},children:(0,w.jsx)(v.A,{className:"w-12 h-12 text-red-300 fill-red-300"})}),(0,w.jsx)("span",{className:"text-6xl font-bold text-white",children:n})]}),(0,w.jsx)(m.P.h3,{className:"text-3xl sm:text-4xl font-bold text-white mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:"Favorite Names"}),(0,w.jsxs)(m.P.div,{className:"flex justify-center items-center gap-2 text-white/90",initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},children:[(0,w.jsx)(m.P.div,{animate:{y:[0,-10,0]},transition:{duration:1.5,repeat:1/0},children:(0,w.jsx)(b,{className:"w-6 h-6"})}),(0,w.jsx)("span",{className:"text-lg font-medium",children:"Syncing to cloud..."})]}),(0,w.jsx)("div",{className:"flex justify-center gap-2 mt-4",children:[0,1,2].map(e=>(0,w.jsx)(m.P.div,{className:"w-3 h-3 bg-white rounded-full",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,delay:.2*e}},e))}),(0,w.jsx)(m.P.p,{className:"text-white/80 text-lg mt-8 font-light",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.1},children:"See you next time! \ud83d\udc4b"})]}),(0,w.jsx)(m.P.div,{className:"absolute inset-0 border-4 border-white/20 pointer-events-none",animate:{opacity:[.2,.5,.2]},transition:{duration:2,repeat:1/0}})]})})},x=(0,r.createContext)(void 0),E="1093132372253-a725n8gpe624usli0hnj3re1eicgi4o2.apps.googleusercontent.com",k=()=>{const e=(0,r.useContext)(x);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},C=e=>{let{children:t}=e;const[n,s]=(0,r.useState)(null),[l,f]=(0,r.useState)(!0),[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(null),[b,E]=(0,r.useState)(!1),k=(0,p.d)(),C=(0,r.useCallback)(e=>(console.log("[AUTH DEBUG] Validating user data:",JSON.stringify(e,null,2)),e&&"object"===typeof e?e.id&&"string"===typeof e.id&&""!==e.id.trim()?e.email&&"string"===typeof e.email&&""!==e.email.trim()?e.name&&"string"===typeof e.name&&""!==e.name.trim()?(console.log("[AUTH DEBUG] Validation PASSED - ID format:",e.id.length,"chars"),!0):(console.log("[AUTH DEBUG] Invalid: name missing or empty:",e.name),!1):(console.log("[AUTH DEBUG] Invalid: email missing or empty:",e.email),!1):(console.log("[AUTH DEBUG] Invalid: id missing or empty:",e.id),!1):(console.log("[AUTH DEBUG] Invalid: not an object"),!1)),[]),A=(0,r.useCallback)(()=>{console.log("[AUTH DEBUG] Clearing cache..."),s(null),h.A.disconnect(),d.A.setUserContext(null),localStorage.removeItem("user"),localStorage.removeItem("userEmail"),localStorage.removeItem("google_access_token"),v(null),setTimeout(()=>{console.log("[AUTH DEBUG] Reloading page..."),window.location.reload()},500)},[]);(0,r.useEffect)(()=>{console.log("[AUTH DEBUG] AuthContext useEffect running...");const e=localStorage.getItem("user");if(console.log("[AUTH DEBUG] localStorage user:",e),e)try{const t=JSON.parse(e);if(!C(t))return console.warn("[AUTH DEBUG] Invalid user data in localStorage, clearing..."),localStorage.removeItem("user"),localStorage.removeItem("userEmail"),localStorage.removeItem("google_access_token"),k.error("Session expired or invalid. Please sign in again.",8e3,"Clear & Reload",A),void f(!1);console.log("[AUTH DEBUG] Setting user:",t.email),s(t),console.log("[AUTH DEBUG] Setting userDataService userId:",t.id),h.A.setUserId(t.id),console.log("[AUTH DEBUG] Setting favoritesService context:",t.id),d.A.setUserContext(t.id),console.log("[AUTH DEBUG] userDataService.userId after set:",h.A.userId),console.log("[AUTH DEBUG] Calling loadUserData..."),T(t.id).catch(e=>{console.error("[AUTH DEBUG] Failed to load user data on init:",e),k.error("Failed to sync favorites. Click the cloud icon to retry.",6e3)})}catch(t){console.error("[AUTH DEBUG] Error parsing stored user data:",t),localStorage.removeItem("user"),localStorage.removeItem("userEmail"),localStorage.removeItem("google_access_token"),k.error("Session data corrupted. Clearing...",8e3,"Reload Now",A)}else console.log("[AUTH DEBUG] No stored user found");f(!1)},[C,A]),(0,r.useEffect)(()=>h.A.onSyncStatusChange(e=>{g(e.isSyncing),v(e.error)}),[]);const T=async e=>{console.log("AuthContext: Loading user data for userId:",e);try{g(!0),v(null);const e=await h.A.loadFromCloud();if(e){const t=d.A.getFavorites(),n=d.A.getDislikes(),r=h.A.mergePreferences({favorites:t,dislikes:n},e);d.A.setFavorites(r.favorites),d.A.setDislikes(r.dislikes),await h.A.saveToCloud(r.favorites,r.dislikes),k.success("Favorites synced successfully!")}else k.info("No previous favorites found in cloud")}catch(t){console.error("Error loading user data:",t);const n=t.message;v(n),n.includes("No user logged in")?k.error("Session expired. Please sign in again.",8e3,"Clear Cache",A):n.includes("permission-denied")||n.includes("auth/")?k.error("Authentication error. Try clearing cache and signing in again.",8e3,"Clear Cache",A):k.error("Failed to sync favorites: ".concat(n),6e3,"Retry",()=>T(e))}finally{g(!1)}},P=function(e){let{flow:t="implicit",scope:n="",onSuccess:s,onError:l,onNonOAuthError:u,overrideScope:h,state:d}=e,p=(0,a.A)(e,o);const{clientId:f,scriptLoadedSuccessfully:m}=c(),g=(0,r.useRef)(),y=(0,r.useRef)(s);y.current=s;const v=(0,r.useRef)(l);v.current=l;const b=(0,r.useRef)(u);b.current=u,(0,r.useEffect)(()=>{var e,r;if(!m)return;const a="implicit"===t?"initTokenClient":"initCodeClient",o=null===(r=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===r?void 0:r.oauth2[a]((0,i.A)({client_id:f,scope:h?n:"openid profile email ".concat(n),callback:e=>{var t,n;if(e.error)return null===(t=v.current)||void 0===t?void 0:t.call(v,e);null===(n=y.current)||void 0===n||n.call(y,e)},error_callback:e=>{var t;null===(t=b.current)||void 0===t||t.call(b,e)},state:d},p));g.current=o},[f,m,t,n,d]);const w=(0,r.useCallback)(e=>{var t;return null===(t=g.current)||void 0===t?void 0:t.requestAccessToken(e)},[]),S=(0,r.useCallback)(()=>{var e;return null===(e=g.current)||void 0===e?void 0:e.requestCode()},[]);return"implicit"===t?w:S}({onSuccess:async e=>{try{console.log("[AUTH DEBUG] Google OAuth successful, access_token received");const t=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:"Bearer ".concat(e.access_token)}}),n=await t.json();console.log("[AUTH DEBUG] Google user info:",n.email),console.log("[AUTH DEBUG] Signing into Firebase Auth...");const r=u.HF.credential(null,e.access_token),i=(0,u.xI)(),a=await(0,u.eN)(i,r);console.log("[AUTH DEBUG] Firebase Auth successful, UID:",a.user.uid);const o={id:a.user.uid,email:n.email,name:n.name,picture:n.picture};console.log("[AUTH DEBUG] Setting user with Firebase UID:",o.id),s(o),localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("userEmail",o.email),localStorage.setItem("google_access_token",e.access_token),console.log("[AUTH DEBUG] Setting userDataService userId:",o.id),h.A.setUserId(o.id),d.A.setUserContext(o.id),console.log("[AUTH DEBUG] Loading user data from Firestore..."),await T(o.id),k.success("Welcome back, ".concat(o.name.split(" ")[0],"!"))}catch(t){console.error("[AUTH DEBUG] Login failed:",t),k.error("Login failed: ".concat(t.message||"Please try again"))}},onError:e=>{console.error("[AUTH DEBUG] Google OAuth failed:",e),k.error("Login failed. Please try again.")},flow:"implicit"});return(0,w.jsxs)(x.Provider,{value:{user:n,isAuthenticated:!!n,login:P,logout:async()=>{try{E(!0),n&&(await d.A.flushPendingSync(),console.log("[AUTH DEBUG] All favorites flushed to cloud")),await new Promise(e=>setTimeout(e,1e3));const e=(0,u.xI)();await e.signOut(),console.log("[AUTH DEBUG] Signed out of Firebase Auth"),s(null),h.A.disconnect(),d.A.setUserContext(null),localStorage.removeItem("user"),localStorage.removeItem("userEmail"),localStorage.removeItem("google_access_token"),E(!1),k.success("Favorites saved. See you next time!")}catch(e){console.error("[AUTH DEBUG] Error during logout:",e),E(!1),k.warning("Logged out, but some favorites may not have synced."),s(null),h.A.disconnect(),d.A.setUserContext(null),localStorage.removeItem("user"),localStorage.removeItem("userEmail"),localStorage.removeItem("google_access_token")}},loading:l,isSyncing:m,syncError:y,manualSync:async()=>{n?(k.info("Syncing favorites..."),await T(n.id)):k.warning("Please log in to sync your favorites")},clearCache:A},children:[t,(0,w.jsx)(S,{isVisible:b,favoritesCount:d.A.getFavoritesCount()})]})},A=e=>{let{children:t}=e;return E&&"YOUR_GOOGLE_CLIENT_ID_HERE"!==E&&E.includes(".apps.googleusercontent.com")?(0,w.jsx)(l,{clientId:E,children:(0,w.jsx)(C,{children:t})}):(console.log("Google OAuth not configured. Running in guest mode."),(0,w.jsx)(x.Provider,{value:{user:null,isAuthenticated:!1,login:()=>console.log("Google Client ID not configured"),logout:()=>{},loading:!1,isSyncing:!1,syncError:null,manualSync:async()=>{},clearCache:()=>{}},children:t}))}},6479:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(6230).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6544:(e,t,n)=>{function r(e,t){-1===e.indexOf(t)&&e.push(t)}function i(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}n.d(t,{Ai:()=>i,Kq:()=>r})},6640:(e,t,n)=>{n.d(t,{p:()=>r});const r=e=>Array.isArray(e)},6643:(e,t,n)=>{n.d(t,{X:()=>i,f:()=>r});const r=e=>1e3*e,i=e=>e/1e3},6732:(e,t,n)=>{n.d(t,{v:()=>i});var r=n(6544);class i{constructor(){this.subscriptions=[]}add(e){return(0,r.Kq)(this.subscriptions,e),()=>(0,r.Ai)(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}},6794:(e,t,n)=>{n.d(t,{U:()=>h});var r=n(2555),i=n(3986),a=n(2830),o=n(6640),s=n(3777);const l=["transitionEnd","transition"];function c(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,(0,a.OQ)(n))}function u(e){return(0,o.p)(e)?e[e.length-1]||0:e}function h(e,t){let n=(0,s.K)(e,t)||{},{transitionEnd:a={},transition:o={}}=n,h=(0,i.A)(n,l);h=(0,r.A)((0,r.A)({},h),a);for(const r in h){c(e,r,u(h[r]))}}},6863:(e,t,n)=>{n.d(t,{h1:()=>s,uA:()=>i});var r=n(498);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const a="[DEFAULT]";class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===a?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.component?this.component.multipleInstances?e:a:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},6935:(e,t,n)=>{n.d(t,{a:()=>r});const r=e=>Math.round(1e5*e)/1e5},7065:(e,t,n)=>{n.d(t,{k:()=>s});var r=n(3499),i=n(1047);let a;function o(){a=void 0}const s={now:()=>(void 0===a&&s.set(i.uv.isProcessing||r.W.useManualTiming?i.uv.timestamp:performance.now()),a),set:e=>{a=e,queueMicrotask(o)}}},7119:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(1863)},7168:(e,t,n)=>{n.d(t,{xQ:()=>a});var r=n(9950),i=n(3487);function a(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,r.useContext)(i.t);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:a,register:o}=t,s=(0,r.useId)();(0,r.useEffect)(()=>{if(e)return o(s)},[e]);const l=(0,r.useCallback)(()=>e&&a&&a(s),[s,a,e]);return!n&&a?[!1,l]:[!0]}},7293:(e,t,n)=>{n.d(t,{h:()=>d,q:()=>h});var r=n(8648),i=n(1047);const a=new Set;let o=!1,s=!1,l=!1;function c(){if(s){const e=Array.from(a).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=(0,r.W9)(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[r,i]=t;null===(n=e.getValue(r))||void 0===n||n.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}s=!1,o=!1,a.forEach(e=>e.complete(l)),a.clear()}function u(){a.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(s=!0)})}function h(){l=!0,u(),c(),l=!1}class d{constructor(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(a.add(this),o||(o=!0,i.Gt.read(u),i.Gt.resolveKeyframes(c))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const i=null===r||void 0===r?void 0:r.get(),a=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,a);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=a),r&&void 0===i&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),a.delete(this)}cancel(){"scheduled"===this.state&&(a.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}},7304:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(6230).A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},7544:(e,t,n)=>{n.d(t,{E:()=>i});var r=n(9950);const i=n(7584).B?r.useLayoutEffect:r.useEffect},7583:(e,t,n)=>{n.d(t,{u:()=>i});var r=n(5970);const i={test:(0,n(3582).$)("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:r.B.transform}},7584:(e,t,n)=>{n.d(t,{B:()=>r});const r="undefined"!==typeof window},7799:(e,t,n)=>{n.d(t,{S:()=>r});const r=e=>Boolean(e&&e.getVelocity)},7826:(e,t,n)=>{function r(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),o=e.size,s=(o-1)*r;return"function"===typeof n?n(a,o):1===i?a*r:s-a*r}n.d(t,{L:()=>r})},7843:(e,t,n)=>{function r(e,t){return t?e*(1e3/t):0}n.d(t,{f:()=>r})},8215:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(6230).A)("dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]])},8341:(e,t,n)=>{n.d(t,{A:()=>g});var r=n(9950),i=n(1567),a=n(1066),o=n(5739),s=n(6479),l=n(903),c=n(7304);const u=(0,n(6230).A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var h=n(9126),d=n(5995),p=n(4128),f=n(1318),m=n(4414);const g=e=>{let{name:t,names:n,currentIndex:g,onClose:y,onFavoriteToggle:v,onDislikeToggle:b,onNavigate:w}=e;const[S,x]=(0,r.useState)({}),[E,k]=(0,r.useState)(!1),[C,A]=(0,r.useState)(!1),[T,P]=(0,r.useState)(null),I=(0,i.d)(0),_=(0,a.G)(I,[-200,0,200],[-10,0,10]),N=(0,a.G)(I,[-200,-150,0,150,200],[.5,1,1,1,.5]),R=(0,a.G)(I,[0,150],[0,1]),D=(0,a.G)(I,[-150,0],[1,0]),M=(0,a.G)(I,[0,150],[.8,1.3]),F=(0,a.G)(I,[-150,0],[1.3,.8]),O=!!n&&void 0!==g&&!!w;if((0,r.useEffect)(()=>{if(t){const e=p.A.getNameData(t.name);e&&x(e),k(f.A.isFavorite(t.name)),A(f.A.isDisliked(t.name))}P(null),I.set(0)},[t,I]),!t)return null;const L="object"===typeof t.gender?t.gender:null,U=((null===L||void 0===L?void 0:L.Male)||0)>((null===L||void 0===L?void 0:L.Female)||0),j=U?"from-blue-500 to-blue-700":"from-pink-500 to-pink-700",V=U?"bg-blue-50":"bg-pink-50",B=()=>{f.A.addFavorite(t.name),k(f.A.isFavorite(t.name)),A(f.A.isDisliked(t.name)),null===v||void 0===v||v(),O&&(P("right"),setTimeout(()=>{const e=(g+1)%n.length;w(e)},200))},z=()=>{f.A.toggleDislike(t.name),k(f.A.isFavorite(t.name)),A(f.A.isDisliked(t.name)),null===b||void 0===b||b(),O&&(P("left"),setTimeout(()=>{const e=(g+1)%n.length;w(e)},200))},G=()=>(0,m.jsxs)("div",{className:"w-full h-screen ".concat(V," shadow-2xl flex flex-col overflow-hidden"),onClick:e=>e.stopPropagation(),children:[(0,m.jsx)("button",{onClick:y,className:"absolute top-2 right-2 sm:top-4 sm:right-4 p-1.5 sm:p-2 rounded-full bg-white shadow-md hover:bg-gray-100 z-10",children:(0,m.jsx)(s.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"})}),(0,m.jsxs)("div",{className:"relative h-32 sm:h-44 bg-gradient-to-br ".concat(j," overflow-hidden"),children:[(0,m.jsx)("div",{className:"absolute inset-0 bg-black opacity-20"}),(0,m.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:(0,m.jsx)("h2",{className:"text-5xl sm:text-8xl font-bold text-white drop-shadow-lg",children:t.name})}),(0,m.jsx)("div",{className:"absolute top-2 left-2 sm:top-4 sm:left-4",children:(0,m.jsxs)("span",{className:"px-2 py-0.5 sm:px-3 sm:py-1 bg-white bg-opacity-20 backdrop-blur-sm rounded-full text-white text-xs sm:text-sm font-medium",children:["Rank #",t.popularityRank]})})]}),(0,m.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,m.jsxs)("div",{className:"p-4 sm:p-8 h-full flex flex-col",children:[(0,m.jsxs)("div",{className:"mb-4 h-[140px] sm:h-[160px] p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-200 overflow-y-auto",children:[(0,m.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,m.jsx)(l.A,{className:"w-5 h-5 text-purple-600"}),(0,m.jsx)("h3",{className:"text-lg font-semibold text-purple-800",children:"Meaning"}),(t.meaningProcessed||S.enriched)&&(0,m.jsx)(c.A,{className:"w-4 h-4 text-green-600"})]}),t.meaningFull||t.meaning||S.meaning?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("p",{className:"text-lg italic text-gray-700",children:['"',t.meaningFull||S.meaning||t.meaning,'"']}),t.meanings&&t.meanings.length>1&&(0,m.jsxs)("div",{className:"mt-3 space-y-1",children:[(0,m.jsx)("p",{className:"text-sm font-medium text-purple-700",children:"Alternative meanings:"}),t.meanings.slice(1).map((e,t)=>(0,m.jsxs)("p",{className:"text-sm text-gray-600 pl-3 border-l-2 border-purple-200",children:["\u2022 ",e]},t))]}),S.culturalContext&&(0,m.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:S.culturalContext})]}):(0,m.jsx)("p",{className:"text-gray-400 italic",children:"No meaning available yet"})]}),(0,m.jsx)("div",{className:"mb-4 h-[120px] p-4 bg-white rounded-xl border border-gray-200",children:(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-4 h-full",children:[(0,m.jsxs)("div",{className:"text-center flex flex-col justify-center",children:[(0,m.jsx)(u,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),(0,m.jsxs)("div",{className:"text-2xl font-bold text-gray-800",children:["#",t.popularityRank||"N/A"]}),(0,m.jsx)("div",{className:"text-sm text-gray-500",children:"Global Rank"})]}),(0,m.jsxs)("div",{className:"text-center flex flex-col justify-center",children:[(0,m.jsx)(h.A,{className:"w-8 h-8 text-indigo-500 mx-auto mb-2"}),(0,m.jsx)("div",{className:"text-xl font-bold text-gray-800 capitalize",children:t.origin||S.origin||"Unknown"}),(0,m.jsxs)("div",{className:"text-sm text-gray-500",children:["Origin",t.originProcessed&&(0,m.jsx)("span",{className:"ml-1 text-xs text-green-600",children:"\u2713"})]})]})]})}),(0,m.jsxs)("div",{className:"h-[100px]",children:[(0,m.jsxs)("h3",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3 flex items-center gap-2",children:[(0,m.jsx)(d.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-pink-500"}),"Gender Distribution"]}),(0,m.jsxs)("div",{className:"flex gap-3 sm:gap-4 items-center",children:[(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,m.jsx)("span",{className:"text-xs sm:text-sm text-gray-600",children:"Male"}),(0,m.jsxs)("span",{className:"text-xs sm:text-sm font-medium",children:[Math.round(100*((null===L||void 0===L?void 0:L.Male)||0)),"%"]})]}),(0,m.jsx)("div",{className:"h-2 sm:h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,m.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-400 to-blue-600",style:{width:"".concat(100*((null===L||void 0===L?void 0:L.Male)||0),"%")}})})]}),(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,m.jsx)("span",{className:"text-xs sm:text-sm text-gray-600",children:"Female"}),(0,m.jsxs)("span",{className:"text-xs sm:text-sm font-medium",children:[Math.round(100*((null===L||void 0===L?void 0:L.Female)||0)),"%"]})]}),(0,m.jsx)("div",{className:"h-2 sm:h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,m.jsx)("div",{className:"h-full bg-gradient-to-r from-pink-400 to-pink-600",style:{width:"".concat(100*((null===L||void 0===L?void 0:L.Female)||0),"%")}})})]})]})]})]})}),(0,m.jsxs)("div",{className:"border-t border-gray-200 bg-white sm:rounded-b-3xl p-4",children:[(0,m.jsxs)("div",{className:"flex justify-between items-center px-2 sm:px-4 gap-4",children:[(0,m.jsx)("button",{onClick:z,className:"flex items-center justify-center w-14 h-14 rounded-full ".concat(C?"bg-red-50 border-2 border-red-300 shadow-md":"bg-white border border-gray-200 shadow-sm hover:shadow-md hover:border-red-200"," transform hover:scale-105 active:scale-95"),style:{transition:"transform 0.05s"},title:C?"Remove from hidden":"Pass on this name",children:(0,m.jsx)(s.A,{className:"w-6 h-6 ".concat(C?"text-red-400 stroke-[1.5]":"text-gray-400 hover:text-red-400 stroke-[1.5]")})}),(0,m.jsx)("button",{onClick:B,className:"flex items-center justify-center w-14 h-14 rounded-full ".concat(E?"bg-pink-50 border-2 border-pink-300 shadow-md":"bg-white border border-gray-200 shadow-sm hover:shadow-md hover:border-pink-200"," transform hover:scale-105 active:scale-95"),style:{transition:"transform 0.05s"},title:E?"Remove from favorites":"Love this name",children:(0,m.jsx)(d.A,{className:"w-6 h-6 ".concat(E?"text-pink-400 fill-pink-400 stroke-[1.5]":"text-gray-400 hover:text-pink-400 stroke-[1.5]")})})]}),O&&(0,m.jsx)("div",{className:"mt-2 text-center",children:(0,m.jsx)("p",{className:"text-xs text-gray-400",children:"\ud83d\udc48 Swipe to browse \ud83d\udc49"})})]})]});return(0,m.jsxs)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",onClick:y,children:[O&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.P.div,{className:"fixed left-8 top-1/4 pointer-events-none z-[60]",style:{opacity:D,scale:F},children:(0,m.jsx)(o.P.div,{animate:{x:[-5,-15,-5],y:[-5,-15,-5]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},children:(0,m.jsx)(s.A,{className:"w-20 h-20 text-gray-400/70",strokeWidth:3})})}),(0,m.jsx)(o.P.div,{className:"fixed right-8 top-1/4 pointer-events-none z-[60]",style:{opacity:R,scale:M},children:(0,m.jsx)(o.P.div,{animate:{x:[5,15,5],y:[-5,-15,-5]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},children:(0,m.jsx)(d.A,{className:"w-20 h-20 ".concat(U?"text-blue-400/70":"text-pink-400/70"),strokeWidth:3})})})]}),O?(0,m.jsx)(o.P.div,{className:"relative z-[55]",style:{x:I,rotate:_,opacity:N},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.7,onDragEnd:(e,r)=>{if(!O)return;Math.abs(r.offset.x)>Math.abs(r.offset.y)&&(Math.abs(r.offset.x)>40||Math.abs(r.velocity.x)>200)&&(r.offset.x>0?(P("right"),f.A.addFavorite(t.name),null===v||void 0===v||v(),setTimeout(()=>{const e=(g+1)%n.length;w(e)},200)):(P("left"),f.A.toggleDislike(t.name),null===b||void 0===b||b(),setTimeout(()=>{const e=(g+1)%n.length;w(e)},200)))},animate:T?{x:"right"===T?1e3:-1e3,opacity:0,rotate:"right"===T?30:-30}:{},transition:T?{type:"tween",duration:.2,ease:"easeOut"}:{type:"spring",stiffness:700,damping:30},children:(0,m.jsx)(G,{})}):(0,m.jsx)(G,{})]})}},8648:(e,t,n)=>{n.d(t,{E4:()=>s,Hr:()=>h,W9:()=>u});var r=n(4362),i=n(3766),a=n(2167),o=n(1098);const s=e=>e===a.ai||e===o.px,l=new Set(["x","y","z"]),c=i.U.filter(e=>!l.has(e));function u(e){const t=[];return c.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const h={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return(0,r.ry)(n,"x")},y:(e,t)=>{let{transform:n}=t;return(0,r.ry)(n,"y")}};h.translateX=h.x,h.translateY=h.y},8673:(e,t,n)=>{n.d(t,{F:()=>i});const r=(e,t)=>n=>t(e(n)),i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(r)}},9062:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(6230).A)("arrow-down-a-z",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]])},9126:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(6230).A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},9246:(e,t,n)=>{n.d(t,{I:()=>r});const r=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},9305:(e,t,n)=>{n.d(t,{M:()=>i});var r=n(9950);function i(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},9389:(e,t,n)=>{n.d(t,{l:()=>r});const r=e=>e},9396:(e,t,n)=>{n.d(t,{BV:()=>_e,Kd:()=>ct,Zp:()=>he,qh:()=>Pe,zy:()=>le});var r=n(3986),i=n(2555),a=n(9950);const o=["sri"],s=["page"],l=["page","matches"],c=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],h=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var d="popstate";function p(){return w(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return y("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:v(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function f(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function m(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function g(e,t){return{usr:e.state,key:e.key,idx:t}}function y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return(0,i.A)((0,i.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function v(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function b(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function w(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:o=!1}=r,s=a.history,l="POP",c=null,u=h();function h(){return(s.state||{idx:null}).idx}function p(){l="POP";let e=h(),t=null==e?null:e-u;u=e,c&&c({action:l,location:m.location,delta:t})}function f(e){return S(e)}null==u&&(u=0,s.replaceState((0,i.A)((0,i.A)({},s.state),{},{idx:u}),""));let m={get action(){return l},get location(){return e(a,s)},listen(e){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(d,p),c=e,()=>{a.removeEventListener(d,p),c=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let r=y(m.location,e,t);n&&n(r,e),u=h()+1;let i=g(r,u),d=m.createHref(r);try{s.pushState(i,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;a.location.assign(d)}o&&c&&c({action:l,location:m.location,delta:1})},replace:function(e,t){l="REPLACE";let r=y(m.location,e,t);n&&n(r,e),u=h();let i=g(r,u),a=m.createHref(r);s.replaceState(i,"",a),o&&c&&c({action:l,location:m.location,delta:0})},go:e=>s.go(e)};return m}function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),f(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:v(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function x(e,t){return E(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function E(e,t,n,r){let i=U(("string"===typeof t?b(t):t).pathname||"/",n);if(null==i)return null;let a=k(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=L(i);o=M(a[s],e,r)}return o}function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,s=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&o)return;f(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=G([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(f(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),k(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:D(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of C(e.path))a(e,t,!0,r);else a(e,t)}),t}function C(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=C(r.join("/")),s=[];return s.push(...o.map(e=>""===e?a:[a,e].join("/"))),i&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var A=/^:[\w-]+$/,T=3,P=2,I=1,_=10,N=-2,R=e=>"*"===e;function D(e,t){let n=e.split("/"),r=n.length;return n.some(R)&&(r+=N),t&&(r+=P),n.filter(e=>!R(e)).reduce((e,t)=>e+(A.test(t)?T:""===t?I:_),r)}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:G([a,u.pathname]),pathnameBase:q(G([a,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(a=G([a,u.pathnameBase]))}return o}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=O(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:o,pattern:e}}function O(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];m("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function L(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return m(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function j(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function V(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function B(e){let t=V(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function z(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=b(e):(r=(0,i.A)({},e),f(!r.pathname||!r.pathname.includes("?"),j("?","pathname","search",r)),f(!r.pathname||!r.pathname.includes("#"),j("#","pathname","hash",r)),f(!r.search||!r.search.includes("#"),j("#","search","hash",r)));let o,s=""===e||""===r.pathname,l=s?"/":r.pathname;if(null==l)o=n;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?b(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:H(r),hash:K(i)}}(r,o),u=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var G=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",K=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var X=["POST","PUT","PATCH","DELETE"],Y=(new Set(X),["GET",...X]);new Set(Y),Symbol("ResetLoaderData");var Q=a.createContext(null);Q.displayName="DataRouter";var $=a.createContext(null);$.displayName="DataRouterState";var J=a.createContext(!1);var Z=a.createContext({isTransitioning:!1});Z.displayName="ViewTransition";var ee=a.createContext(new Map);ee.displayName="Fetchers";var te=a.createContext(null);te.displayName="Await";var ne=a.createContext(null);ne.displayName="Navigation";var re=a.createContext(null);re.displayName="Location";var ie=a.createContext({outlet:null,matches:[],isDataRoute:!1});ie.displayName="Route";var ae=a.createContext(null);ae.displayName="RouteError";var oe=!0;function se(){return null!=a.useContext(re)}function le(){return f(se(),"useLocation() may be used only in the context of a <Router> component."),a.useContext(re).location}var ce="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ue(e){a.useContext(ne).static||a.useLayoutEffect(e)}function he(){let{isDataRoute:e}=a.useContext(ie);return e?function(){let{router:e}=we("useNavigate"),t=xe("useNavigate"),n=a.useRef(!1);ue(()=>{n.current=!0});let r=a.useCallback(async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(n.current,ce),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,(0,i.A)({fromRouteId:t},a)))},[e,t]);return r}():function(){f(se(),"useNavigate() may be used only in the context of a <Router> component.");let e=a.useContext(Q),{basename:t,navigator:n}=a.useContext(ne),{matches:r}=a.useContext(ie),{pathname:i}=le(),o=JSON.stringify(B(r)),s=a.useRef(!1);ue(()=>{s.current=!0});let l=a.useCallback(function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(m(s.current,ce),!s.current)return;if("number"===typeof r)return void n.go(r);let l=z(r,JSON.parse(o),i,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:G([t,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)},[t,n,o,i,e]);return l}()}a.createContext(null);function de(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=a.useContext(ie),{pathname:r}=le(),i=JSON.stringify(B(n));return a.useMemo(()=>z(e,JSON.parse(i),r,"path"===t),[e,i,r,t])}function pe(e,t,n,r,o){f(se(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=a.useContext(ne),{matches:l}=a.useContext(ie),c=l[l.length-1],u=c?c.params:{},h=c?c.pathname:"/",d=c?c.pathnameBase:"/",p=c&&c.route;if(oe){let e=p&&p.path||"";Ce(h,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(h,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let g,y=le();if(t){var v;let e="string"===typeof t?b(t):t;f("/"===d||(null===(v=e.pathname)||void 0===v?void 0:v.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),g=e}else g=y;let w=g.pathname||"/",S=w;if("/"!==d){let e=d.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let E=x(e,{pathname:S});oe&&(m(p||null!=E,'No routes matched location "'.concat(g.pathname).concat(g.search).concat(g.hash,'" ')),m(null==E||void 0!==E[E.length-1].route.element||void 0!==E[E.length-1].route.Component||void 0!==E[E.length-1].route.lazy,'Matched leaf route at location "'.concat(g.pathname).concat(g.search).concat(g.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.')));let k=ve(E&&E.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:G([d,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:G([d,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),l,n,r,o);return t&&k?a.createElement(re.Provider,{value:{location:(0,i.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:"POP"}},k):k}function fe(){let e=Ee(),t=W(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return oe&&(console.error("Error handled by React Router default ErrorBoundary:",e),s=a.createElement(a.Fragment,null,a.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),a.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",a.createElement("code",{style:o},"ErrorBoundary")," or"," ",a.createElement("code",{style:o},"errorElement")," prop on your route."))),a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:i},n):null,s)}var me=a.createElement(fe,null),ge=class extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?a.createElement(ie.Provider,{value:this.props.routeContext},a.createElement(ae.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ye(e){let{routeContext:t,match:n,children:r}=e,i=a.useContext(Q);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(ie.Provider,{value:t},r)}function ve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,o=null===n||void 0===n?void 0:n.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id]));f(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,l=-1;if(n)for(let a=0;a<i.length;a++){let e=i[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=a),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){s=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight((e,c,u)=>{let h,d=!1,p=null,f=null;n&&(h=o&&c.route.id?o[c.route.id]:void 0,p=c.route.errorElement||me,s&&(l<0&&0===u?(Ce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===u&&(d=!0,f=c.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,u+1)),g=()=>{let t;return t=h?p:d?f:c.route.Component?a.createElement(c.route.Component,null):c.route.element?c.route.element:e,a.createElement(ye,{match:c,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?a.createElement(ge,{location:n.location,revalidation:n.revalidation,component:p,error:h,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:r}):g()},null)}function be(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function we(e){let t=a.useContext(Q);return f(t,be(e)),t}function Se(e){let t=a.useContext($);return f(t,be(e)),t}function xe(e){let t=function(e){let t=a.useContext(ie);return f(t,be(e)),t}(e),n=t.matches[t.matches.length-1];return f(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ee(){var e;let t=a.useContext(ae),n=Se("useRouteError"),r=xe("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var ke={};function Ce(e,t,n){t||ke[e]||(ke[e]=!0,m(!1,n))}var Ae={};function Te(e,t){e||Ae[t]||(Ae[t]=!0,console.warn(t))}a.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:i}=e;return pe(t,void 0,r,i,n)});function Pe(e){f(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ie(e){let{basename:t="/",children:n=null,location:r,navigationType:i="POP",navigator:o,static:s=!1}=e;f(!se(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=a.useMemo(()=>({basename:l,navigator:o,static:s,future:{}}),[l,o,s]);"string"===typeof r&&(r=b(r));let{pathname:u="/",search:h="",hash:d="",state:p=null,key:g="default"}=r,y=a.useMemo(()=>{let e=U(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:p,key:g},navigationType:i}},[l,u,h,d,p,g,i]);return m(null!=y,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==y?null:a.createElement(ne.Provider,{value:c},a.createElement(re.Provider,{children:n,value:y}))}function _e(e){let{children:t,location:n}=e;return pe(Ne(t),n)}a.Component;function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return a.Children.forEach(e,(e,r)=>{if(!a.isValidElement(e))return;let i=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,Ne(e.props.children,i));f(e.type===Pe,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),f(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ne(e.props.children,i)),n.push(o)}),n}var Re="get",De="application/x-www-form-urlencoded";function Me(e){return null!=e&&"string"===typeof e.tagName}var Fe=null;var Oe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Le(e){return null==e||Oe.has(e)?e:(m(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(De,'"')),null)}function Ue(e,t){let n,r,i,a,o;if(Me(s=e)&&"form"===s.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?U(o,t):null,n=e.getAttribute("method")||Re,i=Le(e.getAttribute("enctype"))||De,a=new FormData(e)}else if(function(e){return Me(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Me(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(r=s?U(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Re,i=Le(e.getAttribute("formenctype"))||Le(o.getAttribute("enctype"))||De,a=new FormData(o,e),!function(){if(null===Fe)try{new FormData(document.createElement("form"),0),Fe=!1}catch(e){Fe=!0}return Fe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,r)}}else{if(Me(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Re,r=null,i=De,o=e}var s;return a&&"text/plain"===i&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function je(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ve(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===U(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Be(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ze(e){return null!=e&&"string"===typeof e.page}function Ge(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function qe(e,t,n,r,i,a){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>o(e,t)||s(e,t)):"data"===a?t.filter((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function He(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function Ke(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!ze(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function We(e,t){return"lazy"===e.mode&&!0===t}function Xe(){let e=a.useContext(Q);return je(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ye(){let e=a.useContext($);return je(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Qe=a.createContext(void 0);function $e(){let e=a.useContext(Qe);return je(e,"You must render this element inside a <HydratedRouter> element"),e}function Je(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ze(e,t,n){if(n&&!rt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}Qe.displayName="FrameworkContext";function et(e){let{page:t}=e,n=(0,r.A)(e,s),{router:o}=Xe(),l=a.useMemo(()=>x(o.routes,t,o.basename),[o.routes,t,o.basename]);return l?a.createElement(nt,(0,i.A)({page:t,matches:l},n)):null}function tt(e){let{manifest:t,routeModules:n}=$e(),[r,o]=a.useState([]);return a.useEffect(()=>{let r=!1;return async function(e,t,n){return Ke((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Be(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ge).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?(0,i.A)((0,i.A)({},e),{},{rel:"prefetch",as:"style"}):(0,i.A)((0,i.A)({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||o(e)}),()=>{r=!0}},[e,t,n]),r}function nt(e){let{page:t,matches:n}=e,o=(0,r.A)(e,l),s=le(),{manifest:c,routeModules:u}=$e(),{basename:h}=Xe(),{loaderData:d,matches:p}=Ye(),f=a.useMemo(()=>qe(t,n,p,c,s,"data"),[t,n,p,c,s]),m=a.useMemo(()=>qe(t,n,p,c,s,"assets"),[t,n,p,c,s]),g=a.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let i=c.routes[t.route.id];i&&i.hasLoader&&(!f.some(e=>e.route.id===t.route.id)&&t.route.id in d&&null!==(n=u[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=Ve(t,h,"data");return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[h,d,s,c,f,n,t,u]),y=a.useMemo(()=>He(m,c),[m,c]),v=tt(m);return a.createElement(a.Fragment,null,g.map(e=>a.createElement("link",(0,i.A)({key:e,rel:"prefetch",as:"fetch",href:e},o))),y.map(e=>a.createElement("link",(0,i.A)({key:e,rel:"modulepreload",href:e},o))),v.map(e=>{let{key:t,link:n}=e;return a.createElement("link",(0,i.A)({key:t,nonce:o.nonce},n))}))}var rt=!1;function it(e){let{manifest:t,serverHandoffString:n,isSpaMode:s,renderMeta:l,routeDiscovery:c,ssr:u}=$e(),{router:h,static:d,staticContext:p}=Xe(),{matches:f}=Ye(),m=a.useContext(J),g=We(c,u);l&&(l.didRenderScripts=!0);let y=Ze(f,null,s);a.useEffect(()=>{rt=!0},[]);let v=a.useMemo(()=>{var s;if(m)return null;let l=p?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=d?"".concat(null!==(s=t.hmr)&&void 0!==s&&s.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(y.map((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];je(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:o,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=i,u=[...a?[{module:a,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,a=(0,r.A)(e,o),s=new Set(t.state.matches.map(e=>e.route.id)),l=t.state.location.pathname.split("/").filter(Boolean),c=["/"];for(l.pop();l.length>0;)c.push("/".concat(l.join("/"))),l.pop();c.forEach(e=>{let n=x(t.routes,e,t.basename);n&&n.forEach(e=>s.add(e.route.id))});let u=[...s].reduce((e,t)=>Object.assign(e,{[t]:a.routes[t]}),{});return(0,i.A)((0,i.A)({},a),{},{routes:u,sri:!!n||void 0})}(t,h),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return a.createElement(a.Fragment,null,a.createElement("script",(0,i.A)((0,i.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:l},type:void 0})),a.createElement("script",(0,i.A)((0,i.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:c},type:"module",async:!0})))},[]),b=rt||m?[]:(w=t.entry.imports.concat(He(y,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let S="object"===typeof t.sri?t.sri:{};return Te(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),rt||m?null:a.createElement(a.Fragment,null,"object"===typeof t.sri?a.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:S})}}):null,g?null:a.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:S[t.url],suppressHydrationWarning:!0}),a.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:S[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>a.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:S[t],suppressHydrationWarning:!0})),v)}function at(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}a.Component;function ot(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,i=a.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(W(t))return a.createElement(st,{title:"Unhandled Thrown Response!"},a.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),oe?i:null);if(t instanceof Error)r=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(e)}return a.createElement(st,{title:"Application Error!",isOutsideRemixApp:n},a.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),a.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),i)}function st(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:i,children:o}=e,{routeModules:s}=$e();return null!==(t=s.root)&&void 0!==t&&t.Layout&&!i?o:a.createElement("html",{lang:"en"},a.createElement("head",null,a.createElement("meta",{charSet:"utf-8"}),a.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),a.createElement("title",null,n)),a.createElement("body",null,a.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,r?a.createElement(it,null):null)))}var lt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{lt&&(window.__reactRouterVersion="7.9.3")}catch(vt){}function ct(e){let{basename:t,children:n,window:r}=e,i=a.useRef();null==i.current&&(i.current=p({window:r,v5Compat:!0}));let o=i.current,[s,l]=a.useState({action:o.action,location:o.location}),c=a.useCallback(e=>{a.startTransition(()=>l(e))},[l]);return a.useLayoutEffect(()=>o.listen(c),[o,c]),a.createElement(Ie,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var ut=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=a.forwardRef(function(e,t){let n,{onClick:o,discover:s="render",prefetch:l="none",relative:u,reloadDocument:h,replace:d,state:p,target:g,to:y,preventScrollReset:b,viewTransition:w}=e,S=(0,r.A)(e,c),{basename:x}=a.useContext(ne),E="string"===typeof y&&ut.test(y),k=!1;if("string"===typeof y&&E&&(n=y,lt))try{let e=new URL(window.location.href),t=y.startsWith("//")?new URL(e.protocol+y):new URL(y),n=U(t.pathname,x);t.origin===e.origin&&null!=n?y=n+t.search+t.hash:k=!0}catch(vt){m(!1,'<Link to="'.concat(y,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let C=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(se(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=a.useContext(ne),{hash:i,pathname:o,search:s}=de(e,{relative:t}),l=o;return"/"!==n&&(l="/"===o?n:G([n,o])),r.createHref({pathname:l,search:s,hash:i})}(y,{relative:u}),[A,T,P]=function(e,t){let n=a.useContext(Qe),[r,i]=a.useState(!1),[o,s]=a.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,p=a.useRef(null);a.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),a.useEffect(()=>{if(r){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[r]);let f=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?"intent"!==e?[o,p,{}]:[o,p,{onFocus:Je(l,f),onBlur:Je(c,m),onMouseEnter:Je(u,f),onMouseLeave:Je(h,m),onTouchStart:Je(d,f)}]:[!1,p,{}]}(l,S),I=function(e){let{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=he(),c=le(),u=de(e,{relative:o});return a.useCallback(a=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(a,t)){a.preventDefault();let t=void 0!==n?n:v(c)===v(u);l(e,{replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[c,l,u,n,r,t,e,i,o,s])}(y,{replace:d,state:p,target:g,preventScrollReset:b,relative:u,viewTransition:w});let _=a.createElement("a",(0,i.A)((0,i.A)((0,i.A)({},S),P),{},{href:n||C,onClick:k||h?o:function(e){o&&o(e),e.defaultPrevented||I(e)},ref:at(t,T),target:g,"data-discover":E||"render"!==s?void 0:"true"}));return A&&!E?a.createElement(a.Fragment,null,_,a.createElement(et,{page:C})):_});ht.displayName="Link",a.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:o=!1,className:s="",end:l=!1,style:c,to:h,viewTransition:d,children:p}=e,m=(0,r.A)(e,u),g=de(h,{relative:m.relative}),y=le(),v=a.useContext($),{navigator:b,basename:w}=a.useContext(ne),S=null!=v&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.useContext(Z);f(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ft("useViewTransitionState"),i=de(e,{relative:t});if(!n.isTransitioning)return!1;let o=U(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=U(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=F(i.pathname,s)||null!=F(i.pathname,o)}(g)&&!0===d,x=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,E=y.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;o||(E=E.toLowerCase(),k=k?k.toLowerCase():null,x=x.toLowerCase()),k&&w&&(k=U(k,w)||k);const C="/"!==x&&x.endsWith("/")?x.length-1:x.length;let A,T=E===x||!l&&E.startsWith(x)&&"/"===E.charAt(C),P=null!=k&&(k===x||!l&&k.startsWith(x)&&"/"===k.charAt(x.length)),I={isActive:T,isPending:P,isTransitioning:S},_=T?n:void 0;A="function"===typeof s?s(I):[s,T?"active":null,P?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let N="function"===typeof c?c(I):c;return a.createElement(ht,(0,i.A)((0,i.A)({},m),{},{"aria-current":_,className:A,ref:t,style:N,to:h,viewTransition:d}),"function"===typeof p?p(I):p)}).displayName="NavLink";var dt=a.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:o,navigate:s,reloadDocument:l,replace:c,state:u,method:d=Re,action:p,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:b}=e,w=(0,r.A)(e,h),S=yt(),x=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=a.useContext(ne),r=a.useContext(ie);f(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),s=(0,i.A)({},de(e||".",{relative:t})),l=le();if(null==e){s.search=l.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:G([n,s.pathname]));return v(s)}(p,{relative:g}),E="get"===d.toLowerCase()?"get":"post",k="string"===typeof p&&ut.test(p);return a.createElement("form",(0,i.A)((0,i.A)({ref:t,method:E,action:x,onSubmit:l?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;S(t||e.currentTarget,{fetcherKey:o,method:n,navigate:s,replace:c,state:u,relative:g,preventScrollReset:y,viewTransition:b})}},w),{},{"data-discover":k||"render"!==n?void 0:"true"}))});function pt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ft(e){let t=a.useContext(Q);return f(t,pt(e)),t}dt.displayName="Form";var mt=0,gt=()=>"__".concat(String(++mt),"__");function yt(){let{router:e}=ft("useSubmit"),{basename:t}=a.useContext(ne),n=xe("useRouteId");return a.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:o,encType:s,formData:l,body:c}=Ue(r,t);if(!1===i.navigate){let t=i.fetcherKey||gt();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}},9487:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,S(e),!m)if(null!==r(c))m=!0,k||(k=!0,E());else{var t=r(u);null!==t&&R(x,t.startTime-e)}}var E,k=!1,C=-1,A=5,T=-1;function P(){return!!y||!(t.unstable_now()-T<A)}function I(){if(y=!1,k){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(C),C=-1),f=!0;var a=p;try{t:{for(S(e),d=r(c);null!==d&&!(d.expirationTime>e&&P());){var o=d.callback;if("function"===typeof o){d.callback=null,p=d.priorityLevel;var s=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){d.callback=s,S(e),n=!0;break t}d===r(c)&&i(c),S(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&R(x,l.startTime-e),n=!1}}break e}finally{d=null,p=a,f=!1}n=void 0}}finally{n?E():k=!1}}}if("function"===typeof w)E=function(){w(I)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,N=_.port2;_.port1.onmessage=I,E=function(){N.postMessage(null)}}else E=function(){v(I,0)};function R(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(C),C=-1):g=!0,R(x,a-o))):(e.sortIndex=s,n(c,e),m||f||(m=!0,k||(k=!0,E()))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},9512:(e,t,n)=>{n.d(t,{n:()=>r});const r="data-"+(0,n(9246).I)("framerAppearId")},9699:(e,t,n)=>{n.d(t,{s:()=>i});var r=n(911);function i(e){return(0,r.G)(e)&&"offsetHeight"in e}},9712:(e,t,n)=>{n.d(t,{q:()=>r});const r=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r}},9950:(e,t,n)=>{e.exports=n(1983)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{83:"100647da",269:"b42addda",300:"0219d590",514:"7532b431",560:"32bb0486",822:"3c491cf2"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="new-baby-name:";n.l=(r,i,a,o)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+a){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var d=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/babyname2/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,o=r[0],s=r[1],l=r[2],c=0;if(o.some(t=>0!==e[t])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunknew_baby_name=self.webpackChunknew_baby_name||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(9950),i=n(1352),a=n(9396),o=n(6450),s=n(1088),l=n(1195),c=n(5995),u=n(6479),h=n(3147),d=n(772),p=n(6230);const f=(0,p.A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),m=(0,p.A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var g=n(6149),y=n(9062),v=n(8215);const b=(0,p.A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),w=(0,p.A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),S=(0,p.A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var x=n(7304);const E=(0,p.A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var k=n(6429),C=n(5739),A=n(5328),T=n(1318);const P=new class{constructor(){this.UNISEX_THRESHOLD=.35,this.STRONG_UNISEX_THRESHOLD=.45,this.BATCH_SIZE=50,this.processingQueue=[],this.isProcessing=!1,this.processedNames=new Map,this.storageKey="unisexAnalysis_v1",this.progressCallback=void 0,this.updateCallback=void 0,this.KNOWN_UNISEX_NAMES=new Set(["alex","jordan","taylor","morgan","casey","riley","avery","jamie","cameron","drew","dakota","sage","quinn","reese","rowan","finley","hayden","emerson","river","phoenix","charlie","blake","parker","peyton","sawyer","remy","skyler","jesse","kai","robin","sam","sydney","bailey","angel","kendall","micah","ash","august","jules"]),this.loadFromStorage()}loadFromStorage(){try{const e=localStorage.getItem(this.storageKey);if(e){const t=JSON.parse(e);this.processedNames=new Map(t.entries||[]),console.log("Loaded ".concat(this.processedNames.size," unisex analyses from storage"))}}catch(e){console.error("Failed to load unisex analyses:",e)}}saveToStorage(){try{const e={entries:Array.from(this.processedNames.entries()),timestamp:Date.now()};localStorage.setItem(this.storageKey,JSON.stringify(e))}catch(e){console.error("Failed to save unisex analyses:",e)}}analyzeUnisexName(e){const t=this.processedNames.get(e.name.toLowerCase());if(t)return t;let n=!1,r=0,i=.8,a="";if(this.KNOWN_UNISEX_NAMES.has(e.name.toLowerCase())&&(n=!0,i=.95,a="Culturally recognized unisex name"),"object"===typeof e.gender&&e.gender){const t=e.gender.Male||0,o=t+(e.gender.Female||0);if(o>0){const e=t/o;r=1-2*Math.abs(.5-e),e>=this.UNISEX_THRESHOLD&&e<=1-this.UNISEX_THRESHOLD?(n=!0,e>=this.STRONG_UNISEX_THRESHOLD&&e<=1-this.STRONG_UNISEX_THRESHOLD?(i=.9,a="Strong unisex distribution (".concat(Math.round(100*e),"% male, ").concat(Math.round(100*(1-e)),"% female)")):(i=.75,a="Moderate unisex distribution (".concat(Math.round(100*e),"% male, ").concat(Math.round(100*(1-e)),"% female)"))):a="Gender-specific distribution (".concat(Math.round(100*e),"% male, ").concat(Math.round(100*(1-e)),"% female)")}}const o=e.name.toLowerCase();!n&&(o.endsWith("ley")||o.endsWith("lee")||o.endsWith("ly")||o.endsWith("en")&&o.length>4)&&r>.2&&(n=!0,i=.65,a="Pattern suggests potential unisex usage");const s={name:e.name,isUnisex:n,unisexScore:r,confidence:i,reason:a};return this.processedNames.set(e.name.toLowerCase(),s),s}async processBatch(e){const t=[];for(const n of e){const e=this.analyzeUnisexName(n);t.push(e)}return this.saveToStorage(),this.updateCallback&&this.updateCallback(t),t}async processQueue(){if(this.isProcessing||0===this.processingQueue.length)return;this.isProcessing=!0;const e=this.processingQueue.length;let t=0;for(;this.processingQueue.length>0;){const n=this.processingQueue.splice(0,this.BATCH_SIZE);await this.processBatch(n),t+=n.length,this.progressCallback&&this.progressCallback(t,e),await new Promise(e=>setTimeout(e,10))}this.isProcessing=!1,console.log("Completed processing ".concat(t," names for unisex identification"))}queueNames(e){const t=e.filter(e=>!this.processedNames.has(e.name.toLowerCase()));this.processingQueue.push(...t),console.log("Queued ".concat(t.length," names for unisex analysis")),this.processQueue()}setProgressCallback(e){this.progressCallback=e}setUpdateCallback(e){this.updateCallback=e}getAnalysis(e){return this.processedNames.get(e.toLowerCase())}getAllAnalyses(){return this.processedNames}clearCache(){this.processedNames.clear(),localStorage.removeItem(this.storageKey),console.log("Cleared unisex analysis cache")}getStatistics(){const e=Array.from(this.processedNames.values()),t=e.filter(e=>e.isUnisex);return{totalProcessed:e.length,unisexCount:t.length,unisexPercentage:e.length>0?t.length/e.length*100:0,averageUnisexScore:t.length>0?t.reduce((e,t)=>e+t.unisexScore,0)/t.length:0}}};const I=new class{constructor(){this.isInitialized=!1,this.processingStarted=!1}async initialize(){if(this.isInitialized)return;console.log("\ud83d\udd04 Initializing unisex service...");const e=A.A.getAllNames();P.setUpdateCallback(t=>{t.forEach(t=>{const n=e.find(e=>e.name===t.name);n&&(n.isUnisex=t.isUnisex,n.unisexScore=t.unisexScore)}),console.log("\u2705 Updated ".concat(t.length," names with unisex information"))}),P.setProgressCallback((e,t)=>{console.log("\u23f3 Unisex processing: ".concat(e,"/").concat(t," names (").concat(Math.round(e/t*100),"%)"))}),this.isInitialized=!0}async startProcessing(){if(this.isInitialized||await this.initialize(),this.processingStarted)return void console.log("\u26a0\ufe0f Unisex processing already in progress");this.processingStarted=!0,console.log("\ud83d\ude80 Starting unisex name processing...");const e=A.A.getAllNames();P.queueNames(e);const t=P.getStatistics();console.log("\ud83d\udcca Unisex Statistics:",t)}getStatistics(){return P.getStatistics()}isUnisex(e){const t=P.getAnalysis(e.name);return t?t.isUnisex:A.A.isUnisexName(e)}getUnisexScore(e){const t=P.getAnalysis(e.name);return t?t.unisexScore:A.A.getUnisexScore(e)}clearCache(){P.clearCache(),this.processingStarted=!1,console.log("\ud83d\uddd1\ufe0f Cleared unisex cache")}processName(e){const t=P.analyzeUnisexName(e);return e.isUnisex=t.isUnisex,e.unisexScore=t.unisexScore,t}};var _=n(3577),N=n(8341);const R=(0,p.A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var D=n(4414);const M=e=>{let{onClose:t,onComplete:n}=e;const[i,a]=(0,r.useState)("gender"),[o,s]=(0,r.useState)("all"),h=e=>{s(e),setTimeout(()=>{a("complete")},300)};return(0,D.jsxs)("div",{className:"fixed inset-0 z-50 bg-gradient-to-br from-purple-900 via-pink-900 to-red-900",children:[(0,D.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,D.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),(0,D.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),(0,D.jsx)("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-red-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),(0,D.jsx)("button",{onClick:t,className:"absolute top-8 right-8 z-60 p-3 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-white/30 transition-all",children:(0,D.jsx)(u.A,{className:"w-6 h-6"})}),(0,D.jsx)("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-8",children:(0,D.jsxs)("div",{className:"max-w-2xl w-full text-center",children:["gender"===i&&(0,D.jsxs)("div",{className:"animate-fadeIn",children:[(0,D.jsxs)("div",{className:"mb-12",children:[(0,D.jsx)("div",{className:"flex justify-center mb-6",children:(0,D.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-pink-400 to-red-400 rounded-full flex items-center justify-center animate-pulse",children:(0,D.jsx)(l.A,{className:"w-10 h-10 text-white"})})}),(0,D.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"What are you looking for?"}),(0,D.jsx)("p",{className:"text-xl text-white/80 mb-8",children:"Let's find the perfect name for your little one \u2728"})]}),(0,D.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,D.jsxs)("button",{onClick:()=>h("male"),className:"group relative p-8 rounded-3xl backdrop-blur-md border-2 transition-all duration-300 transform hover:scale-105 ".concat("male"===o?"bg-blue-500/30 border-blue-300 shadow-lg shadow-blue-500/25":"bg-white/10 border-white/20 hover:bg-blue-500/20 hover:border-blue-300"),children:[(0,D.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udc76"}),(0,D.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Boy"}),(0,D.jsx)("p",{className:"text-white/70",children:"Strong and meaningful names for your little prince"}),"male"===o&&(0,D.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-blue-400/20 animate-pulse"})]}),(0,D.jsxs)("button",{onClick:()=>h("female"),className:"group relative p-8 rounded-3xl backdrop-blur-md border-2 transition-all duration-300 transform hover:scale-105 ".concat("female"===o?"bg-pink-500/30 border-pink-300 shadow-lg shadow-pink-500/25":"bg-white/10 border-white/20 hover:bg-pink-500/20 hover:border-pink-300"),children:[(0,D.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udc67"}),(0,D.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Girl"}),(0,D.jsx)("p",{className:"text-white/70",children:"Beautiful and elegant names for your little princess"}),"female"===o&&(0,D.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-pink-400/20 animate-pulse"})]}),(0,D.jsxs)("button",{onClick:()=>h("all"),className:"group relative p-8 rounded-3xl backdrop-blur-md border-2 transition-all duration-300 transform hover:scale-105 ".concat("all"===o?"bg-purple-500/30 border-purple-300 shadow-lg shadow-purple-500/25":"bg-white/10 border-white/20 hover:bg-purple-500/20 hover:border-purple-300"),children:[(0,D.jsx)("div",{className:"text-6xl mb-4",children:"\ud83e\udd37\u200d\u2640\ufe0f"}),(0,D.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"I Don't Know"}),(0,D.jsx)("p",{className:"text-white/70",children:"Explore all beautiful names and get surprised!"}),"all"===o&&(0,D.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-purple-400/20 animate-pulse"})]})]}),(0,D.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,D.jsx)("div",{className:"w-3 h-3 bg-white rounded-full"}),(0,D.jsx)("div",{className:"w-8 h-1 bg-white/30 rounded-full"}),(0,D.jsx)("div",{className:"w-3 h-3 bg-white/30 rounded-full"})]})]}),"complete"===i&&(0,D.jsxs)("div",{className:"animate-fadeIn",children:[(0,D.jsxs)("div",{className:"mb-12",children:[(0,D.jsx)("div",{className:"flex justify-center mb-6",children:(0,D.jsx)("div",{className:"w-24 h-24 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center animate-bounce",children:(0,D.jsx)(x.A,{className:"w-12 h-12 text-white"})})}),(0,D.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Perfect! Let's Start Swiping! \ud83c\udf89"}),(0,D.jsx)("p",{className:"text-xl text-white/80 mb-8",children:"We've curated the perfect names based on your preferences"})]}),(0,D.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 mb-8 border border-white/20",children:[(0,D.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Your Preferences:"}),(0,D.jsx)("div",{className:"flex justify-center",children:(0,D.jsxs)("span",{className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full text-white font-bold",children:["male"===o&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("span",{children:"\ud83d\udc76"}),(0,D.jsx)("span",{children:"Boy Names"})]}),"female"===o&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("span",{children:"\ud83d\udc67"}),(0,D.jsx)("span",{children:"Girl Names"})]}),"all"===o&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("span",{children:"\u2728"}),(0,D.jsx)("span",{children:"All Names"})]})]})})]}),(0,D.jsxs)("button",{onClick:()=>{n({gender:o}),t()},className:"group relative px-12 py-6 bg-gradient-to-r from-green-500 via-blue-500 to-purple-600 text-white rounded-full text-2xl font-bold shadow-2xl hover:shadow-blue-300/50 transform hover:scale-105 transition-all duration-300 border-4 border-white/20 hover:border-white/40",children:[(0,D.jsxs)("div",{className:"flex items-center gap-4",children:[(0,D.jsx)(c.A,{className:"w-8 h-8 animate-pulse",fill:"currentColor"}),(0,D.jsx)("span",{className:"text-white drop-shadow-lg",children:"Start Swiping Now!"}),(0,D.jsx)(R,{className:"w-8 h-8 animate-bounce"})]}),(0,D.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-green-400 via-blue-400 to-purple-400 opacity-30 blur-xl group-hover:opacity-50 transition-opacity duration-300"})]})]})]})})]})};function F(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=F(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function O(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=F(e))&&(r&&(r+=" "),r+=t);return r}var L=n(2555);const U=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),a=i?U(e.slice(1),i):void 0;if(a)return a;if(0===t.validators.length)return;const o=e.join("-");return null===(n=t.validators.find(e=>{let{validator:t}=e;return t(o)}))||void 0===n?void 0:n.classGroupId},j=/^\[(.+)\]$/,V=e=>{if(j.test(e)){const t=j.exec(e)[1],n=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},B=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)z(n[i],r,i,t);return r},z=(e,t,n,r)=>{e.forEach(e=>{if("string"===typeof e){return void((""===e?t:G(t,e)).classGroupId=n)}if("function"===typeof e)return q(e)?void z(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(e=>{let[i,a]=e;z(a,G(t,i),n,r)})})},G=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},q=e=>e.isThemeGetter,H=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},K=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,i=0,a=0;for(let l=0;l<e.length;l++){let o=e[l];if(0===r&&0===i){if(":"===o){t.push(e.slice(a,l)),a=l+1;continue}if("/"===o){n=l;continue}}"["===o?r++:"]"===o?r--:"("===o?i++:")"===o&&i--}const o=0===t.length?e:e.substring(a),s=W(o);return{modifiers:t,hasImportantModifier:s!==o,baseClassName:s,maybePostfixModifierPosition:n&&n>a?n-a:void 0}};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},W=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,X=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach(e=>{"["===e[0]||t[e]?(n.push(...r.sort(),e),r=[]):r.push(e)}),n.push(...r.sort()),n}},Y=e=>(0,L.A)({cache:H(e.cacheSize),parseClassName:K(e),sortModifiers:X(e)},(e=>{const t=B(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),U(n,t)||V(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}})(e)),Q=/\s+/;function $(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=J(e))&&(r&&(r+=" "),r+=t);return r}const J=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=J(e[r]))&&(n&&(n+=" "),n+=t);return n};function Z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i,a,o,s=function(t){const r=n.reduce((e,t)=>t(e),e());return i=Y(r),a=i.cache.get,o=i.cache.set,s=l,l(t)};function l(e){const t=a(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,o=[],s=e.trim().split(Q);let l="";for(let c=s.length-1;c>=0;c-=1){const e=s[c],{isExternal:t,modifiers:u,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:p}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let f=!!p,m=r(f?d.substring(0,p):d);if(!m){if(!f){l=e+(l.length>0?" "+l:l);continue}if(m=r(d),!m){l=e+(l.length>0?" "+l:l);continue}f=!1}const g=a(u).join(":"),y=h?g+"!":g,v=y+m;if(o.includes(v))continue;o.push(v);const b=i(m,f);for(let n=0;n<b.length;++n){const e=b[n];o.push(y+e)}l=e+(l.length>0?" "+l:l)}return l})(e,i);return o(e,n),n}return function(){return s($.apply(null,arguments))}}const ee=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},te=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ne=/^\((?:(\w[\w-]*):)?(.+)\)$/i,re=/^\d+\/\d+$/,ie=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,se=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,le=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ce=e=>re.test(e),ue=e=>!!e&&!Number.isNaN(Number(e)),he=e=>!!e&&Number.isInteger(Number(e)),de=e=>e.endsWith("%")&&ue(e.slice(0,-1)),pe=e=>ie.test(e),fe=()=>!0,me=e=>ae.test(e)&&!oe.test(e),ge=()=>!1,ye=e=>se.test(e),ve=e=>le.test(e),be=e=>!Se(e)&&!Te(e),we=e=>Me(e,Ue,ge),Se=e=>te.test(e),xe=e=>Me(e,je,me),Ee=e=>Me(e,Ve,ue),ke=e=>Me(e,Oe,ge),Ce=e=>Me(e,Le,ve),Ae=e=>Me(e,ze,ye),Te=e=>ne.test(e),Pe=e=>Fe(e,je),Ie=e=>Fe(e,Be),_e=e=>Fe(e,Oe),Ne=e=>Fe(e,Ue),Re=e=>Fe(e,Le),De=e=>Fe(e,ze,!0),Me=(e,t,n)=>{const r=te.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},Fe=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=ne.exec(e);return!!r&&(r[1]?t(r[1]):n)},Oe=e=>"position"===e||"percentage"===e,Le=e=>"image"===e||"url"===e,Ue=e=>"length"===e||"size"===e||"bg-size"===e,je=e=>"length"===e,Ve=e=>"number"===e,Be=e=>"family-name"===e,ze=e=>"shadow"===e,Ge=(Symbol.toStringTag,()=>{const e=ee("color"),t=ee("font"),n=ee("text"),r=ee("font-weight"),i=ee("tracking"),a=ee("leading"),o=ee("breakpoint"),s=ee("container"),l=ee("spacing"),c=ee("radius"),u=ee("shadow"),h=ee("inset-shadow"),d=ee("text-shadow"),p=ee("drop-shadow"),f=ee("blur"),m=ee("perspective"),g=ee("aspect"),y=ee("ease"),v=ee("animate"),b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Te,Se],w=()=>[Te,Se,l],S=()=>[ce,"full","auto",...w()],x=()=>[he,"none","subgrid",Te,Se],E=()=>["auto",{span:["full",he,Te,Se]},he,Te,Se],k=()=>[he,"auto",Te,Se],C=()=>["auto","min","max","fr",Te,Se],A=()=>["auto",...w()],T=()=>[ce,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],P=()=>[e,Te,Se],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",_e,ke,{position:[Te,Se]}],_=()=>["auto","cover","contain",Ne,we,{size:[Te,Se]}],N=()=>[de,Pe,xe],R=()=>["","none","full",c,Te,Se],D=()=>["",ue,Pe,xe],M=()=>[ue,de,_e,ke],F=()=>["","none",f,Te,Se],O=()=>["none",ue,Te,Se],L=()=>["none",ue,Te,Se],U=()=>[ue,Te,Se],j=()=>[ce,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[pe],breakpoint:[pe],color:[fe],container:[pe],"drop-shadow":[pe],ease:["in","out","in-out"],font:[be],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[pe],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[pe],shadow:[pe],spacing:["px",ue],text:[pe],"text-shadow":[pe],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ce,Se,Te,g]}],container:["container"],columns:[{columns:[ue,Se,Te,s]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:S()}],"inset-x":[{"inset-x":S()}],"inset-y":[{"inset-y":S()}],start:[{start:S()}],end:[{end:S()}],top:[{top:S()}],right:[{right:S()}],bottom:[{bottom:S()}],left:[{left:S()}],visibility:["visible","invisible","collapse"],z:[{z:[he,"auto",Te,Se]}],basis:[{basis:[ce,"full","auto",s,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ue,ce,"auto","initial","none",Se]}],grow:[{grow:["",ue,Te,Se]}],shrink:[{shrink:["",ue,Te,Se]}],order:[{order:[he,"first","last","none",Te,Se]}],"grid-cols":[{"grid-cols":x()}],"col-start-end":[{col:E()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":x()}],"row-start-end":[{row:E()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:T()}],w:[{w:[s,"screen",...T()]}],"min-w":[{"min-w":[s,"screen","none",...T()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[o]},...T()]}],h:[{h:["screen","lh",...T()]}],"min-h":[{"min-h":["screen","lh","none",...T()]}],"max-h":[{"max-h":["screen","lh",...T()]}],"font-size":[{text:["base",n,Pe,xe]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Te,Ee]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",de,Se]}],"font-family":[{font:[Ie,Se,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Te,Se]}],"line-clamp":[{"line-clamp":[ue,"none",Te,Ee]}],leading:[{leading:[a,...w()]}],"list-image":[{"list-image":["none",Te,Se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,Se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[ue,"from-font","auto",Te,xe]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[ue,"auto",Te,Se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:I()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:_()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},he,Te,Se],radial:["",Te,Se],conic:[he,Te,Se]},Re,Ce]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:N()}],"gradient-via-pos":[{via:N()}],"gradient-to-pos":[{to:N()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:D()}],"border-w-x":[{"border-x":D()}],"border-w-y":[{"border-y":D()}],"border-w-s":[{"border-s":D()}],"border-w-e":[{"border-e":D()}],"border-w-t":[{"border-t":D()}],"border-w-r":[{"border-r":D()}],"border-w-b":[{"border-b":D()}],"border-w-l":[{"border-l":D()}],"divide-x":[{"divide-x":D()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":D()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[ue,Te,Se]}],"outline-w":[{outline:["",ue,Pe,xe]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",u,De,Ae]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",h,De,Ae]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[ue,xe]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":D()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",d,De,Ae]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[ue,Te,Se]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":M()}],"mask-image-linear-to-pos":[{"mask-linear-to":M()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":M()}],"mask-image-t-to-pos":[{"mask-t-to":M()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":M()}],"mask-image-r-to-pos":[{"mask-r-to":M()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":M()}],"mask-image-b-to-pos":[{"mask-b-to":M()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":M()}],"mask-image-l-to-pos":[{"mask-l-to":M()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":M()}],"mask-image-x-to-pos":[{"mask-x-to":M()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":M()}],"mask-image-y-to-pos":[{"mask-y-to":M()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[Te,Se]}],"mask-image-radial-from-pos":[{"mask-radial-from":M()}],"mask-image-radial-to-pos":[{"mask-radial-to":M()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":M()}],"mask-image-conic-to-pos":[{"mask-conic-to":M()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:I()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:_()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,Se]}],filter:[{filter:["","none",Te,Se]}],blur:[{blur:F()}],brightness:[{brightness:[ue,Te,Se]}],contrast:[{contrast:[ue,Te,Se]}],"drop-shadow":[{"drop-shadow":["","none",p,De,Ae]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",ue,Te,Se]}],"hue-rotate":[{"hue-rotate":[ue,Te,Se]}],invert:[{invert:["",ue,Te,Se]}],saturate:[{saturate:[ue,Te,Se]}],sepia:[{sepia:["",ue,Te,Se]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,Se]}],"backdrop-blur":[{"backdrop-blur":F()}],"backdrop-brightness":[{"backdrop-brightness":[ue,Te,Se]}],"backdrop-contrast":[{"backdrop-contrast":[ue,Te,Se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ue,Te,Se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ue,Te,Se]}],"backdrop-invert":[{"backdrop-invert":["",ue,Te,Se]}],"backdrop-opacity":[{"backdrop-opacity":[ue,Te,Se]}],"backdrop-saturate":[{"backdrop-saturate":[ue,Te,Se]}],"backdrop-sepia":[{"backdrop-sepia":["",ue,Te,Se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,Se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ue,"initial",Te,Se]}],ease:[{ease:["linear","initial",y,Te,Se]}],delay:[{delay:[ue,Te,Se]}],animate:[{animate:["none",v,Te,Se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Te,Se]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:O()}],"rotate-x":[{"rotate-x":O()}],"rotate-y":[{"rotate-y":O()}],"rotate-z":[{"rotate-z":O()}],scale:[{scale:L()}],"scale-x":[{"scale-x":L()}],"scale-y":[{"scale-y":L()}],"scale-z":[{"scale-z":L()}],"scale-3d":["scale-3d"],skew:[{skew:U()}],"skew-x":[{"skew-x":U()}],"skew-y":[{"skew-y":U()}],transform:[{transform:[Te,Se,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:j()}],"translate-x":[{"translate-x":j()}],"translate-y":[{"translate-y":j()}],"translate-z":[{"translate-z":j()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,Se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,Se]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[ue,Pe,xe,Ee]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),qe=Z(Ge);function He(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qe(O(t))}var Ke="https://cdn.jsdelivr.net/gh/hiunicornstudio/unicornstudio.js@v".concat("1.4.31","/dist/unicornStudio.umd.js"),We={width:"100%",height:"100%",scale:1,production:!0,dpi:1.5,fps:60,altText:"Scene",className:"",lazyLoad:!0,showPlaceholderOnError:!0,showPlaceholderWhileLoading:!0},Xe=[15,24,30,60,120];function Ye(e,t){return function(e){return e>=.25&&e<=1}(e)?function(e){return Xe.includes(e)}(t)?null:"Invalid fps: ".concat(t,". FPS must be one of: 15, 24, 30, 60, 120"):"Invalid scale: ".concat(e,". Scale must be between 0.25 and 1.0")}var Qe={container:{position:"relative",width:"var(--unicorn-width)",height:"var(--unicorn-height)"},errorWrapper:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},errorBox:{textAlign:"center",padding:"1rem",borderRadius:"0.5rem",backgroundColor:"rgb(254 242 242)",color:"rgb(239 68 68)"},errorTitle:{fontWeight:"600",marginBottom:"0.25rem"},errorMessage:{fontSize:"0.875rem",marginTop:"0.25rem"}};var $e=function(e){let{projectId:t,jsonFilePath:n,width:i=We.width,height:a=We.height,scale:o=We.scale,dpi:s=We.dpi,fps:l=We.fps,altText:c=We.altText,ariaLabel:u,className:h=We.className,lazyLoad:d=We.lazyLoad,production:p=We.production,placeholder:f,placeholderClassName:m,showPlaceholderOnError:g=We.showPlaceholderOnError,showPlaceholderWhileLoading:y=We.showPlaceholderWhileLoading,onLoad:v,onError:b}=e;const w=(0,r.useRef)(null),[S,x]=(0,r.useState)(!1),[E,k]=(0,r.useState)(!0),{isLoaded:C,error:A}=function(e){const[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(null),o=(0,r.useCallback)(()=>{n(!0)},[]),s=(0,r.useCallback)(()=>{a(new Error("Failed to load UnicornStudio script"))},[]);return(0,r.useEffect)(()=>{const t=document.querySelector('script[src="'.concat(e,'"]'));if(t)return"true"===t.getAttribute("data-loaded")?void n(!0):(t.addEventListener("load",o),t.addEventListener("error",s),()=>{t.removeEventListener("load",o),t.removeEventListener("error",s)});const r=document.createElement("script");return r.src=e,r.async=!0,r.addEventListener("load",()=>{r.setAttribute("data-loaded","true"),o()}),r.addEventListener("error",s),document.head.appendChild(r),()=>{r.parentNode&&(r.removeEventListener("load",o),r.removeEventListener("error",s))}},[e,o,s]),{isLoaded:t,error:i,handleScriptLoad:o,handleScriptError:s}}(Ke),{error:T}=function(e){let{elementRef:t,projectId:n,jsonFilePath:i,production:a,scale:o,dpi:s,fps:l,lazyLoad:c,altText:u,ariaLabel:h,isScriptLoaded:d,onLoad:p,onError:f}=e;const m=(0,r.useRef)(null),[g,y]=(0,r.useState)(null),v=(0,r.useRef)(!1),b=(0,r.useRef)(""),w=(0,r.useRef)(!1),S=(0,r.useMemo)(()=>Ye(o,l),[o,l]),x=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(S!==x.current)if(x.current=S,S){const e=new Error(S);y(e),null==f||f(e)}else y(null)},[S,f]);const E=(0,r.useCallback)(()=>{var e;(null==(e=m.current)?void 0:e.destroy)&&(m.current.destroy(),m.current=null),w.current=!1},[]),k=(0,r.useCallback)(async()=>{var e;if(!t.current||!d||S)return;if(w.current)return void console.log("Already initializing, skipping...");const r="".concat(n||"","-").concat(i||"","-").concat(o,"-").concat(s,"-").concat(l,"-").concat(a?"prod":"dev");if(b.current===r&&m.current)console.log("Scene already initialized with this configuration, skipping...");else{b.current=r,v.current=!0,w.current=!0;try{if(E(),!(null==(e=window.UnicornStudio)?void 0:e.addScene))throw new Error("UnicornStudio.addScene not found");const r={elementId:t.current.id||"unicorn-".concat(Math.random().toString(36).slice(2,11)),scale:o,dpi:s,fps:l,lazyLoad:c,altText:u,ariaLabel:h,production:a};if(t.current.id||(t.current.id=r.elementId),i)r.filePath=i;else{if(!n)throw new Error("No project ID or JSON file path provided");r.projectId=n}let d;const f=new Promise((e,t)=>{d=setTimeout(()=>t(new Error("Scene initialization timeout")),15e3)}),g=()=>{d&&clearTimeout(d)};try{const e=await Promise.race([window.UnicornStudio.addScene(r),f]);if(g(),!e)throw w.current=!1,new Error("Failed to initialize scene");m.current=e,v.current=!1,y(null),w.current=!1,null==p||p()}catch(P){throw g(),P}}catch(P){let t=(P instanceof Error?P:new Error("Unknown error")).message;t.includes("404")||t.includes("Failed to fetch")?t="Resource not found":t.includes("Network")||t.includes("network")?t="Network error occurred":t.includes("timeout")&&(t="Loading timeout");const n=new Error(t);y(n),w.current=!1,null==f||f(n)}}},[t,d,i,n,a,o,s,l,c,u,h,E,p,f,S]);return(0,r.useEffect)(()=>{d&&k()},[d,k]),(0,r.useEffect)(()=>E,[E]),(0,r.useEffect)(()=>{const e="".concat(n||"","-").concat(i||"","-").concat(o,"-").concat(s,"-").concat(l,"-").concat(a?"prod":"dev");b.current!==e&&(v.current=!1,y(null),w.current=!1,b.current="")},[n,i,o,s,l,a]),{error:g}}({elementRef:w,projectId:t,jsonFilePath:n,production:p,scale:o,dpi:s,fps:l,lazyLoad:d,altText:c,ariaLabel:u||c,isScriptLoaded:C,onLoad:()=>{x(!0),null==v||v()},onError:b}),P=A||T;(0,r.useEffect)(()=>{k(function(){if("undefined"===typeof window)return!0;try{const e=document.createElement("canvas");return!(!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}())},[]);const I=(f||m)&&(!E||y&&!S||g&&P),_="number"===typeof i?i:0,N="number"===typeof a?a:0,R="number"===typeof i&&"number"===typeof a,M={"--unicorn-width":"number"===typeof i?"".concat(i,"px"):i,"--unicorn-height":"number"===typeof a?"".concat(a,"px"):a};return(0,D.jsxs)("div",{ref:w,style:(0,L.A)((0,L.A)({},Qe.container),M),className:h,children:[I&&(f||m)&&(0,D.jsx)("div",{style:{position:"absolute",inset:0},children:"string"===typeof f?(0,D.jsx)("img",{src:f,alt:c,style:{width:R?"".concat(_,"px"):"100%",height:R?"".concat(N,"px"):"100%",objectFit:"cover"}}):f||(m?(0,D.jsx)("div",{className:m,style:{width:"100%",height:"100%"},"aria-label":c}):null)}),P&&!I&&(0,D.jsx)("div",{style:Qe.errorWrapper,children:(0,D.jsxs)("div",{style:Qe.errorBox,children:[(0,D.jsx)("p",{style:Qe.errorTitle,children:"Error loading scene"}),(0,D.jsx)("p",{style:Qe.errorMessage,children:P.message})]})})]})};const Je=()=>{const{width:e,height:t}=(()=>{const[e,t]=(0,r.useState)({width:"undefined"!==typeof window?window.innerWidth:0,height:"undefined"!==typeof window?window.innerHeight:0});return(0,r.useEffect)(()=>{const e=()=>{t({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e})();return(0,D.jsx)("div",{className:He("flex flex-col items-center"),children:(0,D.jsx)($e,{production:!0,projectId:"1grEuiVDSVmyvEMAYhA6",width:e,height:t})})},Ze=()=>{var e,t;const[n,i]=(0,r.useState)(""),[s,p]=(0,r.useState)(!1),[P,R]=(0,r.useState)([]),[F,O]=(0,r.useState)([]),[L,U]=(0,r.useState)(null),[j,V]=(0,r.useState)(0),[B,z]=(0,r.useState)("all"),[G,q]=(0,r.useState)("popularity"),[H,K]=(0,r.useState)(!1),[W,X]=(0,r.useState)(!0),[Y,Q]=(0,r.useState)(0),[$,J]=(0,r.useState)({total:0,male:0,female:0,unisex:0}),[Z,ee]=(0,r.useState)(0),[te,ne]=(0,r.useState)(!1),[re,ie]=(0,r.useState)(!1),[ae,oe]=(0,r.useState)(0),[se,le]=(0,r.useState)(0),[,ce]=(0,r.useState)({}),[ue,he]=(0,r.useState)(!1),[de,pe]=(0,r.useState)(1),[fe]=(0,r.useState)(10),[me,ge]=(0,r.useState)(!1),[ye,ve]=(0,r.useState)(!1),[be,we]=(0,r.useState)(new Set),[Se,xe]=(0,r.useState)(!1),[Ee,ke]=(0,r.useState)([]),Ce=(0,a.Zp)(),{user:Ae,isAuthenticated:Te,login:Pe,logout:Ie,isSyncing:_e,syncError:Ne,manualSync:Re,clearCache:De}=(0,o.A)();(0,r.useEffect)(()=>{(()=>{try{console.log("HomePage: Starting to load names..."),X(!0);const e=A.A.getPopularNames(1e3);console.log("HomePage: Got ".concat(e.length," popular names"));const t=e.filter(e=>!T.A.isDisliked(e.name)&&!T.A.isFavorite(e.name));R(e),O(t),Q(A.A.getTotalNames()),console.log("HomePage: Names set, stopping loading spinner..."),X(!1),setTimeout(()=>{console.log("HomePage: Starting background database load..."),A.A.loadFullDatabase().then(()=>{const e=A.A.getAllNames(25e4);console.log("HomePage: Loaded ".concat(e.length," names in background"));const t=e.filter(e=>!T.A.isDisliked(e.name)&&!T.A.isFavorite(e.name));R(e),O(t),Q(A.A.getTotalNames());const n=A.A.getGenderCounts();J(n),ee(n.total),I.startProcessing().then(()=>{console.log("HomePage: Unisex processing started in background");const e=A.A.getGenderCounts();J(e)})}).catch(e=>{console.error("HomePage: Error loading full database:",e)})},100)}catch(e){console.error("HomePage: Error in loadNames:",e),X(!1)}})()},[]),(0,r.useEffect)(()=>{const e=()=>{oe(T.A.getFavoritesCount()),le(T.A.getDislikesCount())};e(),window.addEventListener("storage",e),window.addEventListener("cloudDataUpdate",e);const t=()=>{ve(!0),setTimeout(()=>ve(!1),600),e()};return window.addEventListener("favoriteAdded",t),()=>{window.removeEventListener("storage",e),window.removeEventListener("cloudDataUpdate",e),window.removeEventListener("favoriteAdded",t)}},[]),(0,r.useEffect)(()=>{if(P.length>0){const e=new Map;P.forEach(t=>{const n=t.origin||"Unknown";e.set(n,(e.get(n)||0)+1)});const t=Array.from(e.entries()).map(e=>{let[t,n]=e;return{origin:t,count:n}}).sort((e,t)=>t.count-e.count);ke(t)}},[P]);const Me=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[...e];if(t)return n;if(t&&n.some(e=>e.searchPriority)){const e=n.filter(e=>1===e.searchPriority),t=n.filter(e=>2===e.searchPriority),r=n.filter(e=>!e.searchPriority),i=e=>{let t=[...e];switch(G){case"alphabetical":t=t.sort((e,t)=>e.name.localeCompare(t.name));break;case"random":for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}}return H&&"random"!==G&&(t=t.reverse()),t};return[...i(e),...i(t),...i(r)]}switch(G){case"alphabetical":n=n.sort((e,t)=>e.name.localeCompare(t.name));break;case"random":for(let e=n.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[n[e],n[t]]=[n[t],n[e]]}return n;default:n=n.sort((e,t)=>(e.popularityRank||999999)-(t.popularityRank||999999))}return H&&(n=n.reverse()),n},[G,H]);(0,r.useEffect)(()=>{(async()=>{let e=P;e=re?e.filter(e=>T.A.isFavorite(e.name)):e.filter(e=>!T.A.isDisliked(e.name)&&!T.A.isFavorite(e.name)),n&&(e=await A.A.searchNames(n),e=e.filter(e=>!T.A.isDisliked(e.name)&&!T.A.isFavorite(e.name))),"all"!==B&&(e=e.filter(e=>{if("unisex"===B)return A.A.isUnisexName(e);if("object"===typeof e.gender&&e.gender){const t=(e.gender.Male||0)>(e.gender.Female||0);return"male"===B?t:!t}return!1})),be.size>0&&(e=e.filter(e=>{if(!e.origin)return!1;return(Array.isArray(e.origin)?e.origin:[e.origin]).some(e=>be.has(e.trim()))})),e=Me(e,!!n),O(e),oe(T.A.getFavoritesCount()),ee(e.length)})()},[n,B,P,G,H,Me,re,ae,se,be]),(0,r.useEffect)(()=>{pe(1)},[n]),(0,r.useEffect)(()=>{if(0===P.length)return;const e=new Map;P.forEach(t=>{if(t.origin){(Array.isArray(t.origin)?t.origin:[t.origin]).forEach(t=>{if(t&&t.trim()){const n=t.trim();e.set(n,(e.get(n)||0)+1)}})}});const t=Array.from(e.entries()).map(e=>{let[t,n]=e;return{origin:t,count:n}}).sort((e,t)=>t.count-e.count);ke(t)},[P]);const Fe=e=>{if(z(e),pe(1),"all"!==e&&!n){const t=A.A.getNamesByGender(e);O(t)}},Oe=Math.ceil(F.length/fe),Le=(de-1)*fe,Ue=Le+fe,je=F.slice(Le,Ue),Ve=e=>{pe(e),window.scrollTo({top:600,behavior:"smooth"})},Be=e=>{we(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}),pe(1)};return(0,D.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 overflow-x-hidden",children:[(0,D.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,D.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),(0,D.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),(0,D.jsx)("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),(0,D.jsx)("header",{className:"bg-white/90 backdrop-blur-sm fixed top-0 left-0 right-0 z-50 border-b border-gray-100",children:(0,D.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,D.jsxs)("div",{className:"flex items-center justify-between",children:[(0,D.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,D.jsxs)("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",title:"Scroll to top",children:[(0,D.jsx)(l.A,{className:"h-6 w-6 sm:h-7 sm:w-7 text-purple-500"}),(0,D.jsx)("h1",{className:"text-lg font-light tracking-wide text-gray-900",children:"babynames"})]}),(0,D.jsxs)("button",{onClick:()=>Ce("/favorites"),className:"flex items-center gap-2 text-sm transition-all ".concat(ae>0?"text-pink-500 hover:text-pink-600":"text-gray-600 hover:text-gray-900"),title:"View favorites",children:[(0,D.jsx)(c.A,{className:"transition-all ".concat(ye?"animate-heartbeat":""," ").concat(ae>0?"fill-pink-500":""),style:{width:"1.15rem",height:"1.15rem"}}),(0,D.jsx)("span",{className:ae>0?"font-medium":"",children:ae})]})]}),(0,D.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,D.jsx)("button",{onClick:()=>{p(!s),s&&i("")},className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",title:s?"Close search":"Search names",children:s?(0,D.jsx)(u.A,{className:"w-4 h-4"}):(0,D.jsx)(h.A,{className:"w-4 h-4"})}),(0,D.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",children:[(0,D.jsx)("button",{onClick:()=>Ce("/dislikes"),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Dislikes"}),(0,D.jsx)("button",{className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Origins"}),Te&&Ae?(0,D.jsxs)("div",{className:"flex items-center gap-4",children:[Ae.picture?(0,D.jsx)("img",{src:Ae.picture,alt:Ae.name,className:"w-8 h-8 rounded-full",onError:e=>{e.currentTarget.style.display="none"}}):(0,D.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-600 text-sm",children:null===(e=Ae.name)||void 0===e?void 0:e.charAt(0).toUpperCase()}),(0,D.jsx)("button",{onClick:Ie,className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Logout"})]}):(0,D.jsx)("button",{onClick:Pe,className:"text-sm text-gray-900 hover:text-gray-600 transition-colors",children:"Sign in"})]})]}),(0,D.jsx)("button",{onClick:()=>he(!ue),className:"md:hidden p-2 text-gray-700 hover:text-purple-600",children:ue?(0,D.jsx)(u.A,{className:"w-6 h-6"}):(0,D.jsx)(d.A,{className:"w-6 h-6"})})]}),ue&&(0,D.jsx)("div",{className:"md:hidden mt-4 pt-4 border-t border-gray-200",children:(0,D.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,D.jsxs)("button",{onClick:()=>{Ce("/favorites"),he(!1)},className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-purple-50 rounded-lg transition-colors",children:[(0,D.jsx)(c.A,{className:"w-4 h-4"}),"Favorites ",ae>0&&"(".concat(ae,")")]}),(0,D.jsxs)("button",{onClick:()=>{Ce("/dislikes"),he(!1)},className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-purple-50 rounded-lg transition-colors",children:[(0,D.jsx)(u.A,{className:"w-4 h-4"}),"Dislikes ",se>0&&"(".concat(se,")")]}),(0,D.jsx)("button",{className:"text-left px-4 py-2 text-gray-700 hover:bg-purple-50 rounded-lg transition-colors",children:"By Origin"}),(0,D.jsx)("button",{className:"text-left px-4 py-2 text-gray-700 hover:bg-purple-50 rounded-lg transition-colors",children:"AI Assistant"}),Te&&Ae?(0,D.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 border-t pt-4",children:[(0,D.jsxs)("div",{className:"flex items-center gap-2",children:[Ae.picture?(0,D.jsx)("img",{src:Ae.picture,alt:Ae.name,className:"w-8 h-8 rounded-full",onError:e=>{e.currentTarget.style.display="none"}}):(0,D.jsx)("div",{className:"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 font-bold text-sm",children:null===(t=Ae.name)||void 0===t?void 0:t.charAt(0).toUpperCase()}),(0,D.jsx)("span",{className:"text-sm font-medium text-gray-700",children:Ae.name})]}),(0,D.jsx)("button",{onClick:()=>{Ie(),he(!1)},className:"text-red-600 text-sm font-medium hover:text-red-700",children:"Logout"})]}):(0,D.jsx)("button",{onClick:()=>{Pe(),he(!1)},className:"mx-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Sign in with Google"})]})})]})}),(0,D.jsx)(k.N,{children:s&&(0,D.jsx)(C.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"fixed top-[57px] left-0 right-0 z-40 bg-white border-b border-gray-200 overflow-hidden",children:(0,D.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,D.jsxs)("div",{className:"relative",children:[(0,D.jsx)(h.A,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,D.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),onKeyDown:e=>{"Escape"===e.key&&(p(!1),i(""))},placeholder:"Search for a name...",className:"w-full pl-12 pr-4 py-3 text-base border border-gray-200 rounded-lg bg-gray-50 focus:bg-white focus:outline-none focus:border-gray-400 font-light placeholder:text-gray-400 transition-all duration-200",autoFocus:!0}),n&&(0,D.jsx)("button",{onClick:()=>i(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,D.jsx)(u.A,{className:"w-4 h-4"})})]}),n&&(0,D.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Found ",F.length,' names matching "',n,'"']})]})})}),(0,D.jsxs)("section",{className:"relative ".concat(s?"pt-48":"pt-32"," pb-16 px-4 min-h-[75vh] overflow-hidden transition-all duration-200"),children:[(0,D.jsx)("div",{className:"absolute inset-0 z-0",children:(0,D.jsx)(Je,{})}),(0,D.jsx)("div",{className:"absolute inset-0 z-[1] pointer-events-none",children:["Emma","Noah","Olivia","Liam","Sophia","Ethan","Isabella","Mason","Mia","Lucas"].map((e,t)=>(0,D.jsx)(C.P.div,{initial:{opacity:0},animate:{opacity:[.2,.4,.2],x:[0,100,0],y:[0,-50,0]},transition:{duration:10+2*t,repeat:1/0,delay:.5*t,ease:"easeInOut"},className:"absolute text-purple-400/30 font-light",style:{left:"".concat(10+15*t,"%"),top:"".concat(20+t%3*25,"%"),fontSize:"".concat(1.5+t%2*.5,"rem")},children:e},e))}),(0,D.jsx)("div",{className:"absolute inset-0 z-[2] bg-gradient-to-b from-white/60 to-white/80"}),(0,D.jsxs)("div",{className:"relative z-10 max-w-4xl mx-auto text-center pt-12",children:[(0,D.jsxs)(C.P.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-5xl md:text-7xl font-light mb-6 tracking-tight",children:[(0,D.jsx)("span",{className:"text-gray-900",children:"Find the"}),(0,D.jsx)("br",{}),(0,D.jsx)("span",{className:"font-medium bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"perfect name"})]}),(0,D.jsxs)(C.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.1},className:"text-lg text-gray-600 mb-12 font-light",children:[Z.toLocaleString()," curated names with meaning"]}),(0,D.jsxs)(C.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:"flex justify-center gap-6 mb-8 text-sm",children:[(0,D.jsx)("button",{onClick:()=>Fe("all"),className:"transition-all duration-200 ".concat("all"===B?"text-gray-900 font-medium border-b-2 border-purple-600":"text-gray-500 hover:text-gray-700"),children:"All"}),(0,D.jsx)("button",{onClick:()=>Fe("male"),className:"transition-all duration-200 ".concat("male"===B?"text-gray-900 font-medium border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),children:"Boys"}),(0,D.jsx)("button",{onClick:()=>Fe("female"),className:"transition-all duration-200 ".concat("female"===B?"text-gray-900 font-medium border-b-2 border-pink-600":"text-gray-500 hover:text-gray-700"),children:"Girls"}),(0,D.jsx)("button",{onClick:()=>Fe("unisex"),className:"transition-all duration-200 ".concat("unisex"===B?"text-gray-900 font-medium border-b-2 border-violet-600":"text-gray-500 hover:text-gray-700"),children:"Unisex"})]}),Ee.length>0&&(0,D.jsxs)(C.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.35},className:"w-full max-w-4xl mx-auto mt-8",children:[(0,D.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,D.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"Filter by Origin"}),be.size>0&&(0,D.jsxs)("button",{onClick:()=>{we(new Set),pe(1)},className:"text-xs text-purple-600 hover:text-purple-700 font-medium",children:["Clear All (",be.size,")"]})]}),(0,D.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center",children:[Ee.slice(0,6).map(e=>{let{origin:t,count:n}=e;const r=be.has(t),i={Hebrew:"from-purple-500 to-purple-600",Spanish:"from-red-500 to-pink-600",Latin:"from-amber-500 to-yellow-600",Germanic:"from-green-500 to-emerald-600",Greek:"from-blue-500 to-indigo-600",English:"from-rose-500 to-pink-600"}[t]||"from-gray-500 to-gray-600";return(0,D.jsx)("button",{onClick:()=>Be(t),className:"\n                        relative px-4 py-2 rounded-full text-sm font-medium\n                        transition-all duration-200 transform hover:scale-105\n                        ".concat(r?"bg-gradient-to-r ".concat(i," text-white shadow-lg"):"bg-white border border-gray-200 text-gray-700 hover:border-gray-300","\n                      "),children:(0,D.jsxs)("span",{className:"flex items-center gap-2",children:[r&&(0,D.jsx)(f,{className:"w-3 h-3"}),t,(0,D.jsxs)("span",{className:"text-xs ".concat(r?"text-white/80":"text-gray-500"),children:["(",n,")"]})]})},t)}),Ee.length>6&&(0,D.jsxs)("button",{onClick:()=>xe(!Se),className:"px-4 py-2 rounded-full text-sm font-medium bg-white border border-gray-200 text-gray-700 hover:border-gray-300 transition-all duration-200 flex items-center gap-2",children:[Se?"Show Less":"More Origins (".concat(Ee.length-6,")"),(0,D.jsx)(m,{className:"w-4 h-4 transition-transform duration-200\n                                 ".concat(Se?"rotate-180":"")})]})]}),(0,D.jsx)(k.N,{children:Se&&Ee.length>6&&(0,D.jsx)(C.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"mt-4 overflow-hidden",children:(0,D.jsx)("div",{className:"flex flex-wrap gap-2 justify-center p-4 bg-gray-50 rounded-lg",children:Ee.slice(6).map(e=>{let{origin:t,count:n}=e;const r=be.has(t);return(0,D.jsx)("button",{onClick:()=>Be(t),className:"\n                              px-3 py-1.5 rounded-full text-sm\n                              transition-all duration-200\n                              ".concat(r?"bg-purple-100 text-purple-700 border border-purple-300":"bg-white border border-gray-200 text-gray-600 hover:border-gray-300","\n                            "),children:(0,D.jsxs)("span",{className:"flex items-center gap-1.5",children:[r&&(0,D.jsx)(f,{className:"w-3 h-3"}),t,(0,D.jsxs)("span",{className:"text-xs text-gray-500",children:["(",n,")"]})]})},t)})})})})]}),(0,D.jsxs)(C.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"flex flex-col sm:flex-row gap-3 w-full max-w-xl mx-auto mt-2",children:[(0,D.jsx)("button",{className:"w-full py-4 rounded-full text-sm font-light bg-white text-gray-900 border border-gray-200 hover:border-gray-400 transition-all duration-200",children:"Browse Names"}),(0,D.jsx)("button",{onClick:()=>Ce("/swipe"),className:"w-full py-4 rounded-full text-sm font-light bg-white text-gray-900 border border-gray-200 hover:border-gray-400 transition-all duration-200",children:"Swipe Mode"})]}),(0,D.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4 mt-8",children:[(0,D.jsxs)("div",{className:"flex items-center gap-2",children:[(0,D.jsx)("span",{className:"text-sm text-gray-600 font-medium",children:"Sort:"}),(0,D.jsxs)("div",{className:"flex rounded-lg overflow-hidden shadow-md",children:[(0,D.jsxs)("button",{onClick:()=>{"popularity"===G?K(!H):(q("popularity"),K(!1))},className:"px-3 sm:px-4 py-2 flex items-center gap-1 sm:gap-2 text-sm font-medium transition-all ".concat("popularity"===G?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),title:"popularity"===G&&H?"Least popular first":"Most popular first",children:[(0,D.jsx)(g.A,{className:"w-4 h-4 transition-transform ".concat("popularity"===G&&H?"rotate-180":"")}),(0,D.jsxs)("span",{className:"hidden sm:inline",children:["Popular","popularity"===G&&H?" \u2193":""]})]}),(0,D.jsxs)("button",{onClick:()=>{"alphabetical"===G?K(!H):(q("alphabetical"),K(!1))},className:"px-3 sm:px-4 py-2 flex items-center gap-1 sm:gap-2 text-sm font-medium transition-all border-l ".concat("alphabetical"===G?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),title:"alphabetical"===G&&H?"Sort Z to A":"Sort A to Z",children:[(0,D.jsx)(y.A,{className:"w-4 h-4 transition-transform ".concat("alphabetical"===G&&H?"rotate-180":"")}),(0,D.jsx)("span",{className:"hidden sm:inline",children:"alphabetical"===G&&H?"Z\u2192A":"A\u2192Z"})]}),(0,D.jsxs)("button",{onClick:()=>{q("random"),K(!1)},className:"px-3 sm:px-4 py-2 flex items-center gap-1 sm:gap-2 text-sm font-medium transition-all border-l ".concat("random"===G?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),title:"Shuffle randomly",children:[(0,D.jsx)(v.A,{className:"w-4 h-4 ".concat("random"===G?"animate-pulse":"")}),(0,D.jsx)("span",{className:"hidden sm:inline",children:"Shuffle"})]})]})]}),(0,D.jsxs)("div",{className:"relative",children:[(0,D.jsxs)("button",{onClick:()=>{ne(!0),setTimeout(()=>ne(!1),2e3)},className:"px-4 py-2 bg-white border-2 border-purple-300 text-gray-700 rounded-lg hover:border-purple-400 hover:shadow-md transition-all flex items-center gap-2 font-medium",children:[(0,D.jsx)(b,{className:"w-4 h-4"}),(0,D.jsx)("span",{children:"Filters"})]}),te&&(0,D.jsx)("div",{className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm whitespace-nowrap shadow-lg animate-bounce",children:"Filters coming soon! \ud83d\ude80"})]})]})]})]}),(0,D.jsx)("section",{className:"py-12 px-4",children:(0,D.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,D.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,D.jsx)("h3",{className:"text-3xl font-bold text-gray-800",children:re?"Your Favorite Names":n?"Search Results":"Popular Names"}),(0,D.jsx)("span",{className:"text-gray-500",children:F.length>0?"".concat(Z.toLocaleString()," names found"):""})]}),W&&0===F.length?(0,D.jsx)("div",{className:"text-center py-20",children:(0,D.jsxs)("div",{className:"inline-flex items-center gap-3 text-gray-500",children:[(0,D.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),(0,D.jsx)("span",{className:"text-lg",children:"Loading names..."})]})}):0===F.length?(0,D.jsxs)("div",{className:"text-center py-20",children:[(0,D.jsx)(w,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,D.jsx)("p",{className:"text-xl text-gray-500",children:"No names found matching your search"}),(0,D.jsx)("button",{onClick:()=>i(""),className:"mt-4 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Clear Search"})]}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:(0,D.jsx)(k.N,{mode:"popLayout",children:je.map((e,t)=>(0,D.jsx)(C.P.div,{layout:!0,initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{duration:.08,layout:{type:"spring",stiffness:800,damping:40}},children:(0,D.jsx)(_.A,{name:e,onClick:e=>{U(e),V(t+Le)},filterContext:B,onFavoriteToggle:()=>{oe(T.A.getFavoritesCount()),le(T.A.getDislikesCount()),setTimeout(()=>{ce({})},120)},onDislikeToggle:()=>{oe(T.A.getFavoritesCount()),le(T.A.getDislikesCount()),setTimeout(()=>{ce({})},120)}})},e.name))})}),(0,D.jsx)("div",{className:"mt-16 mb-8",children:(0,D.jsxs)("div",{className:"flex flex-col items-center space-y-6",children:[(0,D.jsxs)("div",{className:"text-center",children:[(0,D.jsxs)("p",{className:"text-lg text-gray-700 mb-2",children:["Showing ",(0,D.jsx)("span",{className:"font-bold text-purple-600",children:(de-1)*fe+1})," to"," ",(0,D.jsx)("span",{className:"font-bold text-purple-600",children:Math.min(de*fe,Z)})," of"," ",(0,D.jsx)("span",{className:"font-bold text-purple-600",children:Z.toLocaleString()})," beautiful names"]}),Oe>1&&(0,D.jsxs)("p",{className:"text-sm text-gray-500",children:["Page ",de," of ",Oe]})]}),Oe>1&&(0,D.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,D.jsx)("button",{onClick:()=>Ve(de-1),disabled:1===de,className:"\n                          flex items-center justify-center px-4 py-3 rounded-lg font-medium transition-all duration-200\n                          ".concat(1===de?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gradient-to-r hover:from-purple-50 hover:to-pink-50 hover:text-purple-600 shadow-md hover:shadow-lg border border-gray-200 hover:border-purple-200","\n                        "),children:"\u2190 Previous"}),(0,D.jsx)("div",{className:"flex items-center space-x-1",children:(()=>{const e=[],t=Math.min(Oe,7);for(let n=0;n<t;n++)Oe<=7||de<=4?e.push(n+1):de>=Oe-3?e.push(Oe-6+n):e.push(de-3+n);return e.map(e=>e<1||e>Oe?null:(0,D.jsx)("button",{onClick:()=>Ve(e),className:"\n                                  flex items-center justify-center w-12 h-12 rounded-lg font-bold transition-all duration-200 text-sm\n                                  ".concat(de===e?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg transform scale-110":"bg-white text-gray-700 hover:bg-gradient-to-r hover:from-purple-50 hover:to-pink-50 hover:text-purple-600 shadow-md hover:shadow-lg border border-gray-200 hover:border-purple-200 hover:scale-105","\n                                "),children:e},e))})()}),(0,D.jsx)("button",{onClick:()=>Ve(de+1),disabled:de===Oe,className:"\n                          flex items-center justify-center px-4 py-3 rounded-lg font-medium transition-all duration-200\n                          ".concat(de===Oe?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gradient-to-r hover:from-purple-50 hover:to-pink-50 hover:text-purple-600 shadow-md hover:shadow-lg border border-gray-200 hover:border-purple-200","\n                        "),children:"Next \u2192"})]}),Oe>10&&(0,D.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,D.jsx)("span",{className:"text-sm text-gray-600",children:"Jump to page:"}),(0,D.jsx)("input",{type:"number",min:"1",max:Oe,value:de,onChange:e=>{const t=parseInt(e.target.value);t>=1&&t<=Oe&&Ve(t)},className:"w-20 px-3 py-2 text-center border border-gray-300 rounded-lg focus:outline-none focus:border-purple-400 focus:ring-2 focus:ring-purple-200"}),(0,D.jsxs)("span",{className:"text-sm text-gray-600",children:["of ",Oe]})]}),(0,D.jsx)("div",{className:"w-full max-w-md h-px bg-gradient-to-r from-transparent via-purple-200 to-transparent"})]})})]})]})}),(0,D.jsx)(N.A,{name:L,names:F,currentIndex:j,onClose:()=>U(null),onNavigate:e=>{e>=0&&e<F.length&&(U(F[e]),V(e))},onFavoriteToggle:()=>{oe(T.A.getFavoritesCount()),le(T.A.getDislikesCount())},onDislikeToggle:()=>{oe(T.A.getFavoritesCount()),le(T.A.getDislikesCount())}}),me&&(0,D.jsx)(M,{onComplete:e=>{ge(!1),Ce("/names",{state:{preferences:e}})},onClose:()=>ge(!1)}),(0,D.jsx)("section",{className:"py-6 px-4 bg-white/90",children:(0,D.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,D.jsx)("div",{className:"text-center mb-4",children:(0,D.jsx)("h2",{className:"text-lg font-light text-gray-700",children:"Trusted by 2 Million Parents"})}),(0,D.jsx)("div",{className:"flex justify-center items-center",children:(0,D.jsxs)("div",{className:"flex flex-row items-center gap-8 md:gap-12",children:[(0,D.jsxs)("div",{className:"flex items-center gap-2",children:[(0,D.jsx)("div",{className:"w-8 h-8 rounded-full border border-blue-200 flex items-center justify-center",children:(0,D.jsx)(S,{className:"w-4 h-4 text-blue-400",strokeWidth:1.5})}),(0,D.jsx)("span",{className:"text-sm text-gray-600 font-light whitespace-nowrap",children:"Expert Verified"})]}),(0,D.jsxs)("div",{className:"flex items-center gap-2",children:[(0,D.jsx)("div",{className:"w-8 h-8 rounded-full border border-pink-200 flex items-center justify-center",children:(0,D.jsx)(x.A,{className:"w-4 h-4 text-pink-400",strokeWidth:1.5})}),(0,D.jsx)("span",{className:"text-sm text-gray-600 font-light whitespace-nowrap",children:"AI Insights"})]}),(0,D.jsxs)("div",{className:"flex items-center gap-2",children:[(0,D.jsx)("div",{className:"w-8 h-8 rounded-full border border-blue-200 flex items-center justify-center",children:(0,D.jsx)(c.A,{className:"w-4 h-4 text-blue-400",strokeWidth:1.5})}),(0,D.jsx)("span",{className:"text-sm text-gray-600 font-light whitespace-nowrap",children:"Emotional Match"})]}),(0,D.jsx)("div",{className:"h-6 w-px bg-gray-200"}),(0,D.jsxs)("div",{className:"flex items-center gap-2",children:[(0,D.jsx)(E,{className:"w-4 h-4 text-pink-400",strokeWidth:1.5}),(0,D.jsxs)("span",{className:"text-sm font-light",children:[(0,D.jsx)("span",{className:"text-gray-900",children:"4.9/5"}),(0,D.jsx)("span",{className:"text-gray-500 ml-1",children:"\xb7 2,847 reviews"})]})]})]})})]})}),(0,D.jsx)("section",{className:"py-16 px-4",children:(0,D.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,D.jsx)("h2",{className:"text-3xl font-bold text-center mb-10 text-gray-800",children:"Everything You Need to Know About Choosing a Baby Name"}),(0,D.jsxs)("div",{className:"space-y-6",children:[(0,D.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,D.jsx)("h3",{className:"text-xl font-bold mb-3 text-purple-600",children:"How do I choose the perfect baby name?"}),(0,D.jsx)("p",{className:"text-gray-600",children:"Start with names that have personal meaning. Consider family heritage, sound with your surname, and future nicknames. Our AI chat helps narrow down from 164,374 clean English options to your perfect match."})]}),(0,D.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,D.jsx)("h3",{className:"text-xl font-bold mb-3 text-purple-600",children:"What are the most popular baby names in 2025?"}),(0,D.jsx)("p",{className:"text-gray-600",children:"Top trending names include Olivia, Emma, and Luna for girls; Liam, Noah, and Oliver for boys. Use our real-time popularity tracker to see what's rising in your area."})]}),(0,D.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,D.jsx)("h3",{className:"text-xl font-bold mb-3 text-purple-600",children:"Should I choose a unique or popular name?"}),(0,D.jsx)("p",{className:"text-gray-600",children:"Both have benefits. Popular names are familiar and accepted; unique names stand out. Our database includes rare gems and classics - find your perfect balance."})]}),(0,D.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,D.jsx)("h3",{className:"text-xl font-bold mb-3 text-purple-600",children:"When should I decide on a baby name?"}),(0,D.jsx)("p",{className:"text-gray-600",children:"Many parents choose by the third trimester, but there's no rush. Some wait until meeting their baby. Start exploring early to avoid last-minute stress."})]})]})]})}),(0,D.jsx)("section",{className:"py-20 px-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:(0,D.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,D.jsx)("h2",{className:"text-4xl font-bold mb-6",children:"Your Baby's Name Journey Starts Here"}),(0,D.jsxs)("p",{className:"text-xl mb-8 opacity-95",children:["Join thousands of parents discovering the perfect name every day.",(0,D.jsx)("br",{}),"Free AI assistance. No sign-up required. Start now."]}),(0,D.jsx)("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"px-8 py-4 bg-white text-purple-600 rounded-full text-lg font-bold hover:shadow-2xl transition-all transform hover:scale-105",children:"Find My Baby's Name Now \u2192"}),(0,D.jsxs)("div",{className:"mt-8 flex justify-center gap-8 text-sm opacity-90",children:[(0,D.jsx)("span",{children:"\u2713 164,374 Names"}),(0,D.jsx)("span",{children:"\u2713 Instant Results"}),(0,D.jsx)("span",{children:"\u2713 100% Free"})]})]})}),(0,D.jsx)("section",{className:"py-8 px-4 bg-white/90 backdrop-blur-sm border-t border-gray-100",children:(0,D.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,D.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("h3",{className:"text-2xl font-light text-gray-900",children:$.total.toLocaleString()}),(0,D.jsx)("p",{className:"text-sm text-gray-600 font-light mt-1",children:"Unique Names"})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("h3",{className:"text-2xl font-light text-gray-900",children:"105"}),(0,D.jsx)("p",{className:"text-sm text-gray-600 font-light mt-1",children:"Countries"})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("h3",{className:"text-2xl font-light text-gray-900",children:"100%"}),(0,D.jsx)("p",{className:"text-sm text-gray-600 font-light mt-1",children:"Gender Data"})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("h3",{className:"text-2xl font-light text-gray-900",children:"2025"}),(0,D.jsx)("p",{className:"text-sm text-gray-600 font-light mt-1",children:"Latest Data"})]})]})})}),(0,D.jsx)("footer",{className:"bg-gray-900 text-white py-12",children:(0,D.jsxs)("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[(0,D.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,D.jsx)(l.A,{className:"h-8 w-8"}),(0,D.jsx)("h3",{className:"text-2xl font-bold",children:"BabyNames 2025"})]}),(0,D.jsx)("p",{className:"mb-4 text-lg",children:"Your Trusted Partner in Finding the Perfect Baby Name"}),(0,D.jsxs)("div",{className:"flex justify-center gap-8 mb-6 text-sm",children:[(0,D.jsx)("a",{href:"#",className:"hover:text-purple-400",children:"Privacy Policy"}),(0,D.jsx)("a",{href:"#",className:"hover:text-purple-400",children:"Terms of Service"}),(0,D.jsx)("a",{href:"#",className:"hover:text-purple-400",children:"Contact Us"}),(0,D.jsx)("a",{href:"#",className:"hover:text-purple-400",children:"Blog"})]}),(0,D.jsxs)("p",{className:"text-xs opacity-60",children:["\xa9 2025 BabyNames. Helping parents worldwide find perfect names since 2020.",(0,D.jsx)("br",{}),"Data sourced from global naming registries and cultural databases."]})]})})]})},et=()=>(0,D.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:(0,D.jsxs)("div",{className:"text-center",children:[(0,D.jsx)("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-purple-500 mb-4"}),(0,D.jsx)("p",{className:"text-xl font-semibold text-gray-700 animate-pulse",children:"Loading..."})]})}),tt=(0,r.lazy)(()=>Promise.all([n.e(560),n.e(269)]).then(n.bind(n,2269))),nt=(0,r.lazy)(()=>n.e(514).then(n.bind(n,2514))),rt=(0,r.lazy)(()=>n.e(83).then(n.bind(n,3083))),it=(0,r.lazy)(()=>n.e(300).then(n.bind(n,7300))),at=(0,r.lazy)(()=>n.e(822).then(n.bind(n,1822)));const ot=function(){return(0,D.jsx)(s.t,{children:(0,D.jsx)(o.O,{children:(0,D.jsx)(a.Kd,{basename:"/babyname2",children:(0,D.jsx)("div",{className:"App min-h-screen bg-gradient-to-br from-purple-50 to-pink-50",children:(0,D.jsx)(r.Suspense,{fallback:(0,D.jsx)(et,{}),children:(0,D.jsxs)(a.BV,{children:[(0,D.jsx)(a.qh,{path:"/",element:(0,D.jsx)(Ze,{})}),(0,D.jsx)(a.qh,{path:"/names",element:(0,D.jsx)(tt,{})}),(0,D.jsx)(a.qh,{path:"/favorites",element:(0,D.jsx)(nt,{})}),(0,D.jsx)(a.qh,{path:"/dislikes",element:(0,D.jsx)(rt,{})}),(0,D.jsx)(a.qh,{path:"/debug",element:(0,D.jsx)(it,{})}),(0,D.jsx)(a.qh,{path:"/swipe",element:(0,D.jsx)(at,{})})]})})})})})})};i.createRoot(document.getElementById("root")).render((0,D.jsx)(r.StrictMode,{children:(0,D.jsx)(ot,{})}))})();