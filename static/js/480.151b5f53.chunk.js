/*! For license information please see 480.151b5f53.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksoulseed=self.webpackChunksoulseed||[]).push([[480],{855:(e,t,s)=>{s.d(t,{A:()=>l});s(9950);var a=s(4184),r=s(1538),n=s(1066),o=s(4414);const l=()=>{const{scrollY:e}=(0,r.L)(),t=(0,n.G)(e,[0,1e3],[0,-100]),s=(0,n.G)(e,[0,1e3],[0,-300]),l=(0,n.G)(e,[0,1e3],[0,-500]),i=(0,n.G)(e,[0,1e3],[0,-700]),c=(0,n.G)(e,[0,1e3],[0,50]);return(0,o.jsxs)("div",{className:"fixed inset-0 -z-10 overflow-hidden pointer-events-none",children:[(0,o.jsxs)(a.P.div,{style:{y:t},className:"absolute inset-0",children:[(0,o.jsx)("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full blur-3xl opacity-10"}),(0,o.jsx)("div",{className:"absolute bottom-40 right-20 w-[500px] h-[500px] bg-pink-300 rounded-full blur-3xl opacity-10"}),(0,o.jsx)("div",{className:"absolute top-1/2 left-1/2 w-80 h-80 bg-blue-300 rounded-full blur-3xl opacity-10 -translate-x-1/2 -translate-y-1/2"})]}),(0,o.jsx)(a.P.div,{style:{y:s},className:"absolute inset-0",children:[...Array(20)].map((e,t)=>(0,o.jsx)(a.P.div,{className:"absolute w-16 h-16 bg-gradient-to-br from-purple-400/20 to-pink-400/20 rounded-full blur-md",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%")},animate:{x:[0,30,0],y:[0,-30,0]},transition:{duration:10+t,repeat:1/0,ease:"easeInOut",repeatType:"mirror"}},t))}),(0,o.jsx)(a.P.div,{style:{y:l},className:"absolute inset-0",children:[...Array(50)].map((e,t)=>(0,o.jsx)("div",{className:"absolute w-2 h-2 bg-white rounded-full opacity-30",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%")}},t))}),(0,o.jsx)(a.P.div,{style:{y:i,rotate:c},className:"absolute inset-0",children:[...Array(8)].map((e,t)=>(0,o.jsx)("div",{className:"absolute w-32 h-32 bg-gradient-to-br from-white/10 to-transparent border border-white/20 backdrop-blur-sm",style:{left:"".concat(90*Math.random(),"%"),top:"".concat(90*Math.random(),"%"),transform:"rotate(".concat(360*Math.random(),"deg)")}},t))})]})}},2607:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(6230).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5462:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(6230).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5536:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(6230).A)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},5692:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(6230).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},6480:(e,t,s)=>{s.r(t),s.d(t,{default:()=>R});var a=s(9379),r=s(9950),n=s(9396),o=s(2856),l=s(4184),i=s(6429),c=s(9680),d=s(2828),m=s(5462),x=s(8935),u=s(9975),h=s(6890),p=s(7737),g=s(6230);const b=(0,g.A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var f=s(5692),v=s(6149),y=s(8651);function j(){const e="soulseed_voter_id",t=localStorage.getItem(e);if(t)return t;const s=function(){var e;const t={userAgent:navigator.userAgent,language:navigator.language,languages:(null===(e=navigator.languages)||void 0===e?void 0:e.join(","))||"",platform:navigator.platform,screenResolution:"".concat(screen.width,"x").concat(screen.height),colorDepth:screen.colorDepth,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timezoneOffset:(new Date).getTimezoneOffset(),timestamp:Date.now(),random:Math.random().toString(36).substring(7)};return JSON.stringify(t)}(),a="voter_".concat(function(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t&=t;return Math.abs(t).toString(36)}(s),"_").concat(Date.now().toString(36));return localStorage.setItem(e,a),a}function N(e){return"soulseed_vote_".concat(e)}var w=s(8694),k=s(4414);function A(e){if(!e)return"";try{var t;const s=(null===(t=e.toDate)||void 0===t?void 0:t.call(e))||new Date(e),a=(new Date).getTime()-s.getTime(),r=Math.floor(a/6e4),n=Math.floor(a/36e5),o=Math.floor(a/864e5);return r<1?"Just now":r<60?"".concat(r,"m ago"):n<24?"".concat(n,"h ago"):o<7?"".concat(o,"d ago"):s.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch(s){return""}}const S=e=>{let{voters:t,maxDisplay:s=30}=e;const[a,n]=(0,r.useState)(!1);if(!t||0===t.length)return null;const o=[...t].sort((e,t)=>{var s,a,r,n;const o=(null===(s=e.votedAt)||void 0===s||null===(a=s.toMillis)||void 0===a?void 0:a.call(s))||0;return((null===(r=t.votedAt)||void 0===r||null===(n=r.toMillis)||void 0===n?void 0:n.call(r))||0)-o}),l=o.slice(0,s),i=Math.max(0,o.length-s);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-40",children:(0,k.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-full px-6 py-3 shadow-lg border border-gray-200",children:(0,k.jsxs)("div",{className:"flex items-center gap-3",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,k.jsx)(u.A,{className:"w-4 h-4"}),(0,k.jsx)("span",{className:"font-medium",children:t.length}),(0,k.jsx)("span",{className:"hidden sm:inline",children:1===t.length?"Voter":"Voters"})]}),(0,k.jsxs)("div",{className:"flex items-center -space-x-2",children:[l.map((e,t)=>{var a;return(0,k.jsxs)("div",{className:"group relative",style:{zIndex:s-t},children:[e.avatar?(0,k.jsx)("img",{src:e.avatar,alt:e.name||"Voter",className:"w-8 h-8 rounded-full border-2 border-white shadow-sm hover:scale-110 transition-transform cursor-pointer",loading:"lazy"}):(0,k.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-gradient-to-br from-purple-400 to-pink-400 flex items-center justify-center text-white text-xs font-bold shadow-sm hover:scale-110 transition-transform cursor-pointer",children:(null===(a=e.name)||void 0===a?void 0:a.charAt(0).toUpperCase())||"?"}),(0,k.jsx)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:(0,k.jsxs)("div",{className:"bg-gray-900 text-white text-xs rounded-lg px-3 py-1.5 whitespace-nowrap shadow-lg",children:[e.name||"Anonymous Voter",(0,k.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1",children:(0,k.jsx)("div",{className:"w-2 h-2 bg-gray-900 rotate-45"})})]})})]},e.id)}),i>0&&(0,k.jsxs)("button",{onClick:()=>n(!0),className:"w-8 h-8 rounded-full border-2 border-white bg-gray-100 flex items-center justify-center text-gray-600 text-xs font-bold shadow-sm hover:scale-110 hover:bg-gray-200 transition-all cursor-pointer",style:{zIndex:0},children:["+",i]})]})]})})}),a&&(0,k.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,k.jsxs)("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden shadow-2xl",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[(0,k.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,k.jsx)(u.A,{className:"w-5 h-5"}),"All Voters (",t.length,")"]}),(0,k.jsx)("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,k.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,k.jsx)("div",{className:"overflow-y-auto max-h-[calc(80vh-80px)]",children:(0,k.jsx)("div",{className:"p-6 space-y-3",children:o.map(e=>{var t;return(0,k.jsxs)("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[e.avatar?(0,k.jsx)("img",{src:e.avatar,alt:e.name||"Voter",className:"w-12 h-12 rounded-full border-2 border-gray-200 shadow-sm",loading:"lazy"}):(0,k.jsx)("div",{className:"w-12 h-12 rounded-full border-2 border-gray-200 bg-gradient-to-br from-purple-400 to-pink-400 flex items-center justify-center text-white text-lg font-bold shadow-sm",children:(null===(t=e.name)||void 0===t?void 0:t.charAt(0).toUpperCase())||"?"}),(0,k.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,k.jsx)("p",{className:"font-medium text-gray-900 truncate",children:e.name||"Anonymous Voter"}),e.votedAt&&(0,k.jsx)("p",{className:"text-sm text-gray-500",children:A(e.votedAt)})]})]},e.id)})})})]})})]})};var V=s(8818),P=s(1586),C=s(855),M=s(5536);const I=(0,g.A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var O=s(2607);const z=e=>{let{name:t,meaning:s,origin:a,currentVotes:r,totalVotes:n,rank:o,onIncrement:i,onDecrement:c,canIncrement:d,maxVotesReached:m}=e;const x=1===o&&n>0,u=r>0,h=n>0?r/n*100:0;return(0,k.jsxs)(l.P.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative p-6 rounded-2xl backdrop-blur-xl border-2 transition-all ".concat(x?"bg-gradient-to-br from-yellow-100/40 to-orange-100/40 border-yellow-400 shadow-[0_0_30px_rgba(251,191,36,0.3)]":u?"bg-gradient-to-br from-purple-100/30 to-pink-100/30 border-purple-400/50":"bg-white/20 border-white/30"),children:[(0,k.jsx)("div",{className:"absolute -top-3 -left-3",children:(0,k.jsx)(l.P.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},className:"w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg shadow-lg ".concat(x?"bg-gradient-to-br from-yellow-400 to-orange-500 text-white":"bg-gradient-to-br from-purple-500 to-pink-500 text-white"),children:x?(0,k.jsx)(M.A,{className:"w-6 h-6"}):"#".concat(o)})}),x&&(0,k.jsx)(l.P.div,{className:"absolute -top-8 right-4",animate:{y:[0,-10,0],rotate:[0,5,0,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:(0,k.jsx)(v.A,{className:"w-8 h-8 text-yellow-500 drop-shadow-lg"})}),(0,k.jsxs)("div",{className:"mb-4 pr-16",children:[(0,k.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:t}),s&&(0,k.jsxs)("p",{className:"text-sm text-gray-600 italic mb-1",children:['"',s,'"']}),a&&(0,k.jsx)("p",{className:"text-xs text-gray-500",children:a})]}),(0,k.jsxs)("div",{className:"mb-4",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,k.jsxs)("span",{className:"text-sm font-semibold text-gray-700",children:[r," ",1===r?"vote":"votes"]}),(0,k.jsxs)("span",{className:"text-sm font-semibold text-purple-600",children:[h.toFixed(1),"%"]})]}),(0,k.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:(0,k.jsx)(l.P.div,{initial:{width:0},animate:{width:"".concat(h,"%")},transition:{duration:.8,ease:"easeOut"},className:"h-full ".concat(x?"bg-gradient-to-r from-yellow-400 to-orange-500":"bg-gradient-to-r from-purple-500 to-pink-500")})})]}),(0,k.jsxs)("div",{className:"flex items-center gap-3",children:[(0,k.jsx)(l.P.button,{onClick:c,disabled:0===r,whileHover:{scale:r>0?1.1:1},whileTap:{scale:r>0?.9:1},className:"flex items-center justify-center w-12 h-12 rounded-xl font-bold text-lg transition-all ".concat(r>0?"bg-red-500 text-white hover:bg-red-600 shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"),children:(0,k.jsx)(I,{className:"w-5 h-5"})}),(0,k.jsx)("div",{className:"flex-1 text-center",children:(0,k.jsx)(l.P.div,{initial:{scale:1.5,opacity:0},animate:{scale:1,opacity:1},className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:r},r)}),(0,k.jsx)(l.P.button,{onClick:i,disabled:!d,whileHover:{scale:d?1.1:1},whileTap:{scale:d?.9:1},className:"flex items-center justify-center w-12 h-12 rounded-xl font-bold text-lg transition-all ".concat(d?"bg-gradient-to-r from-green-500 to-emerald-500 text-white hover:shadow-xl shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"),children:(0,k.jsx)(O.A,{className:"w-5 h-5"})})]}),m&&!u&&(0,k.jsx)(l.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 text-xs text-red-600 font-semibold text-center",children:"Vote limit reached! Remove votes to vote for this name."})]})};var T=s(7304),D=s(6479),F=s(2257),L=s(2737);const Y=[{id:"feels-right",emoji:"\u2764\ufe0f",text:"It just feels right in my heart",tone:"heartfelt"},{id:"bedtime",emoji:"\ud83c\udf19",text:"I can picture calling this name at bedtime",tone:"romantic"},{id:"strong-confident",emoji:"\ud83d\udcaa",text:"It sounds strong and confident",tone:"thoughtful"},{id:"unique-sweet-spot",emoji:"\u2728",text:"It's unique but not too out there",tone:"practical"},{id:"meaning",emoji:"\ud83d\udcd6",text:"I love the meaning and origin",tone:"thoughtful"},{id:"flows-perfectly",emoji:"\ud83c\udfb5",text:"It flows perfectly with the last name",tone:"practical"},{id:"reminds-special",emoji:"\ud83c\udf1f",text:"It reminds me of someone special",tone:"romantic"},{id:"beautiful",emoji:"\ud83c\udf38",text:"I just think it's beautiful",tone:"heartfelt"}],E=e=>{let{isOpen:t,nameName:s,onSubmit:a,onClose:n}=e;const[o,c]=(0,r.useState)(null),[d,m]=(0,r.useState)(""),[x,u]=(0,r.useState)(!1),h=()=>{c(null),m(""),u(!1),n()};return(0,k.jsx)(i.N,{children:t&&(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:h,className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:(0,k.jsxs)(l.P.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden flex flex-col",children:[(0,k.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 px-6 py-5 flex items-center justify-between flex-shrink-0",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,k.jsx)(T.A,{className:"w-6 h-6 text-white"}),(0,k.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["Why do you love ",(0,k.jsx)("span",{className:"underline",children:s}),"?"]})]}),(0,k.jsx)("button",{onClick:h,className:"text-white hover:bg-white/20 p-2 rounded-full transition",children:(0,k.jsx)(D.A,{className:"w-6 h-6"})})]}),(0,k.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[(0,k.jsx)("p",{className:"text-gray-600 text-center mb-4",children:"Pick a reason below or write your own! (Optional - you can skip)"}),(0,k.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Y.map((e,t)=>(0,k.jsxs)(l.P.button,{onClick:()=>(e=>{c(e),m(""),u(!1)})(e),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},whileHover:{scale:1.02},whileTap:{scale:.98},className:"\n                        p-4 rounded-xl text-left transition-all duration-200\n                        border-2 relative overflow-hidden\n                        ".concat((null===o||void 0===o?void 0:o.id)===e.id?"border-purple-500 bg-purple-100 shadow-lg":"border-gray-200 bg-white hover:border-purple-300 hover:shadow-md","\n                      "),children:[(null===o||void 0===o?void 0:o.id)===e.id&&(0,k.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-gradient-to-br from-purple-100 to-pink-100 -z-10"}),(0,k.jsxs)("div",{className:"flex items-start space-x-3 relative z-10",children:[(0,k.jsx)(l.P.span,{className:"text-3xl flex-shrink-0",animate:(null===o||void 0===o?void 0:o.id)===e.id?{scale:[1,1.2,1],rotate:[0,10,-10,0]}:{},transition:{duration:.5},children:e.emoji}),(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("p",{className:"font-semibold text-gray-800 leading-tight",children:e.text}),(0,k.jsx)("span",{className:"\n                            inline-block mt-1 px-2 py-0.5 rounded-full text-xs font-medium\n                            ".concat("heartfelt"===e.tone?"bg-pink-100 text-pink-700":"","\n                            ").concat("funny"===e.tone?"bg-yellow-100 text-yellow-700":"","\n                            ").concat("practical"===e.tone?"bg-blue-100 text-blue-700":"","\n                            ").concat("romantic"===e.tone?"bg-purple-100 text-purple-700":"","\n                            ").concat("thoughtful"===e.tone?"bg-green-100 text-green-700":"","\n                          "),children:e.tone})]})]})]},e.id))}),(0,k.jsxs)("div",{className:"flex items-center my-6",children:[(0,k.jsx)("div",{className:"flex-1 border-t-2 border-gray-200"}),(0,k.jsx)("span",{className:"px-4 text-gray-500 font-medium",children:"OR"}),(0,k.jsx)("div",{className:"flex-1 border-t-2 border-gray-200"})]}),(0,k.jsx)(i.N,{mode:"wait",children:x?(0,k.jsxs)(l.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2",children:[(0,k.jsx)("textarea",{value:d,onChange:e=>m(e.target.value),placeholder:"Share why you love this name...",maxLength:200,rows:3,autoFocus:!0,className:"w-full px-4 py-3 rounded-xl border-2 border-purple-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 outline-none resize-none text-gray-800 placeholder:text-gray-400"}),(0,k.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,k.jsx)("button",{onClick:()=>{u(!1),m("")},className:"text-purple-600 hover:text-purple-800 font-medium",children:"\u2190 Back to presets"}),(0,k.jsxs)("span",{className:"\n                          font-medium\n                          ".concat(d.length>180?"text-red-600":"text-gray-500","\n                        "),children:[d.length,"/200"]})]})]},"custom-input"):(0,k.jsx)(l.P.button,{onClick:()=>{u(!0),c(null)},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full px-6 py-4 rounded-xl bg-gradient-to-r from-purple-100 via-pink-100 to-blue-100 border-2 border-dashed border-purple-300 hover:border-purple-500 transition-all",children:(0,k.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,k.jsx)(T.A,{className:"w-5 h-5 text-purple-600"}),(0,k.jsx)("span",{className:"font-semibold text-purple-700",children:"Write your own reason"}),(0,k.jsx)(F.A,{className:"w-5 h-5 text-purple-600"})]})},"custom-button")})]}),(0,k.jsx)("div",{className:"border-t border-gray-200 p-6 bg-gray-50 flex-shrink-0",children:(0,k.jsxs)("div",{className:"flex gap-3",children:[(0,k.jsx)("button",{onClick:()=>{a(),h()},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 font-semibold rounded-xl hover:bg-gray-100 transition",children:"Skip"}),(0,k.jsxs)("button",{onClick:()=>{d.trim()?a(d.trim(),"custom"):o?a(o.text,"preset"):a(),h()},disabled:!o&&!d.trim(),className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,k.jsx)(L.A,{className:"w-5 h-5"}),"Submit Vote"]})]})})]})})})})};function R(){const{voteId:e}=(0,n.g)(),t=(0,n.Zp)(),s=(0,V.d)(),{user:g}=(0,P.A)(),[A,M]=(0,r.useState)(null),[I,O]=(0,r.useState)(!0),[T,D]=(0,r.useState)(null),[F,L]=(0,r.useState)([]),[Y,R]=(0,r.useState)({}),[_,H]=(0,r.useState)({}),[q,B]=(0,r.useState)(!1),[G,J]=(0,r.useState)(!1),[W,U]=(0,r.useState)([]),[Q,Z]=(0,r.useState)(!1),[K]=(0,r.useState)(j()),[X,$]=(0,r.useState)(!1),[ee,te]=(0,r.useState)(""),[se,ae]=(0,r.useState)([]),[re,ne]=(0,r.useState)({}),[oe,le]=(0,r.useState)({}),ie=(null===g||void 0===g?void 0:g.name)||void 0,ce=(null===g||void 0===g?void 0:g.picture)||void 0,de=(0,r.useMemo)(()=>A?A.pointsPerVoter||A.maxVotes||10:0,[A]),me=(0,r.useMemo)(()=>Object.values(_).reduce((e,t)=>e+t,0),[_]),xe=(0,r.useMemo)(()=>{if(!A)return[];return A.names.map(e=>{var t,s;const r=(null===(t=A.votes[e.name])||void 0===t?void 0:t.count)||0,n=(null===(s=A.votes[e.name])||void 0===s?void 0:s.totalPoints)||0,o=_[e.name]||0,l=A.pointsPerVoter?n+o:r+o;return(0,a.A)((0,a.A)({},e),{},{currentVotes:o,totalVotes:l})}).sort((e,t)=>t.totalVotes-e.totalVotes)},[A,_]),ue=(0,r.useMemo)(()=>xe.reduce((e,t)=>e+t.totalVotes,0),[xe]);(0,r.useEffect)(()=>{if(!e)return D("Invalid vote ID"),void O(!1);he()},[e]),(0,r.useEffect)(()=>{if(!e)return;const t=y.A.subscribeToVote(e,e=>{e&&(M(e),G&&pe())});return()=>t()},[e,G]);const he=async()=>{try{if(!e)return;O(!0),D(null);const t=await y.A.getVote(e);if(!t)return D("Vote not found"),void O(!1);M(t);const s=function(e){const t=N(e);return null!==localStorage.getItem(t)}(e);if(J(s),s){const t=function(e){const t=N(e),s=localStorage.getItem(t);if(!s)return null;try{return JSON.parse(s).selectedNames||null}catch(a){return null}}(e);t&&L(t),await pe()}O(!1)}catch(t){console.error("Error loading vote session:",t),D("Failed to load vote"),O(!1)}},pe=async()=>{try{if(!e)return;const t=await y.A.getResults(e);U(t)}catch(t){console.error("Error loading results:",t)}},ge=async()=>{try{if(!e||!A)return;B(!0),await y.A.submitVote({voteId:e,namePoints:_,voterId:K,voterName:ie,voterAvatar:ce,voteReasons:re,reasonTypes:oe});const t=Object.keys(_).filter(e=>_[e]>0);!function(e,t){const s=N(e),a={votedAt:(new Date).toISOString(),selectedNames:t,voterId:j()};localStorage.setItem(s,JSON.stringify(a))}(e,t),J(!0),await pe(),s.success("Your vote has been submitted!")}catch(t){console.error("Error submitting vote:",t),s.error(t instanceof Error?t.message:"Failed to submit vote")}finally{B(!1)}};return I?(0,k.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-4",children:(0,k.jsxs)("div",{className:"text-center",children:[(0,k.jsx)(c.A,{className:"w-12 h-12 animate-spin text-purple-600 mx-auto mb-4"}),(0,k.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading vote..."})]})}):T||!A?(0,k.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-4",children:(0,k.jsxs)("div",{className:"text-center max-w-md",children:[(0,k.jsx)(d.A,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,k.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Vote Not Found"}),(0,k.jsx)("p",{className:"text-gray-600 mb-6",children:T||"This vote session does not exist or has been removed."}),(0,k.jsx)("button",{onClick:()=>t("/"),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:shadow-lg transition",children:"Go to Home"})]})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(o.mg,{children:[(0,k.jsxs)("title",{children:["Vote on Baby Names - ",(null===A||void 0===A?void 0:A.title)||"Loading"," | SoulSeed"]}),(0,k.jsx)("meta",{name:"description",content:"Cast your vote and help choose the perfect baby name! Share your preferences in this interactive voting session."}),(0,k.jsx)("link",{rel:"canonical",href:"https://soulseedbaby.com/vote/".concat(e)})]}),(0,k.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative",children:[(0,k.jsx)(C.A,{}),(0,k.jsx)("div",{className:"bg-white shadow-md sticky top-0 z-40",children:(0,k.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,k.jsxs)("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition",children:[(0,k.jsx)(m.A,{className:"w-5 h-5"}),(0,k.jsx)("span",{className:"font-medium",children:"Back"})]}),(0,k.jsxs)("button",{onClick:()=>Z(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:shadow-md transition",children:[(0,k.jsx)(x.A,{className:"w-4 h-4"}),(0,k.jsx)("span",{className:"font-medium",children:"Share"})]})]})}),(0,k.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,k.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-6",children:[(0,k.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-3",children:A.title}),A.votingQuestion&&(0,k.jsx)(l.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-gradient-to-r from-purple-100 via-pink-100 to-blue-100 rounded-xl p-6 mb-6 border-2 border-purple-200",children:(0,k.jsxs)("div",{className:"flex items-start space-x-4",children:[A.questionEmoji&&(0,k.jsx)(l.P.span,{className:"text-5xl flex-shrink-0",animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,repeatType:"reverse"},children:A.questionEmoji}),(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("h2",{className:"text-2xl font-bold text-gray-800 leading-tight",children:A.votingQuestion}),"custom"===A.questionType&&(0,k.jsxs)("p",{className:"text-sm text-gray-600 mt-2 italic",children:["Custom question from ",A.createdByName]})]})]})}),A.description&&(0,k.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:A.description}),(0,k.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-6",children:[(0,k.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[(0,k.jsx)(u.A,{className:"w-5 h-5 text-purple-600 mb-1"}),(0,k.jsx)("div",{className:"text-2xl font-bold text-purple-700",children:A.totalVoters}),(0,k.jsx)("div",{className:"text-xs text-gray-600",children:"Voters"})]}),(0,k.jsxs)("div",{className:"bg-pink-50 rounded-lg p-4 border border-pink-200",children:[(0,k.jsx)(h.A,{className:"w-5 h-5 text-pink-600 mb-1"}),(0,k.jsx)("div",{className:"text-2xl font-bold text-pink-700",children:A.stats.totalVotesCast}),(0,k.jsx)("div",{className:"text-xs text-gray-600",children:"Total Votes"})]}),(0,k.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200 col-span-2 sm:col-span-1",children:[(0,k.jsx)(p.A,{className:"w-5 h-5 text-blue-600 mb-1"}),(0,k.jsx)("div",{className:"text-lg font-bold text-blue-700",children:(()=>{if(null===A||void 0===A||!A.expiresAt)return"No expiration";const e=new Date,t=A.expiresAt.toDate().getTime()-e.getTime();if(t<=0)return"Expired";const s=Math.floor(t/864e5),a=Math.floor(t%864e5/36e5);return s>0?"".concat(s," day").concat(s>1?"s":""," left"):a>0?"".concat(a," hour").concat(a>1?"s":""," left"):"Less than 1 hour left"})()}),(0,k.jsx)("div",{className:"text-xs text-gray-600",children:"Time Remaining"})]})]}),!G&&(0,k.jsx)("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-lg p-4 border-l-4 border-purple-600",children:A.pointsPerVoter?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("p",{className:"font-semibold text-gray-800",children:["\ud83d\udc49 You have ",A.pointsPerVoter," votes to distribute!"]}),(0,k.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Allocate votes to your favorite names. You can give all votes to one name or spread them across multiple!"})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("p",{className:"font-semibold text-gray-800",children:"single"===A.voteType?"\ud83d\udc49 Pick your favorite name!":"\ud83d\udc49 Pick your top ".concat(A.maxVotes," favorite").concat(A.maxVotes>1?"s":"","!")}),(0,k.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Click on names to select them, then submit your vote."})]})}),G&&(0,k.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 border-l-4 border-green-600 flex items-center gap-3",children:[(0,k.jsx)(b,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"font-semibold text-gray-800",children:"Your vote has been recorded!"}),A.pointsPerVoter?(0,k.jsxs)("p",{className:"text-sm text-gray-600",children:["Your points: ",Object.entries(Y).filter(e=>{let[t,s]=e;return s>0}).map(e=>{let[t,s]=e;return"".concat(t," (").concat(s,")")}).join(", ")]}):(0,k.jsxs)("p",{className:"text-sm text-gray-600",children:["You voted for: ",F.join(", ")]})]})]})]}),G?(0,k.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[(0,k.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[(0,k.jsx)(v.A,{className:"w-7 h-7 text-yellow-500"}),"Live Results"]}),(0,k.jsx)("div",{className:"space-y-3",children:W.map((e,t)=>{const s=F.includes(e.name),a=0===t?"\ud83e\udd47":1===t?"\ud83e\udd48":2===t?"\ud83e\udd49":null;return(0,k.jsx)(l.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"relative p-4 rounded-lg border-2 ".concat(s?"border-purple-400 bg-purple-50":"border-gray-200 bg-gray-50"),children:(0,k.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[a&&(0,k.jsx)("span",{className:"text-2xl",children:a}),(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,k.jsxs)("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[e.name,s&&(0,k.jsx)("span",{className:"text-xs bg-purple-200 text-purple-700 px-2 py-0.5 rounded-full",children:"Your pick"})]}),(0,k.jsxs)("span",{className:"text-sm font-semibold text-gray-700",children:[e.count," ",A.pointsPerVoter?"point":"vote",1!==e.count?"s":""]})]}),(0,k.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:(0,k.jsx)(l.P.div,{initial:{width:0},animate:{width:"".concat(e.percentage,"%")},transition:{duration:.8,ease:"easeOut"},className:"h-full ".concat(s?"bg-gradient-to-r from-purple-500 to-pink-500":"bg-gradient-to-r from-blue-400 to-blue-600")})}),(0,k.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:[e.percentage.toFixed(1),"% of total ",A.pointsPerVoter?"points":"votes"]})]})]})},e.name)})}),(0,k.jsxs)("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-100 to-pink-100 rounded-lg border border-purple-200",children:[(0,k.jsxs)("p",{className:"text-sm text-gray-700 text-center mb-3",children:["\ud83d\udca1 Help ",(0,k.jsx)("strong",{children:A.createdByName})," by sharing this vote!"]}),(0,k.jsx)("button",{onClick:()=>Z(!0),className:"w-full py-2 bg-white text-purple-700 font-semibold rounded-lg hover:shadow-md transition",children:"Share Vote \u2192"})]})]}):(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsxs)("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl p-6 border-2 border-purple-200",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,k.jsxs)("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[(0,k.jsx)(f.A,{className:"w-5 h-5 text-yellow-500"}),"Your Votes"]}),(0,k.jsxs)("div",{className:"text-right",children:[(0,k.jsxs)("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:[me," ",(0,k.jsxs)("span",{className:"text-xl text-gray-400",children:["/ ",de]})]}),(0,k.jsxs)("div",{className:"text-xs text-gray-500",children:[de-me," remaining"]})]})]}),(0,k.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,k.jsx)(l.P.div,{initial:{width:0},animate:{width:"".concat(me/de*100,"%")},transition:{duration:.5,ease:"easeOut"},className:"h-full ".concat(me>=de?"bg-gradient-to-r from-red-400 to-red-600":"bg-gradient-to-r from-purple-500 to-pink-500")})})]}),(0,k.jsxs)("div",{className:"bg-gradient-to-r from-purple-100/80 to-pink-100/80 backdrop-blur-sm rounded-xl p-4 border-l-4 border-purple-600",children:[(0,k.jsx)("p",{className:"font-semibold text-gray-800",children:"\ud83d\udc49 Click +/- to allocate your votes! Watch names climb the rankings in real-time!"}),(0,k.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["You have ",de," votes total. Spread them across your favorites or stack them all on one!"]})]}),(0,k.jsx)("div",{className:"space-y-4",children:(0,k.jsx)(i.N,{children:xe.map((e,t)=>{const r=t+1,n=me<de,o=me>=de&&0===e.currentVotes;return(0,k.jsx)(l.P.div,{layout:!0,layoutId:e.name,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{layout:{type:"spring",stiffness:300,damping:30}},children:(0,k.jsx)(z,{name:e.name,meaning:e.meaning,origin:e.origin,currentVotes:e.currentVotes,totalVotes:ue,rank:r,onIncrement:()=>(e=>{if(G)return;const t=_[e]||0;me+1>de?s.warning("Vote limit reached! You can only use ".concat(de," votes.")):H(s=>(0,a.A)((0,a.A)({},s),{},{[e]:t+1}))})(e.name),onDecrement:()=>(e=>{if(G)return;const t=_[e]||0;0!==t&&H(s=>(0,a.A)((0,a.A)({},s),{},{[e]:t-1}))})(e.name),canIncrement:n,maxVotesReached:o})},e.name)})})}),(0,k.jsx)(l.P.button,{onClick:async()=>{if(!e||!A)return;if(0===me)return void s.warning("Please allocate at least one vote");const t=Object.keys(_).filter(e=>_[e]>0);ae(t),ne({}),le({}),t.length>0&&(te(t[0]),$(!0))},disabled:q||0===me,className:"w-full py-5 rounded-2xl font-bold text-xl flex items-center justify-center gap-3 transition-all ".concat(me>0?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:shadow-2xl hover:shadow-purple-500/50 transform hover:scale-[1.02]":"bg-gray-200 text-gray-400 cursor-not-allowed"),whileTap:me>0?{scale:.98}:{},children:q?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(c.A,{className:"w-7 h-7 animate-spin"}),"Submitting..."]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(b,{className:"w-7 h-7"}),"Submit My Vote (",me," ",1===me?"vote":"votes",")"]})})]}),(0,k.jsx)("div",{className:"mt-8 text-center text-sm text-gray-600",children:(0,k.jsxs)("p",{children:["Powered by"," ",(0,k.jsx)("button",{onClick:()=>t("/"),className:"text-purple-600 font-semibold hover:underline",children:"SoulSeed"})," ","\u2022 Create your own vote with your favorites!"]})})]}),A.allVoters&&A.allVoters.length>0&&(0,k.jsx)(S,{voters:A.allVoters,maxDisplay:30}),(0,k.jsx)(w.A,{isOpen:Q,onClose:()=>Z(!1),voteId:e||"",title:A.title}),(0,k.jsx)(E,{isOpen:X,nameName:ee,onSubmit:(e,t)=>{e&&t&&(ne(t=>(0,a.A)((0,a.A)({},t),{},{[ee]:e})),le(e=>(0,a.A)((0,a.A)({},e),{},{[ee]:t})));const s=se.indexOf(ee)+1;s<se.length?te(se[s]):($(!1),ge())},onClose:()=>{$(!1),ae([]),ne({}),le({})}})]})]})}},6890:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(6230).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])}}]);