/*! For license information please see 822.a4c4e7e9.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksoulseed=self.webpackChunksoulseed||[]).push([[822],{1822:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var a=s(9950),l=s(1567),n=s(9305),r=s(7544),i=s(24),o=s(6794),c=s(7464);function d(e,t){[...t].reverse().forEach(s=>{const a=e.getVariant(s);a&&(0,o.U)(e,a),e.variantChildren&&e.variantChildren.forEach(e=>{d(e,t)})})}function m(){let e=!1;const t=new Set,s={subscribe:e=>(t.add(e),()=>{t.delete(e)}),start(s,a){(0,i.V)(e,"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.");const l=[];return t.forEach(e=>{l.push((0,c._)(e,s,{transitionOverride:a}))}),Promise.all(l)},set:s=>((0,i.V)(e,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),t.forEach(e=>{!function(e,t){Array.isArray(t)?d(e,t):"string"===typeof t?d(e,[t]):(0,o.U)(e,t)}(e,s)})),stop(){t.forEach(e=>{!function(e){e.values.forEach(e=>e.stop())}(e)})},mount:()=>(e=!0,()=>{e=!1,s.stop()})};return s}const x=function(){const e=(0,n.M)(m);return(0,r.E)(e.mount,[]),e};var h=s(1066),u=s(5838),f=s(9396),p=s(6230);const g=(0,p.A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var b=s(7304),v=s(6479);const w=(0,p.A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var y=s(5995),j=s(5328),k=s(1318),N=s(6747),C=s(5974),A=s(4414);const E=a.memo(e=>{let{name:t,isTop:s,isSecond:n,dragX:r,topCardX:i,onSwipeLeft:o,onSwipeRight:c,dragEnabled:d,onInfoClick:m}=e;const f=(0,l.d)(0),p=r||f,b=x(),v=(0,h.G)(p,[-200,0,200],[-25,0,25]),w=(0,h.G)(p,[-200,-100,0,100,200],[.5,1,1,1,.5]),y=(0,h.G)(p,[0,100],[0,1]),j=(0,h.G)(p,[-100,0],[1,0]),k=(0,l.d)(0),N=(0,h.G)(i||k,[-200,0,200],[1,.95,1]),C=(0,h.G)(i||k,[-200,0,200],[0,10,0]),E=(0,a.useCallback)((e,t)=>{const s=t.velocity.x,a=t.offset.x;Math.abs(s)>=300||Math.abs(a)>=50?a>0?(b.start({x:1e3,rotate:45,opacity:0,transition:{duration:.3}}).then(()=>{p.set(0)}),setTimeout(c,300)):(b.start({x:-1e3,rotate:-45,opacity:0,transition:{duration:.3}}).then(()=>{p.set(0)}),setTimeout(o,300)):b.start({x:0,rotate:0,transition:{type:"spring",stiffness:200,damping:25}})},[b,o,c,p]),S="object"===typeof t.gender?t.gender:null,F=((null===S||void 0===S?void 0:S.Male)||0)>((null===S||void 0===S?void 0:S.Female)||0),M=F?"from-blue-400 to-blue-600":"from-pink-400 to-pink-600",D=F?"bg-blue-50":"bg-pink-50";return(0,A.jsx)(u.P.div,{className:"absolute w-full h-full",style:{x:s?p:0,rotate:s?v:0,opacity:w,scale:n?N:1,y:n?C:0},drag:!(!d||!s)&&"x",dragConstraints:{left:-250,right:250},dragElastic:.5,dragMomentum:!1,onDragEnd:s?E:void 0,animate:b,children:(0,A.jsxs)("div",{className:"relative w-full h-full ".concat(D," rounded-2xl sm:rounded-3xl shadow-2xl border-2 border-white overflow-hidden"),children:[(0,A.jsx)("button",{onClick:e=>{e.stopPropagation(),m()},className:"absolute top-3 right-3 sm:top-4 sm:right-4 z-20 flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 bg-white/90 hover:bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110 active:scale-95",title:"View name details",children:(0,A.jsx)(g,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600"})}),s&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(u.P.div,{className:"absolute top-4 sm:top-8 left-4 sm:left-8 z-10",style:{opacity:j},children:(0,A.jsx)("div",{className:"text-red-500 border-3 sm:border-4 border-red-500 rounded-lg sm:rounded-xl px-3 py-1.5 sm:px-4 sm:py-2 font-bold text-2xl sm:text-4xl transform -rotate-12",children:"NOPE"})}),(0,A.jsx)(u.P.div,{className:"absolute top-4 sm:top-8 right-4 sm:right-8 z-10",style:{opacity:y},children:(0,A.jsx)("div",{className:"text-green-500 border-3 sm:border-4 border-green-500 rounded-lg sm:rounded-xl px-3 py-1.5 sm:px-4 sm:py-2 font-bold text-2xl sm:text-4xl transform rotate-12",children:"LIKE"})})]}),(0,A.jsxs)("div",{className:"h-1/3 bg-gradient-to-br ".concat(M," relative"),children:[(0,A.jsx)("div",{className:"absolute inset-0 bg-black opacity-10"}),(0,A.jsx)("div",{className:"absolute bottom-3 sm:bottom-4 left-0 right-0 text-center px-4",children:(0,A.jsx)("h2",{className:"text-3xl sm:text-5xl font-bold text-white drop-shadow-lg truncate",children:t.name})})]}),(0,A.jsxs)("div",{className:"p-4 sm:p-6 h-2/3 flex flex-col justify-between",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("div",{className:"flex justify-center mb-3 sm:mb-4",children:(0,A.jsxs)("span",{className:"px-3 py-1.5 sm:px-4 sm:py-2 rounded-full bg-gradient-to-r ".concat(M," text-white font-bold text-sm sm:text-lg"),children:["Rank #",t.popularityRank||999999]})}),t.meaning&&(0,A.jsx)("div",{className:"text-center mb-3 sm:mb-4",children:(0,A.jsxs)("p",{className:"text-base sm:text-xl italic text-gray-700 line-clamp-3",children:['"',t.meaning,'"']})}),t.origin&&(0,A.jsx)("div",{className:"text-center",children:(0,A.jsx)("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 sm:px-4 sm:py-2 bg-purple-100 rounded-full",children:(0,A.jsx)("span",{className:"text-xs sm:text-sm font-semibold text-purple-700",children:t.origin})})})]}),(0,A.jsx)("div",{className:"mt-auto",children:(0,A.jsxs)("div",{className:"flex gap-2 items-center justify-center",children:[(0,A.jsxs)("div",{className:"flex-1 text-center",children:[(0,A.jsx)("span",{className:"text-xs sm:text-sm text-gray-600",children:"Male"}),(0,A.jsx)("div",{className:"h-1.5 sm:h-2 bg-gray-200 rounded-full overflow-hidden mt-1",children:(0,A.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-400 to-blue-600",style:{width:"".concat(100*((null===S||void 0===S?void 0:S.Male)||0),"%")}})})]}),(0,A.jsxs)("div",{className:"flex-1 text-center",children:[(0,A.jsx)("span",{className:"text-xs sm:text-sm text-gray-600",children:"Female"}),(0,A.jsx)("div",{className:"h-1.5 sm:h-2 bg-gray-200 rounded-full overflow-hidden mt-1",children:(0,A.jsx)("div",{className:"h-full bg-gradient-to-r from-pink-400 to-pink-600",style:{width:"".concat(100*((null===S||void 0===S?void 0:S.Female)||0),"%")}})})]})]})})]})]})})});E.displayName="Card";const S=()=>{const e=(0,f.Zp)(),[t,s]=(0,a.useState)([]),[n,r]=(0,a.useState)(0),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[m,x]=(0,a.useState)([]),[h,p]=(0,a.useState)(null),[g,S]=(0,a.useState)(0),[F,M]=(0,a.useState)(0),D=(0,l.d)(0),T=(0,a.useCallback)((e,t)=>{let s=j.A.getPopularNames(e+t);return s=s.slice(e,e+t),s=k.A.filterOutLikedAndDisliked(s),s},[]);(0,a.useEffect)(()=>{(async()=>{o(!0);const e=T(0,500);s(e),M(500),o(!1)})()},[T]);const P=(0,a.useCallback)(()=>{n>100&&(s(e=>e.slice(n)),setTimeout(()=>{r(0)},0))},[n]),z=(0,a.useCallback)(()=>{if(t.length-n<=50){const e=T(F,300);e.length>0&&(s(t=>[...t,...e]),M(e=>e+300))}},[t.length,n,F,T]),G=(0,a.useCallback)(e=>{const s=t[n];if(!s)return;const a="right"===e?"like":"dislike";"right"===e?k.A.addFavorite(s.name):k.A.addDislike(s.name),x(e=>[...e,{name:s.name,action:a}].slice(-20)),d({name:s.name,action:a}),r(e=>e+1),setFavoritesCount(k.A.getFavoritesCount()),setDislikesCount(k.A.getDislikesCount()),setTimeout(()=>{z()},500)},[t,n,z]),X=(0,a.useCallback)(e=>{if(n>=t.length)return;const s=t[n],a=document.querySelector('[data-card-index="0"]');if(a){const t=a;t.style.transition="all 0.3s ease-out",t.style.transform="like"===e?"translateX(1000px) rotate(45deg)":"translateX(-1000px) rotate(-45deg)",t.style.opacity="0"}setTimeout(()=>{"like"===e?k.A.addFavorite(s.name):k.A.addDislike(s.name),x(t=>[...t,{name:s.name,action:e}].slice(-20)),d({name:s.name,action:e}),r(e=>e+1),window.dispatchEvent(new Event("storage")),setTimeout(()=>{z()},500)},300)},[t,n,z,P]),I=(0,a.useCallback)(()=>{if(0===m.length||0===n)return;const e=m[m.length-1];"like"===e.action?k.A.removeFavorite(e.name):k.A.removeDislikes(e.name),window.dispatchEvent(new Event("storage")),x(e=>e.slice(0,-1)),r(e=>Math.max(0,e-1))},[m,n]),L=(0,a.useMemo)(()=>t.slice(n,n+3).reverse(),[t,n]),R=(0,a.useCallback)((e,t)=>"".concat(e.name,"-").concat(n+t),[n]);return(0,A.jsxs)("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-50 to-pink-50 overflow-hidden flex flex-col",children:[(0,A.jsx)("div",{className:"flex-none",children:(0,A.jsx)(C.A,{title:"SoulSeed",showBackButton:!0})}),(0,A.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 px-3 sm:px-4",children:[(0,A.jsx)("div",{className:"flex-none text-center py-2",children:(0,A.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600",children:[n+1," / ",t.length]})}),(0,A.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center min-h-0 pb-2",children:[(0,A.jsx)("div",{className:"relative w-full max-w-xs sm:max-w-md h-full max-h-[65vh] sm:max-h-[580px]",children:i?(0,A.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,A.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):n<t.length?(0,A.jsx)(A.Fragment,{children:L.map((e,t)=>{const s=t===L.length-1,a=t===L.length-2,l=L.length-1-t;return(0,A.jsx)(u.P.div,{className:"absolute inset-0","data-card-index":l,initial:{scale:1-.05*l,y:10*l},animate:{scale:1-.05*l,y:10*l},transition:{duration:0},style:{zIndex:t+1},children:(0,A.jsx)(E,{name:e,isTop:s,isSecond:a,dragX:s?D:void 0,topCardX:a?D:void 0,onSwipeLeft:()=>G("left"),onSwipeRight:()=>G("right"),dragEnabled:!0,onInfoClick:()=>{p(e),S(n+l)}})},R(e,l))})}):(0,A.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,A.jsx)(b.A,{className:"w-16 h-16 text-purple-500 mb-4"}),(0,A.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"All done!"}),(0,A.jsx)("p",{className:"text-gray-600 mb-6",children:"You've reviewed all available names"}),(0,A.jsx)("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full font-bold hover:shadow-lg transition-all",children:"Back to Home"})]})}),!i&&n<t.length&&(0,A.jsxs)("div",{className:"flex-none w-full max-w-xs sm:max-w-md mt-3 sm:mt-6 pb-3 sm:pb-6",children:[(0,A.jsxs)("div",{className:"flex justify-between items-center px-4 sm:px-8",children:[(0,A.jsx)("button",{onClick:()=>X("dislike"),className:"flex items-center justify-center w-14 h-14 sm:w-16 sm:h-16 rounded-full bg-white border-3 sm:border-4 border-red-500 shadow-xl hover:scale-110 active:scale-95 transition-transform z-50",children:(0,A.jsx)(v.A,{className:"w-7 h-7 sm:w-8 sm:h-8 text-red-500 stroke-[3px]"})}),(0,A.jsx)("button",{onClick:I,disabled:0===m.length,className:"flex items-center justify-center w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-white shadow-xl transition-all z-50 ".concat(0===m.length?"border-2 border-gray-300 opacity-50 cursor-not-allowed":"border-3 sm:border-4 border-yellow-500 hover:scale-110 active:scale-95"),children:(0,A.jsx)(w,{className:"w-5 h-5 sm:w-6 sm:h-6 ".concat(0===m.length?"text-gray-400":"text-yellow-500"," stroke-[2.5px]")})}),(0,A.jsx)("button",{onClick:()=>X("like"),className:"flex items-center justify-center w-14 h-14 sm:w-16 sm:h-16 rounded-full bg-white border-3 sm:border-4 border-green-500 shadow-xl hover:scale-110 active:scale-95 transition-transform z-50",children:(0,A.jsx)(y.A,{className:"w-7 h-7 sm:w-8 sm:h-8 text-green-500 stroke-[2px]"})})]}),(0,A.jsx)("p",{className:"text-center text-xs sm:text-sm text-gray-500 mt-2 sm:mt-3 hidden sm:block",children:"Swipe or tap \u2022 Undo anytime"})]})]})]}),h&&(0,A.jsx)(N.A,{name:h,names:t,currentIndex:g,onClose:()=>p(null),onNavigate:e=>{e>=0&&e<t.length&&(p(t[e]),S(e))},onFavoriteToggle:()=>{setFavoritesCount(k.A.getFavoritesCount())},onDislikeToggle:()=>{setDislikesCount(k.A.getDislikesCount())}})]})}}}]);