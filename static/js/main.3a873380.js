/*! For license information please see main.3a873380.js.LICENSE.txt */
(()=>{"use strict";var e={85:(e,t,n)=>{var r=n(340),i=n(950),s=n(119);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(o(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var I=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var _=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case E:return"SuspenseList";case I:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case x:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return D(e(t))}catch(Sa){}}return null}var R=Array.isArray,M=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},F=[],j=-1;function V(e){return{current:e}}function U(e){0>j||(e.current=F[j],F[j]=null,j--)}function z(e,t){j++,F[j]=e.current,e.current=t}var B=V(null),H=V(null),q=V(null),G=V(null);function K(e,t){switch(z(q,t),z(H,e),z(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=oh(t=sh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(B),z(B,e)}function W(){U(B),U(H),U(q)}function X(e){null!==e.memoizedState&&z(G,e);var t=B.current,n=oh(t,e.type);t!==n&&(z(H,e),z(B,n))}function Y(e){H.current===e&&(U(B),U(H)),G.current===e&&(U(G),Yh._currentValue=O)}var Q=Object.prototype.hasOwnProperty,$=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,se=r.unstable_NormalPriority,oe=r.unstable_LowPriority,ae=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,he=null;function de(e){if("function"===typeof le&&ce(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~s)?i=ve(r):0!==(o&=a)?i=ve(o):n||0!==(n=a&~e)&&(i=ve(n)):0!==(a=r&~s)?i=ve(a):0!==o?i=ve(o):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ie(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ne(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _e(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ae(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:ud(e.type)}var Pe=Math.random().toString(36).slice(2),De="__reactFiber$"+Pe,Re="__reactProps$"+Pe,Me="__reactContainer$"+Pe,Le="__reactEvents$"+Pe,Oe="__reactListeners$"+Pe,Fe="__reactHandles$"+Pe,je="__reactResources$"+Pe,Ve="__reactMarker$"+Pe;function Ue(e){delete e[De],delete e[Re],delete e[Le],delete e[Oe],delete e[Fe]}function ze(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Me]||n[De]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wh(e);null!==e;){if(n=e[De])return n;e=wh(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[De]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function qe(e){var t=e[je];return t||(t=e[je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[Ve]=!0}var Ke=new Set,We={};function Xe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(We[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Qe,$e,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,Q.call(et,i)||!Q.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Qe)try{throw Error()}catch(Sa){var t=Sa.stack.trim().match(/\n( *(at )?)/);Qe=t&&t[1]||"",$e=-1<Sa.stack.indexOf("\n    at")?" (<anonymous>)":-1<Sa.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qe+e+$e}var st=!1;function ot(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(Sa){var r=Sa}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var l=o.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(Sa){return"\nError generating stack: "+Sa.message+"\n"+Sa.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?vt(e,o,ct(t)):null!=n?vt(e,o,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function yt(e,t,n,r,i,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(R(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Et(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&Et(e,s,t[s])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _t(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Rt=null;function Mt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Re]||null;if(!i)throw Error(o(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Ot(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Dt||null!==Rt)&&(Bc(),Dt&&(t=Dt,e=Rt,Rt=Dt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var jt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Vt=!1;if(jt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Md){Vt=!1}var zt=null,Bt=null,Ht=null;function qt(){if(Ht)return Ht;var e,t,n=Bt,r=n.length,i="value"in zt?zt.value:zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Wt(){return!1}function Xt(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Wt,this.isPropagationStopped=Wt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Yt,Qt,$t,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Xt(Jt),en=d({},Jt,{view:0,detail:0}),tn=Xt(en),nn=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Yt=e.screenX-$t.screenX,Qt=e.screenY-$t.screenY):Qt=Yt=0,$t=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),rn=Xt(nn),sn=Xt(d({},nn,{dataTransfer:0})),on=Xt(d({},en,{relatedTarget:0})),an=Xt(d({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Xt(d({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Xt(d({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function pn(){return fn}var mn=Xt(d({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Xt(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Xt(d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Xt(d({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Xt(d({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Xt(d({},Jt,{newState:0,oldState:0})),xn=[9,13,27,32],Sn=jt&&"CompositionEvent"in window,kn=null;jt&&"documentMode"in document&&(kn=document.documentMode);var En=jt&&"TextEvent"in window&&!kn,Cn=jt&&(!Sn||kn&&8<kn&&11>=kn),Tn=String.fromCharCode(32),In=!1;function Nn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Rn(e,t,n,r){Dt?Rt?Rt.push(r):Rt=[r]:Dt=r,0<(t=Gu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Ln=null;function On(e){Fu(e,0)}function Fn(e){if(dt(He(e)))return e}function jn(e,t){if("change"===e)return t}var Vn=!1;if(jt){var Un;if(jt){var zn="oninput"in document;if(!zn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),zn="function"===typeof Bn.oninput}Un=zn}else Un=!1;Vn=Un&&(!document.documentMode||9<document.documentMode)}function Hn(){Mn&&(Mn.detachEvent("onpropertychange",qn),Ln=Mn=null)}function qn(e){if("value"===e.propertyName&&Fn(Ln)){var t=[];Rn(t,Ln,e,Pt(e)),Ot(On,t)}}function Gn(e,t,n){"focusin"===e?(Hn(),Ln=n,(Mn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Hn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Ln)}function Wn(e,t){if("click"===e)return Fn(t)}function Xn(e,t){if("input"===e||"change"===e)return Fn(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Q.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=$n(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$n(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=jt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,or=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Qn(sr,r)||(sr=r,0<(r=Gu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},hr={};function dr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}jt&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=dr("animationend"),pr=dr("animationiteration"),mr=dr("animationstart"),gr=dr("transitionrun"),yr=dr("transitionstart"),vr=dr("transitioncancel"),br=dr("transitionend"),wr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){wr.set(e,t),Xe(t,[e])}xr.push("scrollEnd");var kr=new WeakMap;function Er(e,t){if("object"===typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},kr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Cr=[],Tr=0,Ir=0;function Nr(){for(var e=Tr,t=Ir=Tr=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var s=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==s&&Dr(n,i,s)}}function _r(e,t,n,r){Cr[Tr++]=e,Cr[Tr++]=t,Cr[Tr++]=n,Cr[Tr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return _r(e,t,n,r),Rr(e)}function Pr(e,t){return _r(e,null,null,t),Rr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Rr(e){if(50<Rc)throw Rc=0,Mc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(e,t,n,r){return new Lr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jr(e,t){var n=e.alternate;return null===n?((n=Or(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,i,s){var a=0;if(r=e,"function"===typeof e)Fr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case I:return(e=Or(31,n,t,i)).elementType=I,e.lanes=s,e;case g:return zr(n.children,i,s,t);case y:a=8,i|=24;break;case v:return(e=Or(12,n,t,2|i)).elementType=v,e.lanes=s,e;case k:return(e=Or(13,n,t,i)).elementType=k,e.lanes=s,e;case E:return(e=Or(19,n,t,i)).elementType=E,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case x:a=10;break e;case w:a=9;break e;case S:a=11;break e;case C:a=14;break e;case T:a=16,r=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Or(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function zr(e,t,n,r){return(e=Or(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Or(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=Or(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Gr=0,Kr=null,Wr=0,Xr=[],Yr=0,Qr=null,$r=1,Jr="";function Zr(e,t){qr[Gr++]=Wr,qr[Gr++]=Kr,Kr=e,Wr=t}function ei(e,t,n){Xr[Yr++]=$r,Xr[Yr++]=Jr,Xr[Yr++]=Qr,Qr=e;var r=$r;e=Jr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var s=32-fe(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$r=1<<32-fe(t)+i|n<<i|r,Jr=s+e}else $r=1<<s|n<<i|r,Jr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Kr;)Kr=qr[--Gr],qr[Gr]=null,Wr=qr[--Gr],qr[Gr]=null;for(;e===Qr;)Qr=Xr[--Yr],Xr[Yr]=null,Jr=Xr[--Yr],Xr[Yr]=null,$r=Xr[--Yr],Xr[Yr]=null}var ri=null,ii=null,si=!1,oi=null,ai=!1,li=Error(o(519));function ci(e){throw mi(Er(Error(o(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[De]=e,t[Re]=r,n){case"dialog":ju("cancel",t),ju("close",t);break;case"iframe":case"object":case"embed":ju("load",t);break;case"video":case"audio":for(n=0;n<Lu.length;n++)ju(Lu[n],t);break;case"source":ju("error",t);break;case"img":case"image":case"link":ju("error",t),ju("load",t);break;case"details":ju("toggle",t);break;case"input":ju("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":ju("invalid",t);break;case"textarea":ju("invalid",t),xt(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||$u(t.textContent,n)?(null!=r.popover&&(ju("beforetoggle",t),ju("toggle",t)),null!=r.onScroll&&ju("scroll",t),null!=r.onScrollEnd&&ju("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ci(e)}function hi(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(ai=!1);case 27:case 3:return void(ai=!0);default:ri=ri.return}}function di(e){if(e!==ri)return!1;if(!si)return hi(e),si=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ah(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),hi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,ph(e.type)?(e=bh,bh=null,ii=e):ii=n):ii=ri?vh(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,si=!1}function pi(){var e=oi;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),oi=null),e}function mi(e){null===oi?oi=[e]:oi.push(e)}var gi=V(null),yi=null,vi=null;function bi(e,t,n){z(gi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=gi.current,U(gi)}function xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var a=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),xi(s.return,n,e),r||(a=null);break e}s=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),xi(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function ki(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var l=i.type;Yn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===G.current){if(null===(a=i.alternate))throw Error(o(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Yh):e=[Yh])}i=i.return}null!==e&&Si(t,e,n,r),t.flags|=262144}function Ei(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return Ni(yi,e)}function Ii(e,t){return null===yi&&Ci(e),Ni(e,t)}function Ni(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(o(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var _i="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ai=r.unstable_scheduleCallback,Pi=r.unstable_NormalPriority,Di={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ri(){return{controller:new _i,data:new Map,refCount:0}}function Mi(e){e.refCount--,0===e.refCount&&Ai(Pi,function(){e.controller.abort()})}var Li=null,Oi=0,Fi=0,ji=null;function Vi(){if(0===--Oi&&null!==Li){null!==ji&&(ji.status="fulfilled");var e=Li;Li=null,Fi=0,ji=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ui=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Li){var n=Li=[];Oi=0,Fi=Au(),ji={status:"pending",value:void 0,then:function(e){n.push(e)}}}Oi++,t.then(Vi,Vi)}(0,t),null!==Ui&&Ui(e,t)};var zi=V(null);function Bi(){var e=zi.current;return null!==e?e:ic.pooledCache}function Hi(e,t){z(zi,null===t?zi.current:t.pool)}function qi(){var e=Bi();return null===e?null:{parent:Di._currentValue,pool:e}}var Gi=Error(o(460)),Ki=Error(o(474)),Wi=Error(o(542)),Xi={then:function(){}};function Yi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Qi(){}function $i(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Qi,Qi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Qi,Qi);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Ji=t,Gi}}var Ji=null;function Zi(){if(null===Ji)throw Error(o(459));var e=Ji;return Ji=null,e}function es(e){if(e===Gi||e===Wi)throw Error(o(483))}var ts=!1;function ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&rc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Rr(e),Dr(e,null,n),t}return _r(e,r,t,n),Rr(e)}function os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}function as(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ls=!1;function cs(){if(ls){if(null!==ji)throw ji}}function us(e,t,n,r){ls=!1;var i=e.updateQueue;ts=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var f=-536870913&a.lane,p=f!==a.lane;if(p?(oc&f)===f:(r&f)===f){0!==f&&f===Fi&&(ls=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(y,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,h,f):m)||void 0===f)break e;h=d({},h,f);break e;case 2:ts=!0}}null!==(f=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,o|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),pc|=o,e.lanes=o,e.memoizedState=h}}function hs(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function ds(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)hs(n[e],t)}var fs=V(null),ps=V(0);function ms(e,t){z(ps,e=dc),z(fs,t),dc=e|t.baseLanes}function gs(){z(ps,dc),z(fs,fs.current)}function ys(){dc=ps.current,U(fs),U(ps)}var vs=0,bs=null,ws=null,xs=null,Ss=!1,ks=!1,Es=!1,Cs=0,Ts=0,Is=null,Ns=0;function _s(){throw Error(o(321))}function As(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Ps(e,t,n,r,i,s){return vs=s,bs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?Ko:Wo,Es=!1,s=n(r,i),Es=!1,ks&&(s=Rs(t,n,r,i)),Ds(e),s}function Ds(e){M.H=Go;var t=null!==ws&&null!==ws.next;if(vs=0,xs=ws=bs=null,Ss=!1,Ts=0,Is=null,t)throw Error(o(300));null===e||Na||null!==(e=e.dependencies)&&Ei(e)&&(Na=!0)}function Rs(e,t,n,r){bs=e;var i=0;do{if(ks&&(Is=null),Ts=0,ks=!1,25<=i)throw Error(o(301));if(i+=1,xs=ws=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}M.H=Xo,s=t(n,r)}while(ks);return s}function Ms(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?Us(t):t,e=e.useState()[0],(null!==ws?ws.memoizedState:null)!==e&&(bs.flags|=1024),t}function Ls(){var e=0!==Cs;return Cs=0,e}function Os(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fs(e){if(Ss){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ss=!1}vs=0,xs=ws=bs=null,ks=!1,Ts=Cs=0,Is=null}function js(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xs?bs.memoizedState=xs=e:xs=xs.next=e,xs}function Vs(){if(null===ws){var e=bs.alternate;e=null!==e?e.memoizedState:null}else e=ws.next;var t=null===xs?bs.memoizedState:xs.next;if(null!==t)xs=t,ws=e;else{if(null===e){if(null===bs.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(ws=e).memoizedState,baseState:ws.baseState,baseQueue:ws.baseQueue,queue:ws.queue,next:null},null===xs?bs.memoizedState=xs=e:xs=xs.next=e}return xs}function Us(e){var t=Ts;return Ts+=1,null===Is&&(Is=[]),e=$i(Is,e,t),t=bs,null===(null===xs?t.memoizedState:xs.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?Ko:Wo),e}function zs(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Us(e);if(e.$$typeof===x)return Ti(e)}throw Error(o(438,String(e)))}function Bs(e){var t=null,n=bs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=N;return t.index++,n}function Hs(e,t){return"function"===typeof t?t(e):t}function qs(e){return Gs(Vs(),ws,e)}function Gs(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=a=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(oc&d)===d:(vs&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Fi&&(h=!0);else{if((vs&f)===f){u=u.next,f===Fi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,a=s):c=c.next=d,bs.lanes|=f,pc|=f}d=u.action,Es&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=s):c=c.next=f,bs.lanes|=d,pc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?a=s:c.next=l,!Yn(s,e.memoizedState)&&(Na=!0,h&&null!==(n=ji)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ks(e){var t=Vs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);Yn(s,t.memoizedState)||(Na=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ws(e,t,n){var r=bs,i=Vs(),s=si;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!Yn((ws||i).memoizedState,n);if(a&&(i.memoizedState=n,Na=!0),i=i.queue,yo(2048,8,Qs.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==xs&&1&xs.memoizedState.tag){if(r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Ys.bind(null,r,i,n,t),null),null===ic)throw Error(o(349));s||0!==(124&vs)||Xs(r,t,n)}return n}function Xs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ys(e,t,n,r){t.value=n,t.getSnapshot=r,$s(t)&&Js(e)}function Qs(e,t,n){return n(function(){$s(t)&&Js(e)})}function $s(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Js(e){var t=Pr(e,2);null!==t&&Fc(t,e,2)}function Zs(e){var t=js();if("function"===typeof e){var n=e;if(e=n(),Es){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t}function eo(e,t,n,r){return e.baseState=n,Gs(e,ws,"function"===typeof r?r:Hs)}function to(e,t,n,r,i){if(Bo(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==M.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,no(t,s)):(s.next=n.next,t.pending=n.next=s)}}function no(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=M.T,o={};M.T=o;try{var a=n(i,r),l=M.S;null!==l&&l(o,a),ro(e,t,a)}catch(c){so(e,t,c)}finally{M.T=s}}else try{ro(e,t,s=n(i,r))}catch(u){so(e,t,u)}}function ro(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){io(e,t,n)},function(n){return so(e,t,n)}):io(e,t,n)}function io(e,t,n){t.status="fulfilled",t.value=n,oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function so(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,oo(t),t=t.next}while(t!==r)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ao(e,t){return t}function lo(e,t){if(si){var n=ic.formState;if(null!==n){e:{var r=bs;if(si){if(ii){t:{for(var i=ii,s=ai;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=vh(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ii=vh(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=js()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:t},n.queue=r,n=Vo.bind(null,bs,r),r.dispatch=n,r=Zs(!1),s=zo.bind(null,bs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=js()).queue=i,n=to.bind(null,bs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function co(e){return uo(Vs(),ws,e)}function uo(e,t,n){if(t=Gs(e,t,ao)[0],e=qs(Hs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Us(t)}catch(Sa){if(Sa===Gi)throw Wi;throw Sa}else r=t;var i=(t=Vs()).queue,s=i.dispatch;return n!==t.memoizedState&&(bs.flags|=2048,po(9,{destroy:void 0,resource:void 0},ho.bind(null,i,n),null)),[r,s,e]}function ho(e,t){e.action=t}function fo(e){var t=Vs(),n=ws;if(null!==n)return uo(t,n,e);Vs(),t=t.memoizedState;var r=(n=Vs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function po(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mo(){return Vs().memoizedState}function go(e,t,n,r){var i=js();r=void 0===r?null:r,bs.flags|=e,i.memoizedState=po(1|t,{destroy:void 0,resource:void 0},n,r)}function yo(e,t,n,r){var i=Vs();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==ws&&null!==r&&As(r,ws.memoizedState.deps)?i.memoizedState=po(t,s,n,r):(bs.flags|=e,i.memoizedState=po(1|t,s,n,r))}function vo(e,t){go(8390656,8,e,t)}function bo(e,t){yo(2048,8,e,t)}function wo(e,t){return yo(4,2,e,t)}function xo(e,t){return yo(4,4,e,t)}function So(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ko(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,yo(4,4,So.bind(null,t,e),n)}function Eo(){}function Co(e,t){var n=Vs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&As(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function To(e,t){var n=Vs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&As(t,r[1]))return r[0];if(r=e(),Es){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r}function Io(e,t,n){return void 0===n||0!==(1073741824&vs)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),bs.lanes|=e,pc|=e,n)}function No(e,t,n,r){return Yn(n,t)?n:null!==fs.current?(e=Io(e,n,r),Yn(e,t)||(Na=!0),e):0===(42&vs)?(Na=!0,e.memoizedState=n):(e=Oc(),bs.lanes|=e,pc|=e,t)}function _o(e,t,n,r,i){var s=L.p;L.p=0!==s&&8>s?s:8;var o=M.T,a={};M.T=a,zo(e,!1,t,n);try{var l=i(),c=M.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Uo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Lc());else Uo(e,t,r,Lc())}catch(u){Uo(e,t,{then:function(){},status:"rejected",reason:u},Lc())}finally{L.p=s,M.T=o}}function Ao(){}function Po(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=Do(e).queue;_o(e,i,t,O,null===n?Ao:function(){return Ro(e),n(r)})}function Do(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ro(e){Uo(e,Do(e).next.queue,{},Lc())}function Mo(){return Ti(Yh)}function Lo(){return Vs().memoizedState}function Oo(){return Vs().memoizedState}function Fo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Lc(),r=ss(t,e=is(n),n);return null!==r&&(Fc(r,t,n),os(r,t,n)),t={cache:Ri()},void(e.payload=t)}t=t.return}}function jo(e,t,n){var r=Lc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bo(e)?Ho(t,n):null!==(n=Ar(e,t,n,r))&&(Fc(n,e,r),qo(n,t,r))}function Vo(e,t,n){Uo(e,t,n,Lc())}function Uo(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bo(e))Ho(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Yn(a,o))return _r(e,t,i,0),null===ic&&Nr(),!1}catch(l){}if(null!==(n=Ar(e,t,i,r)))return Fc(n,e,r),qo(n,t,r),!0}return!1}function zo(e,t,n,r){if(r={lane:2,revertLane:Au(),action:r,hasEagerState:!1,eagerState:null,next:null},Bo(e)){if(t)throw Error(o(479))}else null!==(t=Ar(e,n,r,2))&&Fc(t,e,2)}function Bo(e){var t=e.alternate;return e===bs||null!==t&&t===bs}function Ho(e,t){ks=Ss=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}var Go={readContext:Ti,use:zs,useCallback:_s,useContext:_s,useEffect:_s,useImperativeHandle:_s,useLayoutEffect:_s,useInsertionEffect:_s,useMemo:_s,useReducer:_s,useRef:_s,useState:_s,useDebugValue:_s,useDeferredValue:_s,useTransition:_s,useSyncExternalStore:_s,useId:_s,useHostTransitionStatus:_s,useFormState:_s,useActionState:_s,useOptimistic:_s,useMemoCache:_s,useCacheRefresh:_s},Ko={readContext:Ti,use:zs,useCallback:function(e,t){return js().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:vo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,go(4194308,4,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){go(4,2,e,t)},useMemo:function(e,t){var n=js();t=void 0===t?null:t;var r=e();if(Es){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=js();if(void 0!==n){var i=n(t);if(Es){de(!0);try{n(t)}finally{de(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=jo.bind(null,bs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},js().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,n=Vo.bind(null,bs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Eo,useDeferredValue:function(e,t){return Io(js(),e,t)},useTransition:function(){var e=Zs(!1);return e=_o.bind(null,bs,e.queue,!0,!1),js().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bs,i=js();if(si){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===ic)throw Error(o(349));0!==(124&oc)||Xs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,vo(Qs.bind(null,r,s,e),[e]),r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Ys.bind(null,r,s,n,t),null),n},useId:function(){var e=js(),t=ic.identifierPrefix;if(si){var n=Jr;t="\xab"+t+"R"+(n=($r&~(1<<32-fe($r)-1)).toString(32)+n),0<(n=Cs++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ns++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Mo,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=js();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=zo.bind(null,bs,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bs,useCacheRefresh:function(){return js().memoizedState=Fo.bind(null,bs)}},Wo={readContext:Ti,use:zs,useCallback:Co,useContext:Ti,useEffect:bo,useImperativeHandle:ko,useInsertionEffect:wo,useLayoutEffect:xo,useMemo:To,useReducer:qs,useRef:mo,useState:function(){return qs(Hs)},useDebugValue:Eo,useDeferredValue:function(e,t){return No(Vs(),ws.memoizedState,e,t)},useTransition:function(){var e=qs(Hs)[0],t=Vs().memoizedState;return["boolean"===typeof e?e:Us(e),t]},useSyncExternalStore:Ws,useId:Lo,useHostTransitionStatus:Mo,useFormState:co,useActionState:co,useOptimistic:function(e,t){return eo(Vs(),0,e,t)},useMemoCache:Bs,useCacheRefresh:Oo},Xo={readContext:Ti,use:zs,useCallback:Co,useContext:Ti,useEffect:bo,useImperativeHandle:ko,useInsertionEffect:wo,useLayoutEffect:xo,useMemo:To,useReducer:Ks,useRef:mo,useState:function(){return Ks(Hs)},useDebugValue:Eo,useDeferredValue:function(e,t){var n=Vs();return null===ws?Io(n,e,t):No(n,ws.memoizedState,e,t)},useTransition:function(){var e=Ks(Hs)[0],t=Vs().memoizedState;return["boolean"===typeof e?e:Us(e),t]},useSyncExternalStore:Ws,useId:Lo,useHostTransitionStatus:Mo,useFormState:fo,useActionState:fo,useOptimistic:function(e,t){var n=Vs();return null!==ws?eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bs,useCacheRefresh:Oo},Yo=null,Qo=0;function $o(e){var t=Qo;return Qo+=1,null===Yo&&(Yo=[]),$i(Yo,e,t)}function Jo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zo(e,t){if(t.$$typeof===f)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=jr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===g?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===T&&ea(s)===t.type)?(Jo(t=i(t,n.props),n),t.return=e,t):(Jo(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=zr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Jo(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Hr(t,e.mode,n)).return=e,t;case T:return d(e,t=(0,t._init)(t._payload),n)}if(R(t)||A(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,$o(t),n);if(t.$$typeof===x)return d(e,Ii(e,t),n);Zo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case T:return f(e,t,n=(i=n._init)(n._payload),r)}if(R(n)||A(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,$o(n),r);if(n.$$typeof===x)return f(e,t,Ii(e,n),r);Zo(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(R(r)||A(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,$o(r),i);if(r.$$typeof===x)return y(e,t,n,Ii(t,r),i);Zo(t,r)}return null}function v(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&ea(b)===c.type){n(l,c.sibling),Jo(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((h=zr(u.props.children,l.mode,h,u.key)).return=l,l=h):(Jo(h=Ur(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return a(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Hr(u,l.mode,h)).return=l,l=h}return a(l);case T:return v(l,c,u=(b=u._init)(u._payload),h)}if(R(u))return function(i,o,a,l){for(var c=null,u=null,h=o,p=o=0,m=null;null!==h&&p<a.length;p++){h.index>p?(m=h,h=null):m=h.sibling;var g=f(i,h,a[p],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),o=s(g,o,p),null===u?c=g:u.sibling=g,u=g,h=m}if(p===a.length)return n(i,h),si&&Zr(i,p),c;if(null===h){for(;p<a.length;p++)null!==(h=d(i,a[p],l))&&(o=s(h,o,p),null===u?c=h:u.sibling=h,u=h);return si&&Zr(i,p),c}for(h=r(h);p<a.length;p++)null!==(m=y(h,i,p,a[p],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?p:m.key),o=s(m,o,p),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach(function(e){return t(i,e)}),si&&Zr(i,p),c}(l,c,u,h);if(A(u)){if("function"!==typeof(b=A(u)))throw Error(o(150));return function(i,a,l,c){if(null==l)throw Error(o(151));for(var u=null,h=null,p=a,m=a=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),a=s(b,a,m),null===h?u=b:h.sibling=b,h=b,p=g}if(v.done)return n(i,p),si&&Zr(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,c))&&(a=s(v,a,m),null===h?u=v:h.sibling=v,h=v);return si&&Zr(i,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),a=s(v,a,m),null===h?u=v:h.sibling=v,h=v);return e&&p.forEach(function(e){return t(i,e)}),si&&Zr(i,m),u}(l,c,u=b.call(u),h)}if("function"===typeof u.then)return v(l,c,$o(u),h);if(u.$$typeof===x)return v(l,c,Ii(l,u),h);Zo(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=Br(u,l.mode,h)).return=l,l=h),a(l)):n(l,c)}return function(e,t,n,r){try{Qo=0;var i=v(e,t,n,r);return Yo=null,i}catch(Sa){if(Sa===Gi||Sa===Wi)throw Sa;var s=Or(29,Sa,null,e.mode);return s.lanes=r,s.return=e,s}}}var na=ta(!0),ra=ta(!1),ia=V(null),sa=null;function oa(e){var t=e.alternate;z(ua,1&ua.current),z(ia,e),null===sa&&(null===t||null!==fs.current||null!==t.memoizedState)&&(sa=e)}function aa(e){if(22===e.tag){if(z(ua,ua.current),z(ia,e),null===sa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(sa=e)}}else la()}function la(){z(ua,ua.current),z(ia,ia.current)}function ca(e){U(ia),sa===e&&(sa=null),U(ua)}var ua=V(0);function ha(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yh(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function da(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lc(),i=is(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Fc(t,e,r),os(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lc(),i=is(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Fc(t,e,r),os(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lc(),r=is(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ss(e,r,n))&&(Fc(t,e,n),os(t,e,n))}};function pa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(i,s))}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var ya="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function va(e){ya(e)}function ba(e){console.error(e)}function wa(e){ya(e)}function xa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ka(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ea(e,t,n){return(n=is(n)).tag=3,n.payload={element:null},n.callback=function(){xa(e,t)},n}function Ca(e){return(e=is(e)).tag=3,e}function Ta(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){ka(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){ka(t,n,r),"function"!==typeof i&&(null===Cc?Cc=new Set([this]):Cc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ia=Error(o(461)),Na=!1;function _a(e,t,n,r){t.child=null===e?ra(t,null,n,r):na(t,e.child,n,r)}function Aa(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return Ci(t),r=Ps(e,t,n,o,s,i),a=Ls(),null===e||Na?(si&&a&&ti(t),t.flags|=1,_a(e,t,r,i),t.child):(Os(e,t,i),Qa(e,t,i))}function Pa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Fr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Da(e,t,s,r,i))}if(s=e.child,!$a(e,i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(o,r)&&e.ref===t.ref)return Qa(e,t,i)}return t.flags|=1,(e=jr(s,r)).ref=t.ref,e.return=t,t.child=e}function Da(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Qn(s,r)&&e.ref===t.ref){if(Na=!1,t.pendingProps=r=s,!$a(e,i))return t.lanes=e.lanes,Qa(e,t,i);0!==(131072&e.flags)&&(Na=!0)}}return Oa(e,t,n,r,i)}function Ra(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Ma(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ma(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hi(0,null!==s?s.cachePool:null),null!==s?ms(t,s):gs(),aa(t)}else null!==s?(Hi(0,s.cachePool),ms(t,s),la(),t.memoizedState=null):(null!==e&&Hi(0,null),gs(),la());return _a(e,t,i,n),t.child}function Ma(e,t,n,r){var i=Bi();return i=null===i?null:{parent:Di._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Hi(0,null),gs(),aa(t),null!==e&&ki(e,t,r,!0),null}function La(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Oa(e,t,n,r,i){return Ci(t),n=Ps(e,t,n,r,void 0,i),r=Ls(),null===e||Na?(si&&r&&ti(t),t.flags|=1,_a(e,t,n,i),t.child):(Os(e,t,i),Qa(e,t,i))}function Fa(e,t,n,r,i,s){return Ci(t),t.updateQueue=null,n=Rs(t,r,n,i),Ds(e),r=Ls(),null===e||Na?(si&&r&&ti(t),t.flags|=1,_a(e,t,n,s),t.child):(Os(e,t,s),Qa(e,t,s))}function ja(e,t,n,r,i){if(Ci(t),null===t.stateNode){var s=Mr,o=n.contextType;"object"===typeof o&&null!==o&&(s=Ti(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=fa,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ns(t),o=n.contextType,s.context="object"===typeof o&&null!==o?Ti(o):Mr,s.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(da(t,n,o,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&fa.enqueueReplaceState(s,s.state,null),us(t,r,s,i),cs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,l=ga(n,a);s.props=l;var c=s.context,u=n.contextType;o=Mr,"object"===typeof u&&null!==u&&(o=Ti(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||c!==o)&&ma(t,s,r,o),ts=!1;var d=t.memoizedState;s.state=d,us(t,r,s,i),cs(),c=t.memoizedState,a||d!==c||ts?("function"===typeof h&&(da(t,n,h,r),c=t.memoizedState),(l=ts||pa(t,n,l,r,d,c,o))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=o,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,rs(e,t),u=ga(n,o=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,c=n.contextType,l=Mr,"object"===typeof c&&null!==c&&(l=Ti(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==l)&&ma(t,s,r,l),ts=!1,d=t.memoizedState,s.state=d,us(t,r,s,i),cs();var f=t.memoizedState;o!==h||d!==f||ts||null!==e&&null!==e.dependencies&&Ei(e.dependencies)?("function"===typeof a&&(da(t,n,a,r),f=t.memoizedState),(u=ts||pa(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&Ei(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,La(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=na(t,e.child,null,i),t.child=na(t,null,n,i)):_a(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Qa(e,t,i),e}function Va(e,t,n,r){return fi(),t.flags|=256,_a(e,t,n,r),t.child}var Ua={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function za(e){return{baseLanes:e,cachePool:qi()}}function Ba(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function Ha(e,t,n){var r,i=t.pendingProps,s=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ua.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(si){if(s?oa(t):la(),si){var l,c=ii;if(l=c){e:{for(l=c,c=ai;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Qr?{id:$r,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Or(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yh(c)?t.lanes=32:t.lanes=536870912,null;ca(t)}return c=i.children,i=i.fallback,s?(la(),c=Ga({mode:"hidden",children:c},s=t.mode),i=zr(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=za(n),s.childLanes=Ba(e,r,n),t.memoizedState=Ua,i):(oa(t),qa(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(oa(t),t.flags&=-257,t=Ka(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),s=i.fallback,c=t.mode,i=Ga({mode:"visible",children:i.children},c),(s=zr(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,na(t,e.child,null,n),(i=t.child).memoizedState=za(n),i.childLanes=Ba(e,r,n),t.memoizedState=Ua,t=s);else if(oa(t),yh(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ka(e,t,n)}else if(Na||ki(e,t,n,!1),r=0!==(n&e.childLanes),Na||r){if(null!==(r=ic)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ne(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Pr(e,i),Fc(r,e,i),Ia;"$?"===c.data||Xc(),t=Ka(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vh(c.nextSibling),ri=t,si=!0,oi=null,ai=!1,null!==e&&(Xr[Yr++]=$r,Xr[Yr++]=Jr,Xr[Yr++]=Qr,$r=e.id,Jr=e.overflow,Qr=t),(t=qa(t,i.children)).flags|=4096);return t}return s?(la(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=jr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=jr(u,s):(s=zr(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=za(n):(null!==(l=c.cachePool)?(u=Di._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qi(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=Ba(e,r,n),t.memoizedState=Ua,i):(oa(t),e=(n=e.child).sibling,(n=jr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function qa(e,t){return(t=Ga({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ga(e,t){return(e=Or(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ka(e,t,n){return na(t,e.child,null,n),(e=qa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xi(e.return,t,n)}function Xa(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ya(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wa(e,n,t);else if(19===e.tag)Wa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(ua,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ha(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xa(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ha(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xa(t,!0,n,null,s);break;case"together":Xa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ki(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=jr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $a(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ei(e))}function Ja(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Na=!0;else{if(!$a(e,n)&&0===(128&t.flags))return Na=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),bi(0,Di,e.memoizedState.cache),fi();break;case 27:case 5:X(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(oa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ha(e,t,n):(oa(t),null!==(e=Qa(e,t,n))?e.sibling:null);oa(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ki(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Ya(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Ra(e,t,n);case 24:bi(0,Di,e.memoizedState.cache)}return Qa(e,t,n)}(e,t,n);Na=0!==(131072&e.flags)}else Na=!1,si&&0!==(1048576&t.flags)&&ei(t,Wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===S){t.tag=11,t=Aa(null,t,r,e,n);break e}if(i===C){t.tag=14,t=Pa(null,t,r,e,n);break e}}throw t=D(r)||r,Error(o(306,t,""))}Fr(r)?(e=ga(r,e),t.tag=1,t=ja(null,t,r,e,n)):(t.tag=0,t=Oa(null,t,r,e,n))}return t;case 0:return Oa(e,t,t.type,t.pendingProps,n);case 1:return ja(e,t,r=t.type,i=ga(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,rs(e,t),us(t,r,null,n);var a=t.memoizedState;if(r=a.cache,bi(0,Di,r),r!==s.cache&&Si(t,[Di],n,!0),cs(),r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Va(e,t,r,n);break e}if(r!==i){mi(i=Er(Error(o(424)),t)),t=Va(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vh(e.firstChild),ri=t,si=!0,oi=null,ai=!0,n=ra(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Qa(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 26:return La(e,t),null===e?(n=_h(t.type,null,t.pendingProps,null))?t.memoizedState=n:si||(n=t.type,e=t.pendingProps,(r=ih(q.current).createElement(n))[De]=t,r[Re]=e,th(r,n,e),Ge(r),t.stateNode=r):t.memoizedState=_h(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&si&&(r=t.stateNode=xh(t.type,t.pendingProps,q.current),ri=t,ai=!0,i=ii,ph(t.type)?(bh=i,ii=vh(r.firstChild)):ii=i),_a(e,t,t.pendingProps.children,n),La(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&si&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ve])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=vh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ai))?(t.stateNode=r,ri=t,ii=vh(r.firstChild),ai=!1,i=!0):i=!1),i||ci(t)),X(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,r=s.children,ah(i,s)?r=null:null!==a&&ah(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=Ps(e,t,Ms,null,null,n),Yh._currentValue=i),La(e,t),_a(e,t,r,n),t.child;case 6:return null===e&&si&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vh(e.nextSibling)))return null}return e}(n,t.pendingProps,ai))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Ha(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=na(t,null,r,n):_a(e,t,r,n),t.child;case 11:return Aa(e,t,t.type,t.pendingProps,n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),_a(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ci(t),r=r(i=Ti(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return Pa(e,t,t.type,t.pendingProps,n);case 15:return Da(e,t,t.type,t.pendingProps,n);case 19:return Ya(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ga(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=jr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ra(e,t,n);case 24:return Ci(t),r=Ti(Di),null===e?(null===(i=Bi())&&(i=ic,s=Ri(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ns(t),bi(0,Di,i)):(0!==(e.lanes&n)&&(rs(e,t),us(t,null,null,n),cs()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Di,r)):(r=s.cache,bi(0,Di,r),r!==i.cache&&Si(t,[Di],n,!0))),_a(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Za(e){e.flags|=4}function el(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bh(t)){if(null!==(t=ia.current)&&((4194048&oc)===oc?null!==sa:(62914560&oc)!==oc&&0===(536870912&oc)||t!==sa))throw Ji=Xi,Ki;e.flags|=8192}}function tl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,vc|=t)}function nl(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function il(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Di),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?Za(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),rl(t),null;case 26:return n=t.memoizedState,null===e?(Za(t),null!==n?(rl(t),el(t,n)):(rl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Za(t),rl(t),el(t,n)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Za(t),rl(t),t.flags&=-16777217),null;case 27:Y(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Za(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return rl(t),null}e=B.current,di(t)?ui(t):(e=xh(i,r,n),t.stateNode=e,Za(t))}return rl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Za(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return rl(t),null}if(e=B.current,di(t))ui(t);else{switch(i=ih(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[De]=t,e[Re]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(th(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Za(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Za(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=q.current,di(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[De]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||$u(e.nodeValue,n)))||ci(t)}else(e=ih(e).createTextNode(r))[De]=t,t.stateNode=e}return rl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[De]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(ca(t),t):(ca(t),null)}if(ca(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),tl(t,t.updateQueue),rl(t),null;case 4:return W(),null===e&&zu(t.stateNode.containerInfo),rl(t),null;case 10:return wi(t.type),rl(t),null;case 19:if(U(ua),null===(i=t.memoizedState))return rl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)nl(i,!1);else{if(0!==fc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=ha(e))){for(t.flags|=128,nl(i,!1),e=s.updateQueue,t.updateQueue=e,tl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vr(n,e),n=n.sibling;return z(ua,1&ua.current|2),t.child}e=e.sibling}null!==i.tail&&te()>kc&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ha(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,tl(t,e),nl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!si)return rl(t),null}else 2*te()-i.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=ua.current,z(ua,r?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return ca(t),ys(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(n=t.updateQueue)&&tl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(zi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Di),rl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function sl(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Di),W(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(ca(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(ua),null;case 4:return W(),null;case 10:return wi(t.type),null;case 22:case 23:return ca(t),ys(),null!==e&&U(zi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Di),null;default:return null}}function ol(e,t){switch(ni(t),t.tag){case 3:wi(Di),W();break;case 26:case 27:case 5:Y(t);break;case 4:W();break;case 13:ca(t);break;case 19:U(ua);break;case 10:wi(t.type);break;case 22:case 23:ca(t),ys(),null!==e&&U(zi);break;case 24:wi(Di)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){hu(t,t.return,a)}}function ll(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(u){hu(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){hu(t,t.return,u)}}function cl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ds(t,n)}catch(r){hu(e,e.return,r)}}}function ul(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hu(e,t,r)}}function hl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){hu(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){hu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){hu(e,t,s)}else n.current=null}function fl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){hu(e,e.return,i)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||Zu(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&Zu(e,t,f,p,r,d)}}return void gt(e,a,l,c,u,h,s,i);case"select":for(s in p=a=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||Zu(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==c&&Zu(e,t,i,s,r,c)}return t=l,n=a,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zu(e,t,l,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(null!=i||null!=s))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==s&&Zu(e,t,a,i,r,s)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Zu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Zu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:Zu(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&eh(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||eh(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Zu(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||Zu(e,t,d,f,r,p)}(r,e.type,n,t),r[Re]=t}catch(i){hu(e,e.return,i)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&ph(e.type)||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&ph(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&ph(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&ph(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);th(t,r,n),t[De]=e,t[Re]=n}catch(s){hu(e,e.return,s)}}var wl=!1,xl=!1,Sl=!1,kl="function"===typeof WeakSet?WeakSet:Set,El=null;function Cl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:jl(e,n),4&r&&al(5,n);break;case 1:if(jl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){hu(n,n.return,o)}else{var i=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){hu(n,n.return,a)}}64&r&&cl(n),512&r&&hl(n,n.return);break;case 3:if(jl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ds(e,t)}catch(o){hu(n,n.return,o)}}break;case 27:null===t&&4&r&&bl(n);case 26:case 5:jl(e,n),null===t&&4&r&&fl(n),512&r&&hl(n,n.return);break;case 12:jl(e,n);break;case 13:jl(e,n),4&r&&Pl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=mu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||wl)){t=null!==t&&null!==t.memoizedState||xl,i=wl;var s=xl;wl=r,(xl=t)&&!s?Ul(e,n,0!==(8772&n.subtreeFlags)):jl(e,n),wl=i,xl=s}break;case 30:break;default:jl(e,n)}}function Tl(e){var t=e.alternate;null!==t&&(e.alternate=null,Tl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Il=null,Nl=!1;function _l(e,t,n){for(n=n.child;null!==n;)Al(e,t,n),n=n.sibling}function Al(e,t,n){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,n)}catch(s){}switch(n.tag){case 26:xl||dl(n,t),_l(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||dl(n,t);var r=Il,i=Nl;ph(n.type)&&(Il=n.stateNode,Nl=!1),_l(e,t,n),Sh(n.stateNode),Il=r,Nl=i;break;case 5:xl||dl(n,t);case 6:if(r=Il,i=Nl,Il=null,_l(e,t,n),Nl=i,null!==(Il=r))if(Nl)try{(9===Il.nodeType?Il.body:"HTML"===Il.nodeName?Il.ownerDocument.body:Il).removeChild(n.stateNode)}catch(o){hu(n,t,o)}else try{Il.removeChild(n.stateNode)}catch(o){hu(n,t,o)}break;case 18:null!==Il&&(Nl?(mh(9===(e=Il).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Nd(e)):mh(Il,n.stateNode));break;case 4:r=Il,i=Nl,Il=n.stateNode.containerInfo,Nl=!0,_l(e,t,n),Il=r,Nl=i;break;case 0:case 11:case 14:case 15:xl||ll(2,n,t),xl||ll(4,n,t),_l(e,t,n);break;case 1:xl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&ul(n,t,r)),_l(e,t,n);break;case 21:_l(e,t,n);break;case 22:xl=(r=xl)||null!==n.memoizedState,_l(e,t,n),xl=r;break;default:_l(e,t,n)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Nd(e)}catch(n){hu(t,t.return,n)}}function Dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Rl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(ph(l.type)){Il=l.stateNode,Nl=!1;break e}break;case 5:Il=l.stateNode,Nl=!1;break e;case 3:case 4:Il=l.stateNode.containerInfo,Nl=!0;break e}l=l.return}if(null===Il)throw Error(o(160));Al(s,a,i),Il=null,Nl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ll(t,e),t=t.sibling}var Ml=null;function Ll(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rl(t,e),Ol(e),4&r&&(ll(3,e,e.return),al(3,e),ll(5,e,e.return));break;case 1:Rl(t,e),Ol(e),512&r&&(xl||null===n||dl(n,n.return)),64&r&&wl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Ml;if(Rl(t,e),Ol(e),512&r&&(xl||null===n||dl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Ve]||s[De]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),th(s,r,n),s[De]=e,Ge(s),r=s;break e;case"link":var a=Uh("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((s=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}th(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(a=Uh("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((s=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}th(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(o(468,r))}s[De]=e,Ge(s),r=s}e.stateNode=r}else zh(i,e.type,e.stateNode);else e.stateNode=Lh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?zh(i,e.type,e.stateNode):Lh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Rl(t,e),Ol(e),512&r&&(xl||null===n||dl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Rl(t,e),Ol(e),512&r&&(xl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(p){hu(e,e.return,p)}}4&r&&null!=e.stateNode&&pl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Sl=!0);break;case 6:if(Rl(t,e),Ol(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){hu(e,e.return,p)}}break;case 3:if(Vh=null,i=Ml,Ml=Ch(t.containerInfo),Rl(t,e),Ml=i,Ol(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Nd(t.containerInfo)}catch(p){hu(e,e.return,p)}Sl&&(Sl=!1,Fl(e));break;case 4:r=Ml,Ml=Ch(e.stateNode.containerInfo),Rl(t,e),Ol(e),Ml=r;break;case 12:default:Rl(t,e),Ol(e);break;case 13:Rl(t,e),Ol(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Sc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Dl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=wl,h=xl;if(wl=u||i,xl=h||c,Rl(t,e),xl=h,wl=u,Ol(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||wl||xl||Vl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){hu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){hu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Dl(e,n))));break;case 19:Rl(t,e),Ol(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Dl(e,r)));case 30:case 21:}}function Ol(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ml(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,gl(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(St(s,""),n.flags&=-33),vl(e,gl(e),s);break;case 3:case 4:var a=n.stateNode.containerInfo;yl(e,gl(e),a);break;default:throw Error(o(161))}}catch(l){hu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Fl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Fl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function jl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Cl(e,t.alternate,t),t=t.sibling}function Vl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ll(4,t,t.return),Vl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),Vl(t);break;case 27:Sh(t.stateNode);case 26:case 5:dl(t,t.return),Vl(t);break;case 22:null===t.memoizedState&&Vl(t);break;default:Vl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Ul(i,s,n),al(4,s);break;case 1:if(Ul(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){hu(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)hs(l[i],a)}catch(c){hu(r,r.return,c)}}n&&64&o&&cl(s),hl(s,s.return);break;case 27:bl(s);case 26:case 5:Ul(i,s,n),n&&null===r&&4&o&&fl(s),hl(s,s.return);break;case 12:Ul(i,s,n);break;case 13:Ul(i,s,n),n&&4&o&&Pl(i,s);break;case 22:null===s.memoizedState&&Ul(i,s,n),hl(s,s.return);break;case 30:break;default:Ul(i,s,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Mi(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mi(e))}function Hl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Hl(e,t,n,r),2048&i&&al(9,t);break;case 1:case 13:default:Hl(e,t,n,r);break;case 3:Hl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mi(e)));break;case 12:if(2048&i){Hl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){hu(t,t.return,l)}}else Hl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?Hl(e,t,n,r):Kl(e,t):2&s._visibility?Hl(e,t,n,r):(s._visibility|=2,Gl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&zl(o,t);break;case 24:Hl(e,t,n,r),2048&i&&Bl(t.alternate,t)}}function Gl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,o=t,a=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Gl(s,o,a,l,i),al(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Gl(s,o,a,l,i):Kl(s,o):(u._visibility|=2,Gl(s,o,a,l,i)),i&&2048&c&&zl(o.alternate,o);break;case 24:Gl(s,o,a,l,i),i&&2048&c&&Bl(o.alternate,o);break;default:Gl(s,o,a,l,i)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Kl(n,r),2048&i&&zl(r.alternate,r);break;case 24:Kl(n,r),2048&i&&Bl(r.alternate,r);break;default:Kl(n,r)}t=t.sibling}}var Wl=8192;function Xl(e){if(e.subtreeFlags&Wl)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Xl(e),e.flags&Wl&&null!==e.memoizedState&&function(e,t,n){if(null===Hh)throw Error(o(475));var r=Hh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Ah(n.href),s=e.querySelector(Ph(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Gh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void Ge(s);s=e.ownerDocument||e,n=Dh(n),(i=kh.get(i))&&Fh(n,i),Ge(s=s.createElement("link"));var a=s;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),th(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Gh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ml,e.memoizedState,e.memoizedProps);break;case 5:default:Xl(e);break;case 3:case 4:var t=Ml;Ml=Ch(e.stateNode.containerInfo),Xl(e),Ml=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Wl,Wl=16777216,Xl(e),Wl=t):Xl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];El=r,ec(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:$l(e),2048&e.flags&&ll(9,e,e.return);break;case 3:case 12:default:$l(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):$l(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];El=r,ec(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ll(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function ec(e,t){for(;null!==El;){var n=El;switch(n.tag){case 0:case 11:case 15:ll(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Mi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,El=r;else e:for(n=e;null!==El;){var i=(r=El).sibling,s=r.return;if(Tl(r),r===n){El=null;break e}if(null!==i){i.return=s,El=i;break e}El=s}}}var tc={getCacheForType:function(e){var t=Ti(Di),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},nc="function"===typeof WeakMap?WeakMap:Map,rc=0,ic=null,sc=null,oc=0,ac=0,lc=null,cc=!1,uc=!1,hc=!1,dc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=0,bc=null,wc=null,xc=!1,Sc=0,kc=1/0,Ec=null,Cc=null,Tc=0,Ic=null,Nc=null,_c=0,Ac=0,Pc=null,Dc=null,Rc=0,Mc=null;function Lc(){if(0!==(2&rc)&&0!==oc)return oc&-oc;if(null!==M.T){return 0!==Fi?Fi:Au()}return Ae()}function Oc(){0===yc&&(yc=0===(536870912&oc)||si?Se():536870912);var e=ia.current;return null!==e&&(e.flags|=32),yc}function Fc(e,t,n){(e!==ic||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(qc(e,0),zc(e,oc,yc,!1)),Ce(e,n),0!==(2&rc)&&e===ic||(e===ic&&(0===(2&rc)&&(mc|=n),4===fc&&zc(e,oc,yc,!1)),ku(e))}function jc(e,t,n){if(0!==(6&rc))throw Error(o(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=rc;rc|=2;var r=Kc(),i=Wc();ic!==e||oc!==t?(Ec=null,kc=te()+500,qc(e,t)):uc=we(e,t);e:for(;;)try{if(0!==ac&&null!==sc){t=sc;var s=lc;t:switch(ac){case 1:ac=0,lc=null,eu(e,t,s,1);break;case 2:case 9:if(Yi(s)){ac=0,lc=null,Zc(t);break}t=function(){2!==ac&&9!==ac||ic!==e||(ac=7),ku(e)},s.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Yi(s)?(ac=0,lc=null,Zc(t)):(ac=0,lc=null,eu(e,t,s,7));break;case 5:var a=null;switch(sc.tag){case 26:a=sc.memoizedState;case 5:case 27:var l=sc;if(!a||Bh(a)){ac=0,lc=null;var c=l.sibling;if(null!==c)sc=c;else{var u=l.return;null!==u?(sc=u,tu(u)):sc=null}break t}}ac=0,lc=null,eu(e,t,s,5);break;case 6:ac=0,lc=null,eu(e,t,s,6);break;case 8:Hc(),fc=6;break e;default:throw Error(o(462))}}$c();break}catch(h){Gc(e,h)}return vi=yi=null,M.H=r,M.A=i,rc=n,null!==sc?0:(ic=null,oc=0,Nr(),fc)}(e,t):Yc(e,t,!0),s=r;;){if(0===i){uc&&!r&&zc(e,t,0,!1);break}if(n=e.current.alternate,!s||Uc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=bc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,a).flags|=256),2!==(a=Yc(l,a,!1))){if(hc&&!c){l.errorRecoveryDisabledLanes|=s,mc|=s,i=4;break e}s=wc,wc=i,null!==s&&(null===wc?wc=s:wc.push.apply(wc,s))}i=a}if(s=!1,2!==i)continue}}if(1===i){qc(e,0),zc(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:zc(r,t,yc,!cc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=Sc+300-te())){if(zc(r,t,yc,!cc),0!==be(r,0,!0))break e;r.timeoutHandle=ch(Vc.bind(null,r,n,wc,Ec,xc,t,yc,mc,vc,cc,s,2,-0,0),i)}else Vc(r,n,wc,Ec,xc,t,yc,mc,vc,cc,s,0,-0,0)}break}i=Yc(e,t,!1),s=!1}ku(e)}function Vc(e,t,n,r,i,s,a,l,c,u,h,d,f,p){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||16785408===(16785408&d))&&(Hh={stylesheets:null,count:0,unsuspend:qh},Yl(t),null!==(d=function(){if(null===Hh)throw Error(o(475));var e=Hh;return e.stylesheets&&0===e.count&&Wh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Wh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(ru.bind(null,e,t,s,n,r,i,a,l,c,h,1,f,p)),void zc(e,s,a,!u);ru(e,t,s,n,r,i,a,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yn(s(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,n,r){t&=~gc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-fe(i),o=1<<s;r[s]=-1,i&=~o}0!==n&&Te(e,n,t)}function Bc(){return 0!==(6&rc)||(Eu(0,!1),!1)}function Hc(){if(null!==sc){if(0===ac)var e=sc.return;else vi=yi=null,Fs(e=sc),Yo=null,Qo=0,e=sc;for(;null!==e;)ol(e.alternate,e),e=e.return;sc=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,uh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hc(),ic=e,sc=n=jr(e.current,null),oc=t,ac=0,lc=null,cc=!1,uc=we(e,t),hc=!1,vc=yc=gc=mc=pc=fc=0,wc=bc=null,xc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),s=1<<i;t|=e[i],r&=~s}return dc=t,Nr(),n}function Gc(e,t){bs=null,M.H=Go,t===Gi||t===Wi?(t=Zi(),ac=3):t===Ki?(t=Zi(),ac=4):ac=t===Ia?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lc=t,null===sc&&(fc=1,xa(e,Er(t,e.current)))}function Kc(){var e=M.H;return M.H=Go,null===e?Go:e}function Wc(){var e=M.A;return M.A=tc,e}function Xc(){fc=4,cc||(4194048&oc)!==oc&&null!==ia.current||(uc=!0),0===(134217727&pc)&&0===(134217727&mc)||null===ic||zc(ic,oc,yc,!1)}function Yc(e,t,n){var r=rc;rc|=2;var i=Kc(),s=Wc();ic===e&&oc===t||(Ec=null,qc(e,t)),t=!1;var o=fc;e:for(;;)try{if(0!==ac&&null!==sc){var a=sc,l=lc;switch(ac){case 8:Hc(),o=6;break e;case 3:case 2:case 9:case 6:null===ia.current&&(t=!0);var c=ac;if(ac=0,lc=null,eu(e,a,l,c),n&&uc){o=0;break e}break;default:c=ac,ac=0,lc=null,eu(e,a,l,c)}}Qc(),o=fc;break}catch(u){Gc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,rc=r,M.H=i,M.A=s,null===sc&&(ic=null,oc=0,Nr()),o}function Qc(){for(;null!==sc;)Jc(sc)}function $c(){for(;null!==sc&&!Z();)Jc(sc)}function Jc(e){var t=Ja(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?tu(e):sc=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Fa(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Fa(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:Fs(t);default:ol(n,t),t=Ja(n,t=sc=Vr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?tu(e):sc=t}function eu(e,t,n,r){vi=yi=null,Fs(t),Yo=null,Qo=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ki(t,n,i,!0),null!==(n=ia.current)){switch(n.tag){case 13:return null===sa?Xc():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Xi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Xi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(o(435,n.tag))}return du(e,r,i),Xc(),!1}if(si)return null!==(t=ia.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(Er(e=Error(o(422),{cause:r}),n))):(r!==li&&mi(Er(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Er(r,n),as(e,i=Ea(e.stateNode,r,i)),4!==fc&&(fc=2)),!1;var s=Error(o(520),{cause:r});if(s=Er(s,n),null===bc?bc=[s]:bc.push(s),4!==fc&&(fc=2),null===t)return!0;r=Er(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,as(n,e=Ea(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Cc||!Cc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Ta(i=Ca(i),e,n,r),as(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,oc))return fc=1,xa(e,Er(n,e.current)),void(sc=null)}catch(s){if(null!==i)throw sc=i,s;return fc=1,xa(e,Er(n,e.current)),void(sc=null)}32768&t.flags?(si||1===r?e=!0:uc||0!==(536870912&oc)?e=!1:(cc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ia.current)&&13===r.tag&&(r.flags|=16384))),nu(t,e)):tu(t)}function tu(e){var t=e;do{if(0!==(32768&t.flags))return void nu(t,cc);e=t.return;var n=il(t.alternate,t,dc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===fc&&(fc=5)}function nu(e,t){do{var n=sl(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);fc=6,sc=null}function ru(e,t,n,r,i,s,a,l,c){e.cancelPendingCommit=null;do{lu()}while(0!==Tc);if(0!==(6&rc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-fe(n),h=1<<u;a[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Te(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,s|=Ir,a,l,c),e===ic&&(sc=ic=null,oc=0),Nc=t,Ic=e,_c=n,Ac=s,Pc=i,Dc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,$(se,function(){return cu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=M.T,M.T=null,i=L.p,L.p=2,a=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,nh=rd,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rh={focusedElem:e,selectionRange:n},rd=!1,El=t;null!==El;)if(e=(t=El).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,El=e;else for(;null!==El;){switch(s=(t=El).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=ga(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){hu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,El=e;break}El=t.return}}(e,t)}finally{rc=a,L.p=i,M.T=r}}Tc=1,iu(),su(),ou()}}function iu(){if(1===Tc){Tc=0;var e=Ic,t=Nc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var r=L.p;L.p=2;var i=rc;rc|=4;try{Ll(t,e);var s=rh,o=er(e.containerInfo),a=s.focusedElem,l=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&Zn(a.ownerDocument.documentElement,a)){if(null!==l&&tr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var h=a.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var y=Jn(a,m),v=Jn(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(h=[],f=a;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<h.length;a++){var w=h[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}rd=!!nh,rh=nh=null}finally{rc=i,L.p=r,M.T=n}}e.current=t,Tc=2}}function su(){if(2===Tc){Tc=0;var e=Ic,t=Nc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var r=L.p;L.p=2;var i=rc;rc|=4;try{Cl(e,t.alternate,t)}finally{rc=i,L.p=r,M.T=n}}Tc=3}}function ou(){if(4===Tc||3===Tc){Tc=0,ee();var e=Ic,t=Nc,n=_c,r=Dc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Tc=5:(Tc=0,Nc=Ic=null,au(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Cc=null),_e(n),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=M.T,i=L.p,L.p=2,M.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];s(a.value,{componentStack:a.stack})}}finally{M.T=t,L.p=i}}0!==(3&_c)&&lu(),ku(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Mc?Rc++:(Rc=0,Mc=e):Rc=0,Eu(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Mi(t)))}function lu(e){return iu(),su(),ou(),cu()}function cu(){if(5!==Tc)return!1;var e=Ic,t=Ac;Ac=0;var n=_e(_c),r=M.T,i=L.p;try{L.p=32>n?32:n,M.T=null,n=Pc,Pc=null;var s=Ic,a=_c;if(Tc=0,Nc=Ic=null,_c=0,0!==(6&rc))throw Error(o(331));var l=rc;if(rc|=4,Jl(s.current),ql(s,s.current,a,n),rc=l,Eu(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,s)}catch(c){}return!0}finally{L.p=i,M.T=r,au(e,t)}}function uu(e,t,n){t=Er(n,t),null!==(e=ss(e,t=Ea(e.stateNode,t,2),2))&&(Ce(e,2),ku(e))}function hu(e,t,n){if(3===e.tag)uu(e,e,n);else for(;null!==t;){if(3===t.tag){uu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Cc||!Cc.has(r))){e=Er(n,e),null!==(r=ss(t,n=Ca(2),2))&&(Ta(n,r,t,e),Ce(r,2),ku(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(hc=!0,i.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(oc&n)===n&&(4===fc||3===fc&&(62914560&oc)===oc&&300>te()-Sc?0===(2&rc)&&qc(e,0):gc|=n,vc===oc&&(vc=0)),ku(e)}function pu(e,t){0===t&&(t=ke()),null!==(e=Pr(e,t))&&(Ce(e,t),ku(e))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),pu(e,n)}var yu=null,vu=null,bu=!1,wu=!1,xu=!1,Su=0;function ku(e){e!==vu&&null===e.next&&(null===vu?yu=vu=e:vu=vu.next=e),wu=!0,bu||(bu=!0,dh(function(){0!==(6&rc)?$(re,Cu):Tu()}))}function Eu(e,t){if(!xu&&wu){xu=!0;do{for(var n=!1,r=yu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=i&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,_u(r,s))}else s=oc,0===(3&(s=be(r,r===ic?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,s)||(n=!0,_u(r,s));r=r.next}}while(n);xu=!1}}function Cu(){Tu()}function Tu(){wu=bu=!1;var e=0;0!==Su&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==lh&&(lh=e,!0);return lh=null,!1}()&&(e=Su),Su=0);for(var t=te(),n=null,r=yu;null!==r;){var i=r.next,s=Iu(r,t);0===s?(r.next=null,null===n?yu=i:n.next=i,null===i&&(vu=n)):(n=r,(0!==e||0!==(3&s))&&(wu=!0)),r=i}Eu(e,!1)}function Iu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-fe(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=xe(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}if(n=oc,n=be(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),_e(n)){case 2:case 8:n=ie;break;case 32:default:n=se;break;case 268435456:n=ae}return r=Nu.bind(null,e),n=$(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Nu(e,t){if(0!==Tc&&5!==Tc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=be(e,e===ic?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(jc(e,r,t),Iu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Nu.bind(null,e):null)}function _u(e,t){if(lu())return null;jc(e,t,!0)}function Au(){return 0===Su&&(Su=Se()),Su}function Pu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:_t(""+e)}function Du(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ru=0;Ru<xr.length;Ru++){var Mu=xr[Ru];Sr(Mu.toLowerCase(),"on"+(Mu[0].toUpperCase()+Mu.slice(1)))}Sr(fr,"onAnimationEnd"),Sr(pr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(gr,"onTransitionRun"),Sr(yr,"onTransitionStart"),Sr(vr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ou=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lu));function Fu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(u){ya(u)}i.currentTarget=null,s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(u){ya(u)}i.currentTarget=null,s=l}}}}function ju(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function Vu(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[Uu]){e[Uu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Ou.has(t)||Vu(t,!1,e),Vu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,Vu("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(ud(t)){case 2:var i=id;break;case 8:i=sd;break;default:i=od}n=i.bind(null,t,n,e),i=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hu(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==a;){if(null===(o=ze(a)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=s=o;continue e}a=a.parentNode}}r=r.return}Ot(function(){var r=s,i=Pt(n),o=[];e:{var a=wr.get(e);if(void 0!==a){var c=Zt,u=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=an;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==a?a+"Capture":null:a;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ft(m,f))&&h.push(qu(m,g,p)),d)break;m=m.return}0<h.length&&(a=new c(a,u,null,n,i),o.push({event:a,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!ze(u)&&!u[Me])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ze(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==c?a:He(c),p=null==u?a:He(u),(a=new h(g,m+"leave",c,n,i)).target=d,a.relatedTarget=p,g=null,ze(i)===r&&((h=new h(f,m+"enter",u,n,i)).target=p,h.relatedTarget=d,g=h),d=g,c&&u)e:{for(f=u,m=0,p=h=c;p;p=Ku(p))m++;for(p=0,g=f;g;g=Ku(g))p++;for(;0<m-p;)h=Ku(h),m--;for(;0<p-m;)f=Ku(f),p--;for(;m--;){if(h===f||null!==f&&h===f.alternate)break e;h=Ku(h),f=Ku(f)}h=null}else h=null;null!==c&&Wu(o,a,c,h,!1),null!==u&&null!==d&&Wu(o,d,u,h,!0)}if("select"===(c=(a=r?He(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var y=jn;else if(Dn(a))if(Vn)y=Xn;else{y=Kn;var v=Gn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Tt(r.elementType)&&(y=jn):y=Wn;switch(y&&(y=y(e,r))?Rn(o,y,n,i):(v&&v(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&vt(a,"number",a.value)),v=r?He(r):window,e){case"focusin":(Dn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,ar(o,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(o,n,i)}var b;if(Sn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else An?Nn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Cn&&"ko"!==n.locale&&(An||"onCompositionStart"!==w?"onCompositionEnd"===w&&An&&(b=qt()):(Bt="value"in(zt=i)?zt.value:zt.textContent,An=!0)),0<(v=Gu(r,w)).length&&(w=new cn(w,e,null,n,i),o.push({event:w,listeners:v}),b?w.data=b:null!==(b=_n(n))&&(w.data=b))),(b=En?function(e,t){switch(e){case"compositionend":return _n(t);case"keypress":return 32!==t.which?null:(In=!0,Tn);case"textInput":return(e=t.data)===Tn&&In?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!Sn&&Nn(e,t)?(e=qt(),Ht=Bt=zt=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Gu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),o.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Pu((i[Re]||null).action),o=r.submitter;o&&null!==(t=(t=o[Re]||null)?Pu(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new Zt("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Su){var e=o?Du(i,o):new FormData(i);Po(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?Du(i,o):new FormData(i),Po(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}Fu(o,t)})}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Ft(e,n))&&r.unshift(qu(e,i,s)),null!=(i=Ft(e,t))&&r.push(qu(e,i,s))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wu(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=Ft(n,s))&&o.unshift(qu(n,c,l)):i||null!=(c=Ft(n,s))&&o.push(qu(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Xu,"\n").replace(Yu,"")}function $u(e,t){return t=Qu(t),Qu(e)===t}function Ju(){}function Zu(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Ct(e,r,s);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=_t(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Zu(e,t,"name",i.name,i,null),Zu(e,t,"formEncType",i.formEncType,i,null),Zu(e,t,"formMethod",i.formMethod,i,null),Zu(e,t,"formTarget",i.formTarget,i,null)):(Zu(e,t,"encType",i.encType,i,null),Zu(e,t,"method",i.method,i,null),Zu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=_t(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&ju("scroll",e);break;case"onScrollEnd":null!=r&&ju("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=_t(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":ju("beforetoggle",e),ju("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=It.get(n)||n,r)}}function eh(e,t,n,r,i,s){switch(n){case"style":Ct(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&ju("scroll",e);break;case"onScrollEnd":null!=r&&ju("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Re]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function th(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ju("error",e),ju("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Zu(e,t,r,a,n,null)}}return s&&Zu(e,t,"srcSet",n.srcSet,n,null),void(i&&Zu(e,t,"src",n.src,n,null));case"input":ju("invalid",e);var l=r=a=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:Zu(e,t,i,h,n,null)}}return yt(e,r,l,c,u,a,s,!1),void ht(e);case"select":for(s in ju("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Zu(e,t,s,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(a in ju("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Zu(e,t,a,l,n,null)}return xt(e,i,s,r),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Zu(e,t,c,i,n,null);return;case"dialog":ju("beforetoggle",e),ju("toggle",e),ju("cancel",e),ju("close",e);break;case"iframe":case"object":ju("load",e);break;case"video":case"audio":for(i=0;i<Lu.length;i++)ju(Lu[i],e);break;case"image":ju("error",e),ju("load",e);break;case"details":ju("toggle",e);break;case"embed":case"source":case"link":ju("error",e),ju("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Zu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&eh(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Zu(e,t,l,i,n,null))}var nh=null,rh=null;function ih(e){return 9===e.nodeType?e:e.ownerDocument}function sh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ah(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var lh=null;var ch="function"===typeof setTimeout?setTimeout:void 0,uh="function"===typeof clearTimeout?clearTimeout:void 0,hh="function"===typeof Promise?Promise:void 0,dh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof hh?function(e){return hh.resolve(null).then(e).catch(fh)}:ch;function fh(e){setTimeout(function(){throw e})}function ph(e){return"head"===e}function mh(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&Sh(o.documentElement),2&n&&Sh(o.body),4&n)for(Sh(n=o.head),o=n.firstChild;o;){var a=o.nextSibling,l=o.nodeName;o[Ve]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=a}}if(0===i)return e.removeChild(s),void Nd(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Nd(t)}function gh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gh(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bh=null;function wh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xh(e,t,n){switch(t=ih(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Sh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var kh=new Map,Eh=new Set;function Ch(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Th=L.d;L.d={f:function(){var e=Th.f(),t=Bc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Ro(t):Th.r(e)},D:function(e){Th.D(e),Nh("dns-prefetch",e,null)},C:function(e,t){Th.C(e,t),Nh("preconnect",e,t)},L:function(e,t,n){Th.L(e,t,n);var r=Ih;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var s=i;switch(t){case"style":s=Ah(e);break;case"script":s=Rh(e)}kh.has(s)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ph(s))||"script"===t&&r.querySelector(Mh(s))||(th(t=r.createElement("link"),"link",e),Ge(t),r.head.appendChild(t)))}},m:function(e,t){Th.m(e,t);var n=Ih;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Rh(e)}if(!kh.has(s)&&(e=d({rel:"modulepreload",href:e},t),kh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Mh(s)))return}th(r=n.createElement("link"),"link",e),Ge(r),n.head.appendChild(r)}}},X:function(e,t){Th.X(e,t);var n=Ih;if(n&&e){var r=qe(n).hoistableScripts,i=Rh(e),s=r.get(i);s||((s=n.querySelector(Mh(i)))||(e=d({src:e,async:!0},t),(t=kh.get(i))&&jh(e,t),Ge(s=n.createElement("script")),th(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Th.S(e,t,n);var r=Ih;if(r&&e){var i=qe(r).hoistableStyles,s=Ah(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Ph(s)))a.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kh.get(s))&&Fh(e,n);var l=o=r.createElement("link");Ge(l),th(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Oh(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}},M:function(e,t){Th.M(e,t);var n=Ih;if(n&&e){var r=qe(n).hoistableScripts,i=Rh(e),s=r.get(i);s||((s=n.querySelector(Mh(i)))||(e=d({src:e,async:!0,type:"module"},t),(t=kh.get(i))&&jh(e,t),Ge(s=n.createElement("script")),th(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Ih="undefined"===typeof document?null:document;function Nh(e,t,n){var r=Ih;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Eh.has(i)||(Eh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(th(t=r.createElement("link"),"link",e),Ge(t),r.head.appendChild(t)))}}function _h(e,t,n,r){var i,s,a,l,c=(c=q.current)?Ch(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ah(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ah(n.href);var u=qe(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Ph(e)))&&!u._p&&(h.instance=u,h.state.loading=5),kh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kh.set(e,n),u||(i=c,s=e,a=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),th(s,"link",a),Ge(s),i.head.appendChild(s))))),t&&null===r)throw Error(o(528,""));return h}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Rh(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ah(e){return'href="'+mt(e)+'"'}function Ph(e){return'link[rel="stylesheet"]['+e+"]"}function Dh(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Rh(e){return'[src="'+mt(e)+'"]'}function Mh(e){return"script[async]"+e}function Lh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Ge(r),r;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ge(r=(e.ownerDocument||e).createElement("style")),th(r,"style",i),Oh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Ah(n.href);var s=e.querySelector(Ph(i));if(s)return t.state.loading|=4,t.instance=s,Ge(s),s;r=Dh(n),(i=kh.get(i))&&Fh(r,i),Ge(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),th(s,"link",r),t.state.loading|=4,Oh(s,n.precedence,e),t.instance=s;case"script":return s=Rh(n.src),(i=e.querySelector(Mh(s)))?(t.instance=i,Ge(i),i):(r=n,(i=kh.get(s))&&jh(r=d({},n),i),Ge(i=(e=e.ownerDocument||e).createElement("script")),th(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Oh(r,n.precedence,e));return t.instance}function Oh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Fh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function jh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Vh=null;function Uh(e,t,n){if(null===Vh){var r=new Map,i=Vh=new Map;i.set(n,r)}else(r=(i=Vh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ve]||s[De]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function zh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Hh=null;function qh(){}function Gh(){if(this.count--,0===this.count)if(this.stylesheets)Wh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kh=null;function Wh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kh=new Map,t.forEach(Xh,e),Kh=null,Gh.call(e))}function Xh(e,t){if(!(4&t.state.loading)){var n=Kh.get(e);if(n)var r=n.get(null);else{n=new Map,Kh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=Gh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Yh={$$typeof:x,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function Qh(e,t,n,r,i,s,o,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function $h(e,t,n,r,i,s,o,a,l,c,u,h){return e=new Qh(e,t,n,o,a,l,c,h),t=1,!0===s&&(t|=24),s=Or(3,null,null,t),e.current=s,s.stateNode=e,(t=Ri()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ns(s),e}function Jh(e){return e?e=Mr:Mr}function Zh(e,t,n,r,i,s){i=Jh(i),null===r.context?r.context=i:r.pendingContext=i,(r=is(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ss(e,r,t))&&(Fc(n,0,t),os(n,e,t))}function ed(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function td(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}function nd(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&Fc(t,0,67108864),td(e,67108864)}}var rd=!0;function id(e,t,n,r){var i=M.T;M.T=null;var s=L.p;try{L.p=2,od(e,t,n,r)}finally{L.p=s,M.T=i}}function sd(e,t,n,r){var i=M.T;M.T=null;var s=L.p;try{L.p=8,od(e,t,n,r)}finally{L.p=s,M.T=i}}function od(e,t,n,r){if(rd){var i=ad(r);if(null===i)Hu(e,t,r,ld,n),bd(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dd=wd(dd,e,t,n,r,i),!0;case"dragenter":return fd=wd(fd,e,t,n,r,i),!0;case"mouseover":return pd=wd(pd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return md.set(s,wd(md.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gd.set(s,wd(gd.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(bd(e,r),4&t&&-1<vd.indexOf(e)){for(;null!==i;){var s=Be(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=ve(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-fe(o);a.entanglements[1]|=l,o&=~l}ku(s),0===(6&rc)&&(kc=te()+500,Eu(0,!1))}}break;case 13:null!==(a=Pr(s,2))&&Fc(a,0,2),Bc(),td(s,2)}if(null===(s=ad(r))&&Hu(e,t,r,ld,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hu(e,t,r,null,n)}}function ad(e){return cd(e=Pt(e))}var ld=null;function cd(e){if(ld=null,null!==(e=ze(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ld=e,null}function ud(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case se:case oe:return 32;case ae:return 268435456;default:return 32}default:return 32}}var hd=!1,dd=null,fd=null,pd=null,md=new Map,gd=new Map,yd=[],vd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bd(e,t){switch(e){case"focusin":case"focusout":dd=null;break;case"dragenter":case"dragleave":fd=null;break;case"mouseover":case"mouseout":pd=null;break;case"pointerover":case"pointerout":md.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(t.pointerId)}}function wd(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Be(t))&&nd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function xd(e){var t=ze(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,function(){if(13===n.tag){var e=Lc();e=Ne(e);var t=Pr(n,e);null!==t&&Fc(t,0,e),td(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Sd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ad(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&nd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function kd(e,t,n){Sd(e)&&n.delete(t)}function Ed(){hd=!1,null!==dd&&Sd(dd)&&(dd=null),null!==fd&&Sd(fd)&&(fd=null),null!==pd&&Sd(pd)&&(pd=null),md.forEach(kd),gd.forEach(kd)}function Cd(e,t){e.blockedOn===t&&(e.blockedOn=null,hd||(hd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ed)))}var Td=null;function Id(e){Td!==e&&(Td=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Td===e&&(Td=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===cd(r||n))continue;break}var s=Be(n);null!==s&&(e.splice(t,3),t-=3,Po(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Nd(e){function t(t){return Cd(t,e)}null!==dd&&Cd(dd,e),null!==fd&&Cd(fd,e),null!==pd&&Cd(pd,e),md.forEach(t),gd.forEach(t);for(var n=0;n<yd.length;n++){var r=yd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yd.length&&null===(n=yd[0]).blockedOn;)xd(n),null===n.blockedOn&&yd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[Re]||null;if("function"===typeof s)o||Id(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[Re]||null)a=o.formAction;else if(null!==cd(i))continue}else a=o.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Id(n)}}}function _d(e){this._internalRoot=e}function Ad(e){this._internalRoot=e}Ad.prototype.render=_d.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Zh(t.current,Lc(),e,t,null,null)},Ad.prototype.unmount=_d.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zh(e.current,2,null,e,null,null),Bc(),t[Me]=null}},Ad.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yd.length&&0!==t&&t<yd[n].priority;n++);yd.splice(n,0,e),0===n&&xd(e)}};var Pd=i.version;if("19.1.1"!==Pd)throw Error(o(527,Pd,"19.1.1"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u(i),e;if(s===r)return u(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Dd={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rd.isDisabled&&Rd.supportsFiber)try{ue=Rd.inject(Dd),he=Rd}catch(Ld){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var n=!1,r="",i=va,s=ba,l=wa;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$h(e,1,!1,null,0,n,r,i,s,l,0,null),e[Me]=t.current,zu(e),new _d(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(o(299));var r=!1,i="",s=va,l=ba,c=wa,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=$h(e,1,!0,t,0,r,i,s,l,c,0,u)).context=Jh(null),n=t.current,(i=is(r=Ne(r=Lc()))).callback=null,ss(n,i,r),n=r,t.current.lanes=n,Ce(t,n),ku(t),e[Me]=t.current,zu(e),new Ad(t)},t.version="19.1.1"},119:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(863)},340:(e,t,n)=>{e.exports=n(487)},352:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(85)},414:(e,t,n)=>{e.exports=n(916)},487:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,E||(E=!0,k());else{var t=r(u);null!==t&&D(S,t.startTime-e)}}var k,E=!1,C=-1,T=5,I=-1;function N(){return!!y||!(t.unstable_now()-I<T)}function _(){if(y=!1,E){var e=t.unstable_now();I=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(C),C=-1),p=!0;var s=f;try{t:{for(x(e),d=r(c);null!==d&&!(d.expirationTime>e&&N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,x(e),n=!0;break t}d===r(c)&&i(c),x(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&D(S,l.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?k():E=!1}}}if("function"===typeof w)k=function(){w(_)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=_,k=function(){P.postMessage(null)}}else k=function(){v(_,0)};function D(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(C),C=-1):g=!0,D(S,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,E||(E=!0,k()))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},863:(e,t,n)=>{var r=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},916:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},950:(e,t,n)=>{e.exports=n(983)},983:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function E(e,t,r,i,s,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(){}function _(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return _((u=e._init)(e._payload),t,i,s,o)}}if(u)return o=o(e),u=""===s?"."+I(e,0):s,x(o)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),_(o,t,i,"",function(e){return e})):null!=o&&(C(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+u,o=E(l.type,c,void 0,0,0,l.props)),t.push(o)),1;u=0;var h,p=""===s?".":s+":";if(x(e))for(var m=0;m<e.length;m++)u+=_(s=e[m],t,i,a=p+I(s,m),o);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=_(s=s.value,t,i,a=p+I(s,m++),o);else if("object"===a){if("function"===typeof e.then)return _(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];r.children=o}return E(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return E(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,D)}catch(s){D(s)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.1"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}();var r=n(950),i=n(352);function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const h=["sri"],d=["page"],f=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y="popstate";function v(){return C(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return S("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:k(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function w(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function S(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?E(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function k(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function E(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function C(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=h();function h(){return(o.state||{idx:null}).idx}function d(){a="POP";let e=h(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function f(e){return T(e)}null==c&&(c=0,o.replaceState(u(u({},o.state),{},{idx:c}),""));let p={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(y,d),l=e,()=>{i.removeEventListener(y,d),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=S(p.location,e,t);n&&n(r,e),c=h()+1;let u=x(r,c),d=p.createHref(r);try{o.pushState(u,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(d)}s&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a="REPLACE";let r=S(p.location,e,t);n&&n(r,e),c=h();let i=x(r,c),u=p.createHref(r);o.replaceState(i,"",u),s&&l&&l({action:a,location:p.location,delta:0})},go:e=>o.go(e)};return p}function T(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),b(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:k(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function I(e,t){return N(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function N(e,t,n,r){let i=H(("string"===typeof t?E(t):t).pathname||"/",n);if(null==i)return null;let s=_(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=B(i);o=V(s[a],e,r)}return o}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,a=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&o)return;b(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=X([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),_(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:j(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of A(e.path))s(e,t,!0,r);else s(e,t)}),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=A(r.join("/")),a=[];return a.push(...o.map(e=>""===e?s:[s,e].join("/"))),i&&a.push(...o),a.map(t=>e.startsWith("/")&&""===t?"/":t)}var P=/^:[\w-]+$/,D=3,R=2,M=1,L=10,O=-2,F=e=>"*"===e;function j(e,t){let n=e.split("/"),r=n.length;return n.some(F)&&(r+=O),t&&(r+=R),n.filter(e=>!F(e)).reduce((e,t)=>e+(P.test(t)?D:""===t?M:L),r)}function V(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:X([s,u.pathname]),pathnameBase:Y(X([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=X([s,u.pathnameBase]))}return o}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=z(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:o,pattern:e}}function z(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];w("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function B(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return w(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function q(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function G(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function K(e){let t=G(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function W(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=E(e):(r=u({},e),b(!r.pathname||!r.pathname.includes("?"),q("?","pathname","search",r)),b(!r.pathname||!r.pathname.includes("#"),q("#","pathname","hash",r)),b(!r.search||!r.search.includes("#"),q("#","search","hash",r)));let s,o=""===e||""===r.pathname,a=o?"/":r.pathname;if(null==a)s=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?E(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Q(r),hash:$(i)}}(r,s),c=a&&"/"!==a&&a.endsWith("/"),h=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!h||(l.pathname+="/"),l}var X=e=>e.join("/").replace(/\/\/+/g,"/"),Y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Z=["POST","PUT","PATCH","DELETE"],ee=(new Set(Z),["GET",...Z]);new Set(ee),Symbol("ResetLoaderData");var te=r.createContext(null);te.displayName="DataRouter";var ne=r.createContext(null);ne.displayName="DataRouterState";var re=r.createContext(!1);var ie=r.createContext({isTransitioning:!1});ie.displayName="ViewTransition";var se=r.createContext(new Map);se.displayName="Fetchers";var oe=r.createContext(null);oe.displayName="Await";var ae=r.createContext(null);ae.displayName="Navigation";var le=r.createContext(null);le.displayName="Location";var ce=r.createContext({outlet:null,matches:[],isDataRoute:!1});ce.displayName="Route";var ue=r.createContext(null);ue.displayName="RouteError";function he(){return null!=r.useContext(le)}function de(){return b(he(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(le).location}var fe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){r.useContext(ae).static||r.useLayoutEffect(e)}function me(){let{isDataRoute:e}=r.useContext(ce);return e?function(){let{router:e}=Ee("useNavigate"),t=Te("useNavigate"),n=r.useRef(!1);pe(()=>{n.current=!0});let i=r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(n.current,fe),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,u({fromRouteId:t},i)))},[e,t]);return i}():function(){b(he(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(te),{basename:t,navigator:n}=r.useContext(ae),{matches:i}=r.useContext(ce),{pathname:s}=de(),o=JSON.stringify(K(i)),a=r.useRef(!1);pe(()=>{a.current=!0});let l=r.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(w(a.current,fe),!a.current)return;if("number"===typeof r)return void n.go(r);let l=W(r,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:X([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,o,s,e]);return l}()}r.createContext(null);function ge(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(ce),{pathname:i}=de(),s=JSON.stringify(K(n));return r.useMemo(()=>W(e,JSON.parse(s),i,"path"===t),[e,s,i,t])}function ye(e,t,n,i,s){b(he(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=r.useContext(ae),{matches:a}=r.useContext(ce),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";_e(h,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(h,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=de();if(t){var g;let e="string"===typeof t?E(t):t;b("/"===d||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let y=p.pathname||"/",v=y;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=I(e,{pathname:v});w(f||null!=x,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),w(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let S=Se(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:X([d,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:X([d,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),a,n,i,s);return t&&S?r.createElement(le.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},S):S}function ve(){let e=Ie(),t=J(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:o},"ErrorBoundary")," or"," ",r.createElement("code",{style:o},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,a)}var be=r.createElement(ve,null),we=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?r.createElement(ce.Provider,{value:this.props.routeContext},r.createElement(ue.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xe(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(te);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ce.Provider,{value:t},i)}function Se(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let s=e,o=null===n||void 0===n?void 0:n.errors;if(null!=o){let e=s.findIndex(e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id]));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let a=!1,l=-1;if(n)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){a=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight((e,c,u)=>{let h,d=!1,f=null,p=null;n&&(h=o&&c.route.id?o[c.route.id]:void 0,f=c.route.errorElement||be,a&&(l<0&&0===u?(_e("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):l===u&&(d=!0,p=c.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,u+1)),g=()=>{let t;return t=h?f:d?p:c.route.Component?r.createElement(c.route.Component,null):c.route.element?c.route.element:e,r.createElement(xe,{match:c,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?r.createElement(we,{location:n.location,revalidation:n.revalidation,component:f,error:h,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:i}):g()},null)}function ke(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ee(e){let t=r.useContext(te);return b(t,ke(e)),t}function Ce(e){let t=r.useContext(ne);return b(t,ke(e)),t}function Te(e){let t=function(e){let t=r.useContext(ce);return b(t,ke(e)),t}(e),n=t.matches[t.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ie(){var e;let t=r.useContext(ue),n=Ce("useRouteError"),i=Te("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[i]}var Ne={};function _e(e,t,n){t||Ne[e]||(Ne[e]=!0,w(!1,n))}var Ae={};function Pe(e,t){e||Ae[t]||(Ae[t]=!0,console.warn(t))}r.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:i}=e;return ye(t,void 0,r,i,n)});function De(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Re(e){let{basename:t="/",children:n=null,location:i,navigationType:s="POP",navigator:o,static:a=!1}=e;b(!he(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo(()=>({basename:l,navigator:o,static:a,future:{}}),[l,o,a]);"string"===typeof i&&(i=E(i));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=i,m=r.useMemo(()=>{let e=H(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:s}},[l,u,h,d,f,p,s]);return w(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:r.createElement(ae.Provider,{value:c},r.createElement(le.Provider,{children:n,value:m}))}function Me(e){let{children:t,location:n}=e;return ye(Le(t),n)}r.Component;function Le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Le(e.props.children,s));b(e.type===De,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Le(e.props.children,s)),n.push(o)}),n}var Oe="get",Fe="application/x-www-form-urlencoded";function je(e){return null!=e&&"string"===typeof e.tagName}var Ve=null;var Ue=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ze(e){return null==e||Ue.has(e)?e:(w(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Fe,'"')),null)}function Be(e,t){let n,r,i,s,o;if(je(a=e)&&"form"===a.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?H(o,t):null,n=e.getAttribute("method")||Oe,i=ze(e.getAttribute("enctype"))||Fe,s=new FormData(e)}else if(function(e){return je(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return je(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||o.getAttribute("action");if(r=a?H(a,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Oe,i=ze(e.getAttribute("formenctype"))||ze(o.getAttribute("enctype"))||Fe,s=new FormData(o,e),!function(){if(null===Ve)try{new FormData(document.createElement("form"),0),Ve=!1}catch(e){Ve=!0}return Ve}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(je(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oe,r=null,i=Fe,o=e}var a;return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function He(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function qe(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===H(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Ge(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ke(e){return null!=e&&"string"===typeof e.page}function We(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Xe(e,t,n,r,i,s){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>o(e,t)||a(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,s)||a(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Ye(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function Qe(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Ke(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e},[])}function $e(e,t){return"lazy"===e.mode&&!0===t}function Je(){let e=r.useContext(te);return He(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ze(){let e=r.useContext(ne);return He(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var et=r.createContext(void 0);function tt(){let e=r.useContext(et);return He(e,"You must render this element inside a <HydratedRouter> element"),e}function nt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function rt(e,t,n){if(n&&!at)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}et.displayName="FrameworkContext";function it(e){let{page:t}=e,n=s(e,d),{router:i}=Je(),o=r.useMemo(()=>I(i.routes,t,i.basename),[i.routes,t,i.basename]);return o?r.createElement(ot,u({page:t,matches:o},n)):null}function st(e){let{manifest:t,routeModules:n}=tt(),[i,s]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return Qe((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Ge(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(We).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||s(e)}),()=>{r=!0}},[e,t,n]),i}function ot(e){let{page:t,matches:n}=e,i=s(e,f),o=de(),{manifest:a,routeModules:l}=tt(),{basename:c}=Je(),{loaderData:h,matches:d}=Ze(),p=r.useMemo(()=>Xe(t,n,d,a,o,"data"),[t,n,d,a,o]),m=r.useMemo(()=>Xe(t,n,d,a,o,"assets"),[t,n,d,a,o]),g=r.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let i=a.routes[t.route.id];i&&i.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in h&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=qe(t,c,"data");return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[c,h,o,a,p,n,t,l]),y=r.useMemo(()=>Ye(m,a),[m,a]),v=st(m);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},i))),y.map(e=>r.createElement("link",u({key:e,rel:"modulepreload",href:e},i))),v.map(e=>{let{key:t,link:n}=e;return r.createElement("link",u({key:t,nonce:i.nonce},n))}))}var at=!1;function lt(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,renderMeta:o,routeDiscovery:a,ssr:l}=tt(),{router:c,static:d,staticContext:f}=Je(),{matches:p}=Ze(),m=r.useContext(re),g=$e(a,l);o&&(o.didRenderScripts=!0);let y=rt(p,null,i);r.useEffect(()=>{at=!0},[]);let v=r.useMemo(()=>{var i;if(m)return null;let o=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",a=d?"".concat(null!==(i=t.hmr)&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(y.map((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];He(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:o,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=i,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=s(e,h),i=new Set(t.state.matches.map(e=>e.route.id)),o=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(o.pop();o.length>0;)a.push("/".concat(o.join("/"))),o.pop();a.forEach(e=>{let n=I(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let l=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return u(u({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:void 0})),r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:"module",async:!0})))},[]),b=at||m?[]:(w=t.entry.imports.concat(Ye(y,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let x="object"===typeof t.sri?t.sri:{};return Pe(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),at||m?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:x[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:x[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:x[t],suppressHydrationWarning:!0})),v)}function ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function ut(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,s=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(J(t))return r.createElement(ht,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement(ht,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function ht(e){var t;let{title:n,renderScripts:i,isOutsideRemixApp:s,children:o}=e,{routeModules:a}=tt();return null!==(t=a.root)&&void 0!==t&&t.Layout&&!s?o:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,i?r.createElement(lt,null):null)))}var dt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{dt&&(window.__reactRouterVersion="7.9.3")}catch(eP){}function ft(e){let{basename:t,children:n,window:i}=e,s=r.useRef();null==s.current&&(s.current=v({window:i,v5Compat:!0}));let o=s.current,[a,l]=r.useState({action:o.action,location:o.location}),c=r.useCallback(e=>{r.startTransition(()=>l(e))},[l]);return r.useLayoutEffect(()=>o.listen(c),[o,c]),r.createElement(Re,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}var pt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=r.forwardRef(function(e,t){let n,{onClick:i,discover:o="render",prefetch:a="none",relative:l,reloadDocument:c,replace:h,state:d,target:f,to:m,preventScrollReset:g,viewTransition:y}=e,v=s(e,p),{basename:x}=r.useContext(ae),S="string"===typeof m&&pt.test(m),E=!1;if("string"===typeof m&&S&&(n=m,dt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=H(t.pathname,x);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:E=!0}catch(eP){w(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let C=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(he(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(ae),{hash:s,pathname:o,search:a}=ge(e,{relative:t}),l=o;return"/"!==n&&(l="/"===o?n:X([n,o])),i.createHref({pathname:l,search:a,hash:s})}(m,{relative:l}),[T,I,N]=function(e,t){let n=r.useContext(et),[i,s]=r.useState(!1),[o,a]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,f=r.useRef(null);r.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(i){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{s(!0)},m=()=>{s(!1),a(!1)};return n?"intent"!==e?[o,f,{}]:[o,f,{onFocus:nt(l,p),onBlur:nt(c,m),onMouseEnter:nt(u,p),onMouseLeave:nt(h,m),onTouchStart:nt(d,p)}]:[!1,f,{}]}(a,v),_=function(e){let{target:t,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=me(),c=de(),u=ge(e,{relative:o});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:k(c)===k(u);l(e,{replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,n,i,t,e,s,o,a])}(m,{replace:h,state:d,target:f,preventScrollReset:g,relative:l,viewTransition:y});let A=r.createElement("a",u(u(u({},v),N),{},{href:n||C,onClick:E||c?i:function(e){i&&i(e),e.defaultPrevented||_(e)},ref:ct(t,I),target:f,"data-discover":S||"render"!==o?void 0:"true"}));return T&&!S?r.createElement(r.Fragment,null,A,r.createElement(it,{page:C})):A});mt.displayName="Link",r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:o="",end:a=!1,style:l,to:c,viewTransition:h,children:d}=e,f=s(e,m),p=ge(c,{relative:f.relative}),g=de(),y=r.useContext(ne),{navigator:v,basename:w}=r.useContext(ae),x=null!=y&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(ie);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=vt("useViewTransitionState"),s=ge(e,{relative:t});if(!n.isTransitioning)return!1;let o=H(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=H(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=U(s.pathname,a)||null!=U(s.pathname,o)}(p)&&!0===h,S=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,k=g.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(k=k.toLowerCase(),E=E?E.toLowerCase():null,S=S.toLowerCase()),E&&w&&(E=H(E,w)||E);const C="/"!==S&&S.endsWith("/")?S.length-1:S.length;let T,I=k===S||!a&&k.startsWith(S)&&"/"===k.charAt(C),N=null!=E&&(E===S||!a&&E.startsWith(S)&&"/"===E.charAt(S.length)),_={isActive:I,isPending:N,isTransitioning:x},A=I?n:void 0;T="function"===typeof o?o(_):[o,I?"active":null,N?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(_):l;return r.createElement(mt,u(u({},f),{},{"aria-current":A,className:T,ref:t,style:P,to:c,viewTransition:h}),"function"===typeof d?d(_):d)}).displayName="NavLink";var gt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:o,reloadDocument:a,replace:l,state:c,method:h=Oe,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:y}=e,v=s(e,g),w=xt(),x=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ae),i=r.useContext(ce);b(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o=u({},ge(e||".",{relative:t})),a=de();if(null==e){o.search=a.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:X([n,o.pathname]));return k(o)}(d,{relative:p}),S="get"===h.toLowerCase()?"get":"post",E="string"===typeof d&&pt.test(d);return r.createElement("form",u(u({ref:t,method:S,action:x,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||h;w(t||e.currentTarget,{fetcherKey:i,method:n,navigate:o,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:y})}},v),{},{"data-discover":E||"render"!==n?void 0:"true"}))});function yt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function vt(e){let t=r.useContext(te);return b(t,yt(e)),t}gt.displayName="Form";var bt=0,wt=()=>"__".concat(String(++bt),"__");function xt(){let{router:e}=vt("useSubmit"),{basename:t}=r.useContext(ae),n=Te("useRouteId");return r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:a,formData:l,body:c}=Be(r,t);if(!1===i.navigate){let t=i.fetcherKey||wt();await e.fetch(t,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}const St=["flow","scope","onSuccess","onError","onNonOAuthError","overrideScope","state"];const kt=(0,r.createContext)(null);function Et(e){let{clientId:t,nonce:n,onScriptLoadSuccess:i,onScriptLoadError:s,children:o}=e;const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:i}=e,[s,o]=(0,r.useState)(!1),a=(0,r.useRef)(n);a.current=n;const l=(0,r.useRef)(i);return l.current=i,(0,r.useEffect)(()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=t,e.onload=()=>{var e;o(!0),null===(e=a.current)||void 0===e||e.call(a)},e.onerror=()=>{var e;o(!1),null===(e=l.current)||void 0===e||e.call(l)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[t]),s}({nonce:n,onScriptLoadSuccess:i,onScriptLoadError:s}),l=(0,r.useMemo)(()=>({clientId:t,scriptLoadedSuccessfully:a}),[t,a]);return r.createElement(kt.Provider,{value:l},o)}function Ct(){const e=(0,r.useContext)(kt);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}const Tt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},It={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Tt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Nt;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Nt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _t=function(e){return function(e){const t=Tt(e);return It.encodeByteArray(t,!0)}(e).replace(/\./g,"")},At=function(e){try{return It.decodeString(e,!0)}catch(eP){console.error("base64Decode failed: ",eP)}return null};function Pt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Dt=()=>{try{return Pt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/babyname2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NAME:"New Baby Name",REACT_APP_VERSION:"2.0.0",REACT_APP_BASE_URL:"http://localhost:3000",REACT_APP_API_URL:"http://localhost:5000",REACT_APP_GOOGLE_API_KEY:"AIzaSyALzy3qXMyXPtLl7pUuCDo_eE5X89u3dpA",REACT_APP_GEMINI_API_KEY:"AIzaSyALzy3qXMyXPtLl7pUuCDo_eE5X89u3dpA",REACT_APP_YOUTUBE_API_KEY:"AIzaSyALzy3qXMyXPtLl7pUuCDo_eE5X89u3dpA",REACT_APP_GOOGLE_ANALYTICS_ID:"GA-XXXXXXXXX",REACT_APP_GOOGLE_CLIENT_ID:"1093132372253-a725n8gpe624usli0hnj3re1eicgi4o2.apps.googleusercontent.com",REACT_APP_GOOGLE_CLIENT_SECRET:"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",REACT_APP_OAUTH_REDIRECT_URI_DEV:"http://localhost:3000/auth/callback",REACT_APP_OAUTH_REDIRECT_URI_PROD:"https://amirchason.github.io/babyname2",REACT_APP_USE_LOCAL_DB:"true",REACT_APP_LOCAL_DB_PATH:"/data/names.json",REACT_APP_API_DB_URL:"https://api.babynames.com",REACT_APP_API_DB_KEY:"",REACT_APP_ENABLE_SCRAPING:"true",REACT_APP_ENABLE_AI_CHAT:"true",REACT_APP_ENABLE_BLOG:"false",REACT_APP_ENABLE_FAVORITES:"true",REACT_APP_SCRAPE_WIKIPEDIA:"true",REACT_APP_SCRAPE_YOUTUBE:"true",REACT_APP_SCRAPE_IMDB:"true",REACT_APP_SCRAPE_BIBLE_API:"true",REACT_APP_SCRAPE_DELAY:"1000",REACT_APP_SCRAPE_MAX_RETRIES:"3",REACT_APP_CACHE_DURATION:"3600000",REACT_APP_USE_SERVICE_WORKER:"true",REACT_APP_PRIMARY_COLOR:"#D8B2F2",REACT_APP_SECONDARY_COLOR:"#FFB3D9",REACT_APP_ACCENT_COLOR:"#B3D9FF",REACT_APP_MAX_TRENDING_NAMES:"6",REACT_APP_MAX_POPULAR_NAMES:"8",REACT_APP_NAMES_PER_PAGE:"20",REACT_APP_DEBUG_MODE:"false",REACT_APP_LOG_LEVEL:"info",REACT_APP_SENTRY_DSN:"",REACT_APP_HOMEPAGE:"https://amirchason.github.io/babyname2"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(eP){return}const t=e&&At(e[1]);return t&&JSON.parse(t)})()}catch(eP){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(eP))}},Rt=e=>{var t;return null===(t=Dt())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},Mt=()=>{var e;return null===(e=Dt())||void 0===e?void 0:e.config},Lt=e=>{var t;return null===(t=Dt())||void 0===t?void 0:t["_".concat(e)]};class Ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Ft(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function jt(e){return(await fetch(e,{credentials:"include"})).ok}const Vt={};let Ut=!1;function zt(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Ft(window.location.host)||Vt[e]===t||Vt[e]||Ut)return;function n(e){return"__firebase__banner__".concat(e)}Vt[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Vt))Vt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Ut=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function Bt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ht(){var e;const t=null===(e=Dt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(eP){return!1}}function qt(){return!Ht()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gt(){return!Ht()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Kt(){try{return"object"===typeof indexedDB}catch(eP){return!1}}class Wt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Wt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xt.prototype.create)}}class Xt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Yt,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Wt(n,s,t)}}const Yt=/\{\$([^}]+)}/g;function Qt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if($t(n)&&$t(s)){if(!Qt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $t(e){return null!==e&&"object"===typeof e}function Jt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Zt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function en(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class tn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=nn),void 0===r.error&&(r.error=nn),void 0===r.complete&&(r.complete=nn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(eP){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(eP){"undefined"!==typeof console&&console.error&&console.error(eP)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nn(){}function rn(e){return e&&e._delegate?e._delegate:e}class sn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const on="[DEFAULT]";class an{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ot;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(eP){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(eP){if(r)return null;throw eP}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:on})}catch(eP){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(eP){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===on?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on;return this.component?this.component.multipleInstances?e:on:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ln{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new an(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const cn=[];var un;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(un||(un={}));const hn={debug:un.DEBUG,verbose:un.VERBOSE,info:un.INFO,warn:un.WARN,error:un.ERROR,silent:un.SILENT},dn=un.INFO,fn={[un.DEBUG]:"log",[un.VERBOSE]:"log",[un.INFO]:"info",[un.WARN]:"warn",[un.ERROR]:"error"},pn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=fn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class mn{constructor(e){this.name=e,this._logLevel=dn,this._logHandler=pn,this._userLogHandler=null,cn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in un))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?hn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,un.DEBUG,...t),this._logHandler(this,un.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,un.VERBOSE,...t),this._logHandler(this,un.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,un.INFO,...t),this._logHandler(this,un.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,un.WARN,...t),this._logHandler(this,un.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,un.ERROR,...t),this._logHandler(this,un.ERROR,...t)}}let gn,yn;const vn=new WeakMap,bn=new WeakMap,wn=new WeakMap,xn=new WeakMap,Sn=new WeakMap;let kn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||wn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function En(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yn||(yn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(In(this),n),Tn(vn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tn(e.apply(In(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(In(this),t,...r);return wn.set(s,t.sort?t.sort():[t]),Tn(s)}}function Cn(e){return"function"===typeof e?En(e):(e instanceof IDBTransaction&&function(e){if(bn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});bn.set(e,t)}(e),t=e,(gn||(gn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,kn):e);var t}function Tn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Tn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&vn.set(t,e)}).catch(()=>{}),Sn.set(t,e),t}(e);if(xn.has(e))return xn.get(e);const t=Cn(e);return t!==e&&(xn.set(e,t),Sn.set(t,e)),t}const In=e=>Sn.get(e);const Nn=["get","getKey","getAll","getAllKeys","count"],_n=["put","add","delete","clear"],An=new Map;function Pn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(An.get(t))return An.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=_n.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Nn.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return An.set(t,s),s}kn=(e=>u(u({},e),{},{get:(t,n,r)=>Pn(t,n)||e.get(t,n,r),has:(t,n)=>!!Pn(t,n)||e.has(t,n)}))(kn);class Dn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Rn="@firebase/app",Mn="0.14.3",Ln=new mn("@firebase/app"),On="@firebase/app-compat",Fn="@firebase/analytics-compat",jn="@firebase/analytics",Vn="@firebase/app-check-compat",Un="@firebase/app-check",zn="@firebase/auth",Bn="@firebase/auth-compat",Hn="@firebase/database",qn="@firebase/data-connect",Gn="@firebase/database-compat",Kn="@firebase/functions",Wn="@firebase/functions-compat",Xn="@firebase/installations",Yn="@firebase/installations-compat",Qn="@firebase/messaging",$n="@firebase/messaging-compat",Jn="@firebase/performance",Zn="@firebase/performance-compat",er="@firebase/remote-config",tr="@firebase/remote-config-compat",nr="@firebase/storage",rr="@firebase/storage-compat",ir="@firebase/firestore",sr="@firebase/ai",or="@firebase/firestore-compat",ar="firebase",lr="[DEFAULT]",cr={[Rn]:"fire-core",[On]:"fire-core-compat",[jn]:"fire-analytics",[Fn]:"fire-analytics-compat",[Un]:"fire-app-check",[Vn]:"fire-app-check-compat",[zn]:"fire-auth",[Bn]:"fire-auth-compat",[Hn]:"fire-rtdb",[qn]:"fire-data-connect",[Gn]:"fire-rtdb-compat",[Kn]:"fire-fn",[Wn]:"fire-fn-compat",[Xn]:"fire-iid",[Yn]:"fire-iid-compat",[Qn]:"fire-fcm",[$n]:"fire-fcm-compat",[Jn]:"fire-perf",[Zn]:"fire-perf-compat",[er]:"fire-rc",[tr]:"fire-rc-compat",[nr]:"fire-gcs",[rr]:"fire-gcs-compat",[ir]:"fire-fst",[or]:"fire-fst-compat",[sr]:"fire-vertex","fire-js":"fire-js",[ar]:"fire-js-all"},ur=new Map,hr=new Map,dr=new Map;function fr(e,t){try{e.container.addComponent(t)}catch(eP){Ln.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),eP)}}function pr(e){const t=e.name;if(dr.has(t))return Ln.debug("There were multiple attempts to register component ".concat(t,".")),!1;dr.set(t,e);for(const n of ur.values())fr(n,e);for(const n of hr.values())fr(n,e);return!0}function mr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function gr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const yr=new Xt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class vr{constructor(e,t,n){this._isDeleted=!1,this._options=u({},e),this._config=u({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}const br="12.3.0";function wr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=u({name:lr,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw yr.create("bad-app-name",{appName:String(i)});if(n||(n=Mt()),!n)throw yr.create("no-options");const s=ur.get(i);if(s){if(Qt(n,s.options)&&Qt(r,s.config))return s;throw yr.create("duplicate-app",{appName:i})}const o=new ln(i);for(const l of dr.values())o.addComponent(l);const a=new vr(n,r,o);return ur.set(i,a),a}function xr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr;const t=ur.get(e);if(!t&&e===lr&&Mt())return wr();if(!t)throw yr.create("no-app",{appName:e});return t}function Sr(e,t,n){var r;let i=null!==(r=cr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ln.warn(e.join(" "))}pr(new sn("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const kr="firebase-heartbeat-store";let Er=null;function Cr(){return Er||(Er=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Tn(o);return r&&o.addEventListener("upgradeneeded",e=>{r(Tn(o.result),e.oldVersion,e.newVersion,Tn(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(kr)}catch(eP){console.warn(eP)}}}).catch(e=>{throw yr.create("idb-open",{originalErrorMessage:e.message})})),Er}async function Tr(e,t){try{const n=(await Cr()).transaction(kr,"readwrite"),r=n.objectStore(kr);await r.put(t,Ir(e)),await n.done}catch(eP){if(eP instanceof Wt)Ln.warn(eP.message);else{const t=yr.create("idb-set",{originalErrorMessage:null===eP||void 0===eP?void 0:eP.message});Ln.warn(t.message)}}}function Ir(e){return"".concat(e.name,"!").concat(e.options.appId)}class Nr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ar(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_r();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(eP){Ln.warn(eP)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=_r(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Pr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=_t(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(eP){return Ln.warn(eP),""}}}function _r(){return(new Date).toISOString().substring(0,10)}class Ar{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Kt()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Cr()).transaction(kr),n=await t.objectStore(kr).get(Ir(e));return await t.done,n}catch(eP){if(eP instanceof Wt)Ln.warn(eP.message);else{const t=yr.create("idb-get",{originalErrorMessage:null===eP||void 0===eP?void 0:eP.message});Ln.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Tr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Tr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Pr(e){return _t(JSON.stringify({version:2,heartbeats:e})).length}var Dr;Dr="",pr(new sn("platform-logger",e=>new Dn(e),"PRIVATE")),pr(new sn("heartbeat",e=>new Nr(e),"PRIVATE")),Sr(Rn,Mn,Dr),Sr(Rn,Mn,"esm2020"),Sr("fire-js","");const Rr=["providerId"],Mr=["uid","auth","stsTokenManager"],Lr=["providerId","signInMethod"];function Or(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fr=Or,jr=new Xt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Vr=new mn("@firebase/auth");function Ur(e){if(Vr.logLevel<=un.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Vr.error("Auth (".concat(br,"): ").concat(e),...n)}}function zr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Gr(e,...n)}function Br(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Gr(e,...n)}function Hr(e,t,n){const r=u(u({},Fr()),{},{[t]:n});return new Xt("auth","Firebase",r).create(t,{appName:e.name})}function qr(e){return Hr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return jr.create(e,...n)}function Kr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Gr(t,...r)}}function Wr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ur(t),new Error(t)}function Xr(e,t){e||Wr(t)}function Yr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Qr(){return"http:"===$r()||"https:"===$r()}function $r(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Jr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Qr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Zr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Jr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ei(e,t){Xr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class ti{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ni={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ri=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ii=new Zr(3e4,6e4);function si(e,t){return e.tenantId&&!t.tenantId?u(u({},t),{},{tenantId:e.tenantId}):t}async function oi(e,t,n,r){return ai(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Jt(u({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=u({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Ft(e.emulatorConfig.host)&&(l.credentials="include"),ti.fetch()(await ci(e,e.config.apiHost,n,o),l)})}async function ai(e,t,n){e._canInitEmulator=!1;const r=u(u({},ni),t);try{const t=new hi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw di(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw di(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw di(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw di(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Hr(e,a,o);zr(e,a)}}catch(eP){if(eP instanceof Wt)throw eP;zr(e,"network-request-failed",{message:String(eP)})}}async function li(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await oi(e,t,n,r,i);return"mfaPendingCredential"in s&&zr(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function ci(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,o=s.config.emulator?ei(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(ri.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(o).toString()}return o}function ui(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hi{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Br(this.auth,"network-request-failed")),ii.get())})}}function di(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Br(e,t,r);return i.customData._tokenResponse=n,i}function fi(e){return void 0!==e&&void 0!==e.enterprise}class pi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ui(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mi(e,t){return oi(e,"GET","/v2/recaptchaConfig",si(e,t))}async function gi(e,t){return oi(e,"POST","/v1/accounts:lookup",t)}function yi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(eP){}}function vi(e){return 1e3*Number(e)}function bi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ur("JWT malformed, contained fewer than 3 sections"),null;try{const e=At(n);return e?JSON.parse(e):(Ur("Failed to decode base64 JWT payload"),null)}catch(eP){return Ur("Caught error parsing JWT payload as JSON",null===eP||void 0===eP?void 0:eP.toString()),null}}function wi(e){const t=bi(e);return Kr(t,"internal-error"),Kr("undefined"!==typeof t.exp,"internal-error"),Kr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function xi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(eP){throw eP instanceof Wt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(eP)&&e.auth.currentUser===e&&await e.auth.signOut(),eP}}class Si{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(eP){return void((null===eP||void 0===eP?void 0:eP.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ki{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yi(this.lastLoginAt),this.creationTime=yi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ei(e){var t;const n=e.auth,r=await e.getIdToken(),i=await xi(e,gi(n,{idToken:r}));Kr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?Ci(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null!==a&&void 0!==a&&a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ki(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Ci(e){return e.map(e=>{let{providerId:t}=e,n=s(e,Rr);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Kr(e.idToken,"internal-error"),Kr("undefined"!==typeof e.idToken,"internal-error"),Kr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):wi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Kr(0!==e.length,"internal-error");const t=wi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Kr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ai(e,{},async()=>{const n=Jt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await ci(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:o,body:n};return e.emulatorConfig&&Ft(e.emulatorConfig.host)&&(a.credentials="include"),ti.fetch()(s,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Ti;return n&&(Kr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Kr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Kr("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ti,this.toJSON())}_performRefresh(){return Wr("not implemented")}}function Ii(e,t){Kr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ni{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=s(e,Mr);this.providerId="firebase",this.proactiveRefresh=new Si(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ki(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await xi(this,this.stsTokenManager.getToken(this.auth,e));return Kr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=rn(e),r=await n.getIdToken(t),i=bi(r);Kr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:yi(vi(i.auth_time)),issuedAtTime:yi(vi(i.iat)),expirationTime:yi(vi(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=rn(e);await Ei(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Kr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>u({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ni(u(u({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Kr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ei(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(qr(this.auth));const e=await this.getIdToken();return await xi(this,async function(e,t){return oi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return u(u({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>u({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const h=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:S,stsTokenManager:k}=t;Kr(b&&k,e,"internal-error");const E=Ti.fromJSON(this.name,k);Kr("string"===typeof b,e,"internal-error"),Ii(h,e.name),Ii(d,e.name),Kr("boolean"===typeof w,e,"internal-error"),Kr("boolean"===typeof x,e,"internal-error"),Ii(f,e.name),Ii(p,e.name),Ii(m,e.name),Ii(g,e.name),Ii(y,e.name),Ii(v,e.name);const C=new Ni({uid:b,auth:e,email:d,emailVerified:w,displayName:h,isAnonymous:x,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:E,createdAt:y,lastLoginAt:v});return S&&Array.isArray(S)&&(C.providerData=S.map(e=>u({},e))),g&&(C._redirectEventId=g),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ti;r.updateFromServerResponse(t);const i=new Ni({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ei(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Kr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Ci(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),o=new Ti;o.updateFromIdToken(n);const a=new Ni({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ki(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const _i=new Map;function Ai(e){Xr(e instanceof Function,"Expected a class definition");let t=_i.get(e);return t?(Xr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_i.set(e,t),t)}class Pi{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Pi.type="NONE";const Di=Pi;function Ri(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Mi{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ri(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ri("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await gi(this.auth,{idToken:e}).catch(()=>{});return t?Ni._fromGetAccountInfoResponse(this.auth,t,e):null}return Ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Mi(Ai(Di),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Ai(Di);const s=Ri(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await gi(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Ni._fromGetAccountInfoResponse(e,r,t)}else n=Ni._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(t){}})),new Mi(i,e,n)):new Mi(i,e,n)}}function Li(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Vi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Oi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zi(t))return"Blackberry";if(Bi(t))return"Webos";if(Fi(t))return"Safari";if((t.includes("chrome/")||ji(t))&&!t.includes("edge/"))return"Chrome";if(Ui(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Oi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/firefox\//i.test(e)}function Fi(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ji(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/crios\//i.test(e)}function Vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/iemobile/i.test(e)}function Ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/android/i.test(e)}function zi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/blackberry/i.test(e)}function Bi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/webos/i.test(e)}function Hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function qi(){return function(){const e=Bt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Gi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return Hi(e)||Ui(e)||Bi(e)||zi(e)||/windows phone/i.test(e)||Vi(e)}function Ki(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Li(Bt());break;case"Worker":t="".concat(Li(Bt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(br,"/").concat(r)}class Wi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(eP){r(eP)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(eP){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===eP||void 0===eP?void 0:eP.message})}}}class Xi{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Yi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $i(this),this.idTokenSubscription=new $i(this),this.beforeStateQueue=new Wi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Mi.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(eP){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await gi(this,{idToken:e}),n=await Ni._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(gr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,s;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,o=null===(s=n)||void 0===s?void 0:s._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==o||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(eP){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(eP))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Kr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(eP){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ei(e)}catch(eP){if((null===eP||void 0===eP?void 0:eP.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(qr(this));const t=e?rn(e):null;return t&&Kr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Kr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return oi(e,"GET","/v2/passwordPolicy",si(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Xi(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return oi(e,"POST","/v2/accounts:revokeToken",si(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ai(e)||this._popupRedirectResolver;Kr(t,this,"argument-error"),this.redirectPersistenceManager=await Mi.create(this,[Ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Kr(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Kr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ki(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Vr.logLevel<=un.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Vr.warn("Auth (".concat(br,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Qi(e){return rn(e)}class $i{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new tn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Kr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ji={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zi(e){return Ji.loadJS(e)}function es(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ts{constructor(){this.enterprise=new ns}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ns{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const rs="NO_RECAPTCHA";class is{constructor(e){this.type="recaptcha-enterprise",this.auth=Qi(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;fi(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(rs)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new ts).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{mi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new pi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&fi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ji.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Zi(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function ss(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new is(e);let o;if(i)o=rs;else try{o=await s.verify(n)}catch(l){o=await s.verify(n,!0)}const a=u({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function os(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ss(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await ss(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("PHONE_PROVIDER")){const i=await ss(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await ss(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await ss(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function as(e){const t=Qi(e),n=await mi(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new pi(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new is(t).verify()}}function ls(e,t,n){const r=Qi(e);Kr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),s=cs(t),{host:o,port:a}=function(e){const t=cs(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:us(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:us(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(s,"//").concat(o).concat(l,"/")},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Kr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Kr(Qt(c,r.config.emulator)&&Qt(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Ft(o)?(jt("".concat(s,"//").concat(o).concat(l)),zt("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function cs(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function us(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class hs{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,t){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function ds(e,t){return oi(e,"POST","/v1/accounts:signUp",t)}async function fs(e,t){return li(e,"POST","/v1/accounts:signInWithPassword",si(e,t))}class ps extends hs{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ps(e,t,"password")}static _fromEmailAndCode(e,t){return new ps(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return os(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",fs,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return li(e,"POST","/v1/accounts:signInWithEmailLink",si(e,t))}(e,{email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return os(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ds,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return li(e,"POST","/v1/accounts:signInWithEmailLink",si(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ms(e,t){return li(e,"POST","/v1/accounts:signInWithIdp",si(e,t))}class gs extends hs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=s(t,Lr);if(!n||!r)return null;const o=new gs(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return ms(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ms(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ms(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jt(t)}return e}}async function ys(e,t){return oi(e,"POST","/v1/accounts:sendVerificationCode",si(e,t))}const vs={USER_NOT_FOUND:"user-not-found"};class bs extends hs{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new bs({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new bs({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return li(e,"POST","/v1/accounts:signInWithPhoneNumber",si(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await li(e,"POST","/v1/accounts:signInWithPhoneNumber",si(e,t));if(n.temporaryProof)throw di(e,"account-exists-with-different-credential",n);return n}(e,u({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return li(e,"POST","/v1/accounts:signInWithPhoneNumber",si(e,u(u({},t),{},{operation:"REAUTH"})),vs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new bs({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ws{constructor(e){var t,n,r,i,s,o;const a=Zt(en(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Kr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Zt(en(e)).link,n=t?Zt(en(t)).deep_link_id:null,r=Zt(en(e)).deep_link_id;return(r?Zt(en(r)).link:null)||r||n||t||e}(e);try{return new ws(t)}catch(n){return null}}}class xs{constructor(){this.providerId=xs.PROVIDER_ID}static credential(e,t){return ps._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ws.parseLink(t);return Kr(n,"argument-error"),ps._fromEmailAndCode(e,n.code,n.tenantId)}}xs.PROVIDER_ID="password",xs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",xs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ss{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ks extends Ss{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Es extends ks{constructor(){super("facebook.com")}static credential(e){return gs._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Es.credential(t.oauthAccessToken)}catch(n){return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com",Es.PROVIDER_ID="facebook.com";class Cs extends ks{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gs._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Cs.credential(n,r)}catch(i){return null}}}Cs.GOOGLE_SIGN_IN_METHOD="google.com",Cs.PROVIDER_ID="google.com";class Ts extends ks{constructor(){super("github.com")}static credential(e){return gs._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ts.credential(t.oauthAccessToken)}catch(n){return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com",Ts.PROVIDER_ID="github.com";class Is extends ks{constructor(){super("twitter.com")}static credential(e,t){return gs._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Is.credential(n,r)}catch(i){return null}}}Is.TWITTER_SIGN_IN_METHOD="twitter.com",Is.PROVIDER_ID="twitter.com";class Ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ni._fromIdTokenResponse(e,n,r),s=_s(n);return new Ns({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=_s(n);return new Ns({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function _s(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class As extends Wt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,As.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new As(e,t,n,r)}}function Ps(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw As._fromErrorAndOperation(e,n,t,r);throw n})}async function Ds(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await xi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ns._forOperation(e,"link",r)}async function Rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(gr(r.app))return Promise.reject(qr(r));const i="reauthenticate";try{const s=await xi(e,Ps(r,i,t,e),n);Kr(s.idToken,r,"internal-error");const o=bi(s.idToken);Kr(o,r,"internal-error");const{sub:a}=o;return Kr(e.uid===a,r,"user-mismatch"),Ns._forOperation(e,i,s)}catch(eP){throw(null===eP||void 0===eP?void 0:eP.code)==="auth/".concat("user-not-found")&&zr(r,"user-mismatch"),eP}}async function Ms(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(gr(e.app))return Promise.reject(qr(e));const r="signIn",i=await Ps(e,r,t),s=await Ns._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Ls(e,t){return Ms(Qi(e),t)}function Os(e,t){return oi(e,"POST","/v2/accounts/mfaEnrollment:start",si(e,t))}new WeakMap;const Fs="__sak";class js{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fs,"1"),this.storage.removeItem(Fs),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Vs extends js{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);qi()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vs.type="LOCAL";const Us=Vs;function zs(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Bs(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Hs{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Bs(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return zs(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Bs(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Bs(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=zs(n);const i=setInterval(()=>{const e=zs(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Hs.type="COOKIE";class qs extends js{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}qs.type="SESSION";const Gs=qs;class Ks{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ks(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(null===s||void 0===s||!s.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ws(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ks.receivers=[];class Xs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const l=Ws("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Ys(){return window}function Qs(){return"undefined"!==typeof Ys().WorkerGlobalScope&&"function"===typeof Ys().importScripts}const $s="firebaseLocalStorageDb",Js="firebaseLocalStorage",Zs="fbase_key";class eo{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function to(e,t){return e.transaction([Js],t?"readwrite":"readonly").objectStore(Js)}function no(){const e=indexedDB.open($s,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Js,{keyPath:Zs})}catch(eP){n(eP)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Js)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase($s);return new eo(e).toPromise()}(),t(await no()))})})}async function ro(e,t,n){const r=to(e,!0).put({[Zs]:t,value:n});return new eo(r).toPromise()}function io(e,t){const n=to(e,!0).delete(t);return new eo(n).toPromise()}class so{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await no()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(eP){if(t++>3)throw eP;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ks._getInstance(Qs()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Xs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await no();return await ro(e,Fs,"1"),await io(e,Fs),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ro(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=to(e,!1).get(t),r=await new eo(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>io(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=to(e,!1).getAll();return new eo(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}so.type="LOCAL";const oo=so;function ao(e,t){return oi(e,"POST","/v2/accounts/mfaSignIn:start",si(e,t))}es("rcb"),new Zr(3e4,6e4);const lo="recaptcha";async function co(e,t,n){if(!e._getRecaptchaConfig())try{await as(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Kr("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=os(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===rs){Kr((null===n||void 0===n?void 0:n.type)===lo,e,"argument-error");return Os(e,await uo(e,t,n))}return Os(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;Kr("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Kr(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=os(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===rs){Kr((null===n||void 0===n?void 0:n.type)===lo,e,"argument-error");return ao(e,await uo(e,t,n))}return ao(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=os(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===rs){Kr((null===n||void 0===n?void 0:n.type)===lo,e,"argument-error");return ys(e,await uo(e,t,n))}return ys(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function uo(e,t,n){Kr(n.type===lo,e,"argument-error");const r=await n.verify();Kr("string"===typeof r,e,"argument-error");const i=u({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class ho{constructor(e){this.providerId=ho.PROVIDER_ID,this.auth=Qi(e)}verifyPhoneNumber(e,t){return co(this.auth,e,rn(t))}static credential(e,t){return bs._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ho.credentialFromTaggedObject(t)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?bs._fromTokenResponse(n,r):null}}function fo(e,t){return t?Ai(t):(Kr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ho.PROVIDER_ID="phone",ho.PHONE_SIGN_IN_METHOD="phone";class po extends hs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ms(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ms(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mo(e){return Ms(e.auth,new po(e),e.bypassAuthState)}function go(e){const{auth:t,user:n}=e;return Kr(n,t,"internal-error"),Rs(n,new po(e),e.bypassAuthState)}async function yo(e){const{auth:t,user:n}=e;return Kr(n,t,"internal-error"),Ds(n,new po(e),e.bypassAuthState)}class vo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(eP){this.reject(eP)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(eP){this.reject(eP)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mo;case"linkViaPopup":case"linkViaRedirect":return yo;case"reauthViaPopup":case"reauthViaRedirect":return go;default:zr(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bo=new Zr(2e3,1e4);class wo extends vo{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Kr(e,this.auth,"internal-error"),e}async onExecution(){Xr(1===this.filter.length,"Popup operations only handle one event");const e=Ws();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,bo.get())};e()}}wo.currentPopupAction=null;const xo=new Map;class So extends vo{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=xo.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Co(t),r=Eo(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(eP){e=()=>Promise.reject(eP)}xo.set(this.auth._key(),e)}return this.bypassAuthState||xo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ko(e,t){xo.set(e._key(),t)}function Eo(e){return Ai(e._redirectPersistence)}function Co(e){return Ri("pendingRedirect",e.config.apiKey,e.name)}async function To(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(gr(e.app))return Promise.reject(qr(e));const r=Qi(e),i=fo(r,t),s=new So(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Io{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _o(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!_o(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Br(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(No(e))}saveEventToCache(e){this.cachedEventUids.add(No(e)),this.lastProcessedEventTime=Date.now()}}function No(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function _o(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Ao=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Po=/^https?/;async function Do(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return oi(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Ro(r))return}catch(n){}zr(e,"unauthorized-domain")}function Ro(e){const t=Yr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Po.test(n))return!1;if(Ao.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Mo=new Zr(3e4,6e4);function Lo(){const e=Ys().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Oo(e){return new Promise((t,n)=>{var r,i;function s(){Lo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Lo(),n(Br(e,"network-request-failed"))},timeout:Mo.get()})}if(null!==(r=Ys().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Ys().gapi)||void 0===i||!i.load){const t=es("iframefcb");return Ys()[t]=()=>{gapi.load?s():n(Br(e,"network-request-failed"))},Zi("".concat(Ji.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw Fo=null,e})}let Fo=null;const jo=new Zr(5e3,15e3),Vo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zo(e){const t=e.config;Kr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ei(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:br},i=Uo.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Jt(r).slice(1))}async function Bo(e){const t=await function(e){return Fo=Fo||Oo(e),Fo}(e),n=Ys().gapi;return Kr(n,e,"internal-error"),t.open({where:document.body,url:zo(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vo,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Br(e,"network-request-failed"),s=Ys().setTimeout(()=>{r(i)},jo.get());function o(){Ys().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const Ho={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(eP){}}}function Go(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=u(u({},Ho),{},{width:r.toString(),height:i.toString(),top:s,left:o}),c=Bt().toLowerCase();n&&(a=ji(c)?"_blank":n),Oi(c)&&(t=t||"http://localhost",l.scrollbars="yes");const h=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Hi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new qo(null);const d=window.open(t||"",a,h);Kr(d,e,"popup-blocked");try{d.focus()}catch(eP){}return new qo(d)}const Ko="__/auth/handler",Wo="emulator/auth/handler",Xo=encodeURIComponent("fac");async function Yo(e,t,n,r,i,s){Kr(e.config.authDomain,e,"auth-domain-config-required"),Kr(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:br,eventId:i};if(t instanceof Ss){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof ks){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Xo,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ko);return ei(t,Wo)}(e),"?").concat(Jt(a).slice(1)).concat(c)}const Qo="webStorageSupport";const $o=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gs,this._completeRedirectFn=To,this._overrideRedirectResult=ko}async _openPopup(e,t,n,r){var i;Xr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Go(e,await Yo(e,t,n,Yr(),r),Ws())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ys().location.href=e}(await Yo(e,t,n,Yr(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Xr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Bo(e),n=new Io(e);return t.register("authEvent",t=>{Kr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qo,{type:Qo},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Qo];void 0!==i&&t(!!i),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Do(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Gi()||Fi()||Hi()}};var Jo="@firebase/auth",Zo="1.11.0";class ea{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Kr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ta=Lt("authIdTokenMaxAge")||300;let na=null;function ra(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr();const t=mr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=mr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Qt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;zr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:$o,persistence:[oo,Us,Gs]}),r=Lt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ta)return;const r=null===t||void 0===t?void 0:t.token;na!==r&&(na=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){rn(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){rn(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=Rt("auth");return s&&ls(n,"http://".concat(s)),n}var ia;Ji={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Br("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},ia="Browser",pr(new sn("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Kr(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:ia,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ki(ia)},c=new Yi(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ai);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),pr(new sn("auth-internal",e=>(e=>new ea(e))(Qi(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(Jo,Zo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ia)),Sr(Jo,Zo,"esm2020");var sa,oa,aa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},la={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let s,o=e.g[3];s=t+(o^n&(i^o))+r[0]+3614090360&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[3]+3250441966&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[4]+4118548399&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[7]+4249261313&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[8]+1770035416&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[11]+2304563134&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[12]+1804603682&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[15]+1236535329&4294967295,s=t+(i^o&((n=i+(s<<22&4294967295|s>>>10))^i))+r[1]+4129170786&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[0]+3921069994&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[5]+3593408605&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[4]+3889429448&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[9]+568446438&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[8]+1163531501&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[13]+2850285829&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[12]+2368359562&4294967295,s=t+((n=i+(s<<20&4294967295|s>>>12))^i^o)+r[5]+4294588738&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[14]+4259657740&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[1]+2763975236&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[10]+3200236656&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[13]+681279174&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[6]+76029189&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[9]+3654602809&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[2]+3299628645&4294967295,s=t+(i^((n=i+(s<<23&4294967295|s>>>9))|~o))+r[0]+4096336452&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[5]+4237533241&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[12]+1700485571&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[1]+2240044497&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[8]+1873313359&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[13]+1309151649&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[4]+4149444226&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let s=this.h,o=0;for(;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function s(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return d(o(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);c.l(e)<=0&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(s=o(n)).j(t);h(c)||c.l(e)>0;)c=(s=o(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const i=e.g.length-n,s=[];for(let r=0;r<i;r++)s[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);const t=o(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let s=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),s=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=s>>>16,t&=65535,s&=65535,n[r]=s<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(this.l(c)<0&&e.l(c)<0)return o(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,s=65535&this.i(i),o=e.i(t)>>>16,a=65535&e.i(t);n[2*i+2*t]+=s*a,p(n,2*i+2*t),n[2*i+2*t+1]+=r*a,p(n,2*i+2*t+1),n[2*i+2*t+1]+=s*o,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*o,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,oa=la.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=o(Math.pow(n,8));let i=a;for(let a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+s),n);s<8?(s=o(Math.pow(n,s)),i=i.j(s).add(o(e))):(i=i.j(r),i=i.add(o(e)))}return i},sa=la.Integer=r}).apply("undefined"!==typeof aa?aa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ca,ua,ha,da,fa,pa,ma,ga,ya="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},va={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ya&&ya];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},s=this||self;function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}var h="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function d(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){s.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},x=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(S)}};function S(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function k(){this.u=this.u,this.C=this.C}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function T(e){return/^[\s\xa0]*$/.test(e)}function I(e,t){E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(I,E),I.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&I.Z.h.call(this)},I.prototype.h=function(){I.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var N="closure_listenable_"+(1e6*Math.random()|0),_=0;function A(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++_,this.da=this.fa=!1}function P(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function D(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function R(e){const t={};for(const n in e)t[n]=e[n];return t}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<M.length;t++)n=M[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function O(e){this.src=e,this.g={},this.h=0}function F(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=s>=0)&&Array.prototype.splice.call(i,s,1),r&&(P(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function j(e,t,n,r){for(let i=0;i<e.length;++i){const s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}O.prototype.add=function(e,t,n,r,i){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const o=j(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):((t=new A(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var V="closure_lm_"+(1e6*Math.random()|0),U={};function z(e,t,n,r,i){if(r&&r.once)return H(e,t,n,r,i);if(Array.isArray(t)){for(let s=0;s<t.length;s++)z(e,t[s],n,r,i);return null}return n=Q(n),e&&e[N]?e.J(t,n,o(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");const a=o(i)?!!i.capture:!!i;let l=X(e);if(l||(e[V]=l=new O(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=W;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)C||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(K(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function H(e,t,n,r,i){if(Array.isArray(t)){for(let s=0;s<t.length;s++)H(e,t[s],n,r,i);return null}return n=Q(n),e&&e[N]?e.K(t,n,o(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)q(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=Q(n),e&&e[N]?(e=e.i,(s=String(t).toString())in e.g&&((n=j(t=e.g[s],n,r,i))>-1&&(P(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=X(e))&&(t=e.g[t.toString()],e=-1,t&&(e=j(t,n,r,i)),(n=e>-1?t[e]:null)&&G(n))}function G(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[N])F(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(K(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=X(t))?(F(n,e),0==n.h&&(n.src=null,t[V]=null)):P(e)}}}function K(e){return e in U?U[e]:U[e]="on"+e}function W(e,t){if(e.da)e=!0;else{t=new I(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&G(e),e=n.call(r,t)}return e}function X(e){return(e=e[V])instanceof O?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function Q(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function $(){k.call(this),this.i=new O(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var i=t;L(t=new E(r,e),i)}let s,o;if(i=!0,n)for(o=n.length-1;o>=0;o--)s=t.g=n[o],i=Z(s,r,!0,t)&&i;if(s=t.g=e,i=Z(s,r,!0,t)&&i,i=Z(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Z(s,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let s=0;s<t.length;++s){const o=t[s];if(o&&!o.da&&o.capture==n){const t=o.listener,n=o.ha||o.src;o.fa&&F(e.i,o),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u($,k),$.prototype[N]=!0,$.prototype.removeEventListener=function(e,t,n,r){q(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)P(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends k{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){k.call(this),this.h=e,this.g={}}u(ne,k);var re=[];function ie(e){D(e.g,function(e,t){this.g.hasOwnProperty(t)&&G(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=s.JSON.stringify,oe=s.JSON.parse,ae=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function he(){E.call(this,"d")}function de(){E.call(this,"c")}u(he,E),u(de,E);var fe={},pe=null;function me(){return pe=pe||new $}function ge(e){E.call(this,fe.Ia,e)}function ye(e){const t=me();J(t,new ge(t))}function ve(e,t){E.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();J(t,new ve(t,e))}function we(e,t){E.call(this,fe.Ja,e),this.size=t}function xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function Se(){this.g=!0}function ke(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return se(s)}catch(s){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,E),fe.STAT_EVENT="statevent",u(ve,E),fe.Ja="timingevent",u(we,E),Se.prototype.ua=function(){this.g=!1},Se.prototype.info=function(){};var Ee,Ce={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Te={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ie(){}function Ne(e){return encodeURIComponent(String(e))}function _e(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ae(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pe}function Pe(){this.i=null,this.g="",this.h=!1}u(Ie,le),Ie.prototype.g=function(){return new XMLHttpRequest},Ee=new Ie;var De={},Re={};function Me(e,t,n){e.M=1,e.A=st(et(t)),e.u=n,e.R=!0,Le(e,null)}function Le(e,t){e.F=Date.now(),je(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Pe,e.g=on(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let s=0;s<i.length;s++){const e=z(n,i[s],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?R(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ye(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s){var o="",a=s.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");o=t.length>=2&&"type"==t[1]?o+(e+"=")+l+"&":o+(e+"=redacted&")}}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Oe(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Fe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Re:(n=Number(t.substring(n,r)),isNaN(n)?De:(r+=1)+n>t.length?Re:(t=t.slice(r,r+n),e.C=r+n,t))}function je(e){e.T=Date.now()+e.H,Ve(e,e.H)}function Ve(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=xe(l(e.aa,e),t)}function Ue(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function ze(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){Ue(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function He(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Xe(n.h,e)))if(!e.L&&Xe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),Ht(n)}Qt(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=xe(l(n.Va,n),6e3));We(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!T(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ye(s,s.h),s.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var o=e;if((r=n).na=sn(r,r.L?r.ba:null,r.W),o.L){Qe(r.h,o);var a=o,c=r.O;c&&(a.H=c),a.D&&(Ue(a),je(a)),r.g=o}else Yt(r);n.i.length>0&&Gt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ye()}catch(u){}}Ae.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==jt(e)?t.j():this.Y(e)},Ae.prototype.Y=function(e){try{if(e==this.g)e:{const l=jt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Vt(this.g)))){this.K||4!=l||7==c||ye(),Ue(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Oe(e))return e.g.la();const t=Vt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==jt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),ze(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(i&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(r)){var o=r;break t}}o=null}if(!(e=o)){this.o=!1,this.m=3,be(12),Be(this),ze(this);break e}ke(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,He(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Fe(this,n),t==Re){4==l&&(this.m=4,be(14),e=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}if(t==De){this.m=4,be(15),ke(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}ke(this.i,this.l,t,null),He(this,t)}if(Oe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(a),a.P=!0,be(11))}}else ke(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),ze(this)}else ke(this.i,this.l,n,null),He(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,je(this)))}else(function(e){const t={};e=(e.g&&jt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(T(e[r]))continue;var n=_e(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Be(this),ze(this)}}}catch(Za){}},Ae.prototype.cancel=function(){this.K=!0,Be(this)},Ae.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ye(),be(17)),Be(this),this.m=2,ze(this)):Ve(this,this.T-e)};var qe=class{constructor(e,t){this.g=e,this.map=t}};function Ge(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function We(e){return e.h?1:e.g?e.g.size:0}function Xe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Qe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return d(e.i)}Ge.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=ot(t[2]||""),this.g=ot(t[3]||"",!0),nt(this,t[4]),this.h=ot(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=ot(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?ot(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,dt)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function st(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ot(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,ct,!0),"@"),e.push(Ne(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?ht:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,ht=/[#\?]/g,dt=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,s=null;r>=0?(i=e[n].substring(0,r),s=e[n].substring(r+1)):i=e[n],t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yt(e,t){return mt(e),t=xt(e,t),e.g.has(t)}function vt(e,t){mt(e);let n=[];if("string"===typeof t)yt(e,t)&&(n=n.concat(e.g.get(xt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(xt(e,t),d(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function kt(){this.g=new ae}function Et(e){this.i=e.Sb||null,this.h=e.ab||!1}function Ct(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Tt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function It(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Nt(e)}function Nt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function _t(e){let t="";return D(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function At(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_t(n),"string"===typeof e?null!=n&&Ne(n):it(e,t,n))}function Pt(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=xt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,yt(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=vt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ne(n);n=vt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ne(n[t])),e.push(r)}}return this.i=e.join("&")},u(Et,le),Et.prototype.g=function(){return new Ct(this.i,this.h)},u(Ct,$),(e=Ct.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Nt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,It(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nt(this)),this.g&&(this.readyState=3,Nt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?It(this):Nt(this),3==this.readyState&&Tt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,It(this))},e.Na=function(e){this.g&&(this.response=e,It(this))},e.ga=function(){this.g&&It(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ct.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Pt,$);var Dt=/^https?$/i,Rt=["POST","PUT"];function Mt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Lt(e),Ft(e)}function Lt(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Ot(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==jt(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==jt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!Dt.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var o=jt(e)>2?e.g.statusText:""}catch(a){o=""}e.l=o+" ["+e.ca()+"]",Lt(e)}}finally{Ft(e)}}}function Ft(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function jt(e){return e.g?e.g.readyState:0}function Vt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ut(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zt(e){this.za=0,this.i=[],this.j=new Se,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ut("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ut("baseRetryDelayMs",5e3,e),this.Za=Ut("retryDelaySeedMs",1e4,e),this.Ta=Ut("forwardChannelMaxRetries",2,e),this.va=Ut("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new Ge(e&&e.concurrentRequestLimit),this.Ba=new kt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(qt(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Wt(e,n),(t=new Ae(e,e.j,t)).M=2,t.A=st(et(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=on(t.j,null),t.g.ea(t.A)),t.F=Date.now(),je(t)}rn(e)}function Ht(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function qt(e){Ht(e),e.v&&(s.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&s.clearTimeout(e.m),e.m=null)}function Gt(e){if(!Ke(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||x(),b||(v(),b=!0),w.add(t,e),e.D=0}}function Kt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Wt(e,r),e.u&&e.o&&At(r,e.u,e.o),n=new Ae(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Xt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),Me(n,r,t)}function Wt(e,t){e.H&&D(e.H,function(e,n){it(t,n,e)}),e.l&&D({},function(e,n){it(t,n,e)})}function Xt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var s=i[c].g;const n=i[c].map;if((s-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{s="req"+s+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;o(n)&&(r=se(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(wa){throw e.push(s+"type="+encodeURIComponent("_badmap")),wa}}catch(wa){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||x(),b||(v(),b=!0),w.add(t,e),e.A=0}}function Qt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=xe(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Ae(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Wt(e,t),e.u&&e.o&&At(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=st(et(t)),n.u=null,n.R=!0,Le(n,e)}function Zt(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),$t(e),e.g=null;var r=2}else{if(!Xe(e.h,t))return;n=t.G,Qe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=me(),new we(r,n)),Gt(e)}else Yt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(We(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=xe(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Qt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||tt(r,"https"),st(r),t?function(e,t){const n=new Se;if(s.Image){const r=new Image;r.onload=c(St,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(St,n,"TestLoadImage: error",!1,t,r),r.onabort=c(St,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(St,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Se;const n=new AbortController,r=setTimeout(()=>{n.abort(),St(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?St(0,0,!0,t):St(0,0,!1,t)}).catch(()=>{clearTimeout(r),St(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),qt(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.oa()}}function sn(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Wt(e,r),r}function on(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Pt(new Et({ab:n})):new Pt(e.ma)).Fa(e.L),t}function an(){}function ln(){}function cn(e,t){$.call(this),this.g=new zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!T(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!T(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dn(this)}function un(e){he.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hn(){de.call(this),this.status=1}function dn(e){this.g=e}(e=Pt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ee.g(),this.g.onreadystatechange=h(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Mt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(Rt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(o){Mt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Ft(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ft(this,!0)),Pt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Ot(this):this.Xa())},e.Xa=function(){Ot(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return jt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),oe(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=sn(this,null,this.W),Gt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ae(this,this.j,e);let s=this.o;if(this.U&&(s?(s=R(s),L(s,this.U)):s=this.U),null!==this.u||this.R||(i.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Xt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Wt(this,n),s&&(this.R?t="headers="+Ne(_t(s))+"&"+t:this.u&&At(n,this.u,s)),Ye(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,Me(i,n,null)):Me(i,n,t),this.I=2}}else 3==this.I&&(e?Kt(this,e):0==this.i.length||Ke(this.h)||Kt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=xe(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Ht(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,Ht(this),Qt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=an.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,$),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Bt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=se(e),e=n);t.i.push(new qe(t.Ya++,e)),3==t.I&&Gt(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,cn.Z.N.call(this)},u(un,he),u(hn,de),u(dn,an),dn.prototype.ra=function(){J(this.g,"a")},dn.prototype.qa=function(e){J(this.g,new un(e))},dn.prototype.pa=function(e){J(this.g,new hn)},dn.prototype.oa=function(){J(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,ga=va.createWebChannelTransport=function(){return new ln},ma=va.getStatEventTarget=function(){return me()},pa=va.Event=fe,fa=va.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,da=va.ErrorCode=Ce,Te.COMPLETE="complete",ha=va.EventType=Te,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",$.prototype.listen=$.prototype.J,ua=va.WebChannel=ce,va.FetchXmlHttpFactory=Et,Pt.prototype.listenOnce=Pt.prototype.K,Pt.prototype.getLastError=Pt.prototype.Ha,Pt.prototype.getLastErrorCode=Pt.prototype.ya,Pt.prototype.getStatus=Pt.prototype.ca,Pt.prototype.getResponseJson=Pt.prototype.La,Pt.prototype.getResponseText=Pt.prototype.la,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Fa,ca=va.XhrIo=Pt}).apply("undefined"!==typeof ya?ya:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ba="@firebase/firestore",wa="4.9.2";class xa{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xa.UNAUTHENTICATED=new xa(null),xa.GOOGLE_CREDENTIALS=new xa("google-credentials-uid"),xa.FIRST_PARTY=new xa("first-party-uid"),xa.MOCK_USER=new xa("mock-user");let Sa="12.3.0";const ka=new mn("@firebase/firestore");function Ea(){return ka.logLevel}function Ca(e){if(ka.logLevel<=un.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Na);ka.debug("Firestore (".concat(Sa,"): ").concat(e),...i)}}function Ta(e){if(ka.logLevel<=un.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Na);ka.error("Firestore (".concat(Sa,"): ").concat(e),...i)}}function Ia(e){if(ka.logLevel<=un.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Na);ka.warn("Firestore (".concat(Sa,"): ").concat(e),...i)}}function Na(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function _a(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Aa(e,r,n)}function Aa(e,t,n){let r="FIRESTORE (".concat(Sa,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Ta(r),new Error(r)}function Pa(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Aa(t,i,r)}function Da(e,t){return e}const Ra={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ma extends Wt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class La{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Oa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Fa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xa.UNAUTHENTICATED))}shutdown(){}}class ja{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Va{constructor(e){this.t=e,this.currentUser=xa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Pa(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new La;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new La,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{Ca("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Ca("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new La)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Ca("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Pa("string"==typeof t.accessToken,31837,{l:t}),new Oa(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pa(null===e||"string"==typeof e,2055,{h:e}),new xa(e)}}class Ua{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=xa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class za{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Ua(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(xa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ba{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ha{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Pa(void 0===this.o,3512);const n=e=>{null!=e.error&&Ca("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Ca("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Ca("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Ca("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ba(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Pa("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Ba(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function qa(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ga{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=qa(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Ka(e,t){return e<t?-1:e>t?1:0}function Wa(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Qa(n)===Qa(i)?Ka(n,i):Qa(n)?1:-1}return Ka(e.length,t.length)}const Xa=55296,Ya=57343;function Qa(e){const t=e.charCodeAt(0);return t>=Xa&&t<=Ya}function $a(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function Ja(e){return e+"\0"}const Za="__name__";class el{constructor(e,t,n){void 0===t?t=0:t>e.length&&_a(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&_a(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===el.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof el?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=el.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Ka(e.length,t.length)}static compareSegments(e,t){const n=el.isNumericId(e),r=el.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?el.extractNumericId(e).compare(el.extractNumericId(t)):Wa(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sa.fromString(e.substring(4,e.length-2))}}class tl extends el{construct(e,t,n){return new tl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ma(Ra.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new tl(e)}static emptyPath(){return new tl([])}}const nl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rl extends el{construct(e,t,n){return new rl(e,t,n)}static isValidIdentifier(e){return nl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Za}static keyField(){return new rl([Za])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ma(Ra.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ma(Ra.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ma(Ra.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Ma(Ra.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rl(t)}static emptyPath(){return new rl([])}}class il{constructor(e){this.path=e}static fromPath(e){return new il(tl.fromString(e))}static fromName(e){return new il(tl.fromString(e).popFirst(5))}static empty(){return new il(tl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new il(new tl(e.slice()))}}function sl(e,t,n){if(!n)throw new Ma(Ra.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ol(e){if(!il.isDocumentKey(e))throw new Ma(Ra.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function al(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ll(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":_a(12329,{type:typeof e})}function cl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ma(Ra.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ll(e);throw new Ma(Ra.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function ul(e,t){const n={typeString:e};return t&&(n.value=t),n}function hl(e,t){if(!al(e))throw new Ma(Ra.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const o=e[r];if(i&&typeof o!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==s&&o!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new Ma(Ra.INVALID_ARGUMENT,n);return!0}const dl=-62135596800,fl=1e6;class pl{static now(){return pl.fromMillis(Date.now())}static fromDate(e){return pl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*fl);return new pl(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ma(Ra.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ma(Ra.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<dl)throw new Ma(Ra.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ma(Ra.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fl}_compareTo(e){return this.seconds===e.seconds?Ka(this.nanoseconds,e.nanoseconds):Ka(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pl._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hl(e,pl._jsonSchema))return new pl(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dl;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pl._jsonSchemaVersion="firestore/timestamp/1.0",pl._jsonSchema={type:ul("string",pl._jsonSchemaVersion),seconds:ul("number"),nanoseconds:ul("number")};class ml{static fromTimestamp(e){return new ml(e)}static min(){return new ml(new pl(0,0))}static max(){return new ml(new pl(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gl=-1;class yl{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function vl(e){return e.fields.find(e=>2===e.kind)}function bl(e){return e.fields.filter(e=>2!==e.kind)}yl.UNKNOWN_ID=-1;class wl{constructor(e,t){this.fieldPath=e,this.kind=t}}class xl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new xl(0,El.min())}}function Sl(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ml.fromTimestamp(1e9===r?new pl(n+1,0):new pl(n,r));return new El(i,il.empty(),t)}function kl(e){return new El(e.readTime,e.key,gl)}class El{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new El(ml.min(),il.empty(),gl)}static max(){return new El(ml.max(),il.empty(),gl)}}function Cl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=il.comparator(e.documentKey,t.documentKey),0!==n?n:Ka(e.largestBatchId,t.largestBatchId))}const Tl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Il{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Nl(e){if(e.code!==Ra.FAILED_PRECONDITION||e.message!==Tl)throw e;Ca("LocalStore","Unexpectedly lost primary lease")}class _l{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_a(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _l((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _l?t:_l.resolve(t)}catch(e){return _l.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_l.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_l.reject(t)}static resolve(e){return new _l((t,n)=>{t(e)})}static reject(e){return new _l((t,n)=>{n(e)})}static waitFor(e){return new _l((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=_l.resolve(!1);for(const n of e)t=t.next(e=>e?_l.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new _l((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{s[l]=e,++o,o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new _l((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}const Al="SimpleDb";class Pl{static open(e,t,n,r){try{return new Pl(t,e.transaction(r,n))}catch(e){throw new Ll(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new La,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Ll(e,t.error)):this.S.resolve()},this.transaction.onerror=t=>{const n=Ul(t.target.error);this.S.reject(new Ll(e,n))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Ca(Al,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Fl(t)}}class Dl{static delete(e){return Ca(Al,"Removing database:",e),jl(Pt().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Kt())return!1;if(Dl.F())return!0;const e=Bt(),t=Dl.M(e),n=0<t&&t<10,r=Rl(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static F(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.N=n,this.B=null,12.2===Dl.M(Bt())&&Ta("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Ca(Al,"Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Ll(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Ma(Ra.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Ma(Ra.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Ll(e,r))},r.onupgradeneeded=e=>{Ca(Al,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.N.k(t,r.transaction,e.oldVersion,this.version).next(()=>{Ca(Al,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=e=>this.q(e)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.L(e);const t=Pl.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next(e=>(t.C(),e)).catch(e=>(t.abort(e),_l.reject(e))).toPromise();return s.catch(()=>{}),await t.D,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Ca(Al,"Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Rl(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Ml{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return jl(this.U.delete())}}class Ll extends Ma{constructor(e,t){super(Ra.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Ol(e){return"IndexedDbTransactionError"===e.name}class Fl{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Ca(Al,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ca(Al,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),jl(n)}add(e){return Ca(Al,"ADD",this.store.name,e,e),jl(this.store.add(e))}get(e){return jl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ca(Al,"GET",this.store.name,e,t),t))}delete(e){return Ca(Al,"DELETE",this.store.name,e),jl(this.store.delete(e))}count(){return Ca(Al,"COUNT",this.store.name),jl(this.store.count())}J(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new _l((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{const e=this.cursor(n),t=[];return this.H(e,(e,n)=>{t.push(n)}).next(()=>t)}}Y(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new _l((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}Z(e,t){Ca(Al,"DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const r=this.cursor(n);return this.H(r,(e,t,n)=>n.delete())}ee(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.H(r,t)}te(e){const t=this.cursor({});return new _l((n,r)=>{t.onerror=e=>{const t=Ul(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}H(e,t){const n=[];return new _l((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Ml(i),o=t(i.primaryKey,i.value,s);if(o instanceof _l){const e=o.catch(e=>(s.done(),_l.reject(e)));n.push(e)}s.isDone?r():null===s.G?i.continue():i.continue(s.G)}}).next(()=>_l.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function jl(e){return new _l((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ul(e.target.error);n(t)}})}let Vl=!1;function Ul(e){const t=Dl.M(Bt());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Ma("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Vl||(Vl=!0,setTimeout(()=>{throw e},0)),e}}return e}const zl="IndexBackfiller";class Bl{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}re(e){Ca(zl,"Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const e=await this.ne.ie();Ca(zl,"Documents written: ".concat(e))}catch(e){Ol(e)?Ca(zl,"Ignoring IndexedDB error during index backfill: ",e):await Nl(e)}await this.re(6e4)})}}class Hl{constructor(e,t){this.localStore=e,this.persistence=t}async ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){const n=new Set;let r=t,i=!0;return _l.doWhile(()=>!0===i&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return Ca(zl,"Processing collection: ".concat(t)),this.oe(e,t,r).next(e=>{r-=e,n.add(t)});i=!1})).next(()=>t-r)}oe(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this._e(r,n)).next(n=>(Ca(zl,"Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>i.size)}))}_e(e,t){let n=e;return t.changes.forEach((e,t)=>{const r=kl(t);Cl(r,n)>0&&(n=r)}),new El(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ql{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ql.ce=-1;const Gl=-1;function Kl(e){return null==e}function Wl(e){return 0===e&&1/e==-1/0}function Xl(e){return"number"==typeof e&&Number.isInteger(e)&&!Wl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Yl="\x01";function Ql(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Jl(t)),t=$l(e.get(n),t);return Jl(t)}function $l(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Yl:n+="\x01\x11";break;default:n+=t}}return n}function Jl(e){return e+Yl+"\x01"}function Zl(e){const t=e.length;if(Pa(t>=2,64408,{path:e}),2===t)return Pa(e.charAt(0)===Yl&&"\x01"===e.charAt(1),56145,{path:e}),tl.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf(Yl,s);switch((t<0||t>n)&&_a(50515,{path:e}),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:_a(61167,{path:e})}s=t+2}return new tl(r)}const ec="remoteDocuments",tc="owner",nc="owner",rc="mutationQueues",ic="mutations",sc="batchId",oc="userMutationsIndex",ac=["userId","batchId"];function lc(e,t){return[e,Ql(t)]}function cc(e,t,n){return[e,Ql(t),n]}const uc={},hc="documentMutations",dc="remoteDocumentsV14",fc=["prefixPath","collectionGroup","readTime","documentId"],pc="documentKeyIndex",mc=["prefixPath","collectionGroup","documentId"],gc="collectionGroupIndex",yc=["collectionGroup","readTime","prefixPath","documentId"],vc="remoteDocumentGlobal",bc="remoteDocumentGlobalKey",wc="targets",xc="queryTargetsIndex",Sc=["canonicalId","targetId"],kc="targetDocuments",Ec=["targetId","path"],Cc="documentTargetsIndex",Tc=["path","targetId"],Ic="targetGlobalKey",Nc="targetGlobal",_c="collectionParents",Ac=["collectionId","parent"],Pc="clientMetadata",Dc="bundles",Rc="namedQueries",Mc="indexConfiguration",Lc="collectionGroupIndex",Oc="indexState",Fc=["indexId","uid"],jc="sequenceNumberIndex",Vc=["uid","sequenceNumber"],Uc="indexEntries",zc=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Bc="documentKeyIndex",Hc=["indexId","uid","orderedDocumentKey"],qc="documentOverlays",Gc=["userId","collectionPath","documentId"],Kc="collectionPathOverlayIndex",Wc=["userId","collectionPath","largestBatchId"],Xc="collectionGroupOverlayIndex",Yc=["userId","collectionGroup","largestBatchId"],Qc="globals",$c=[rc,ic,hc,ec,wc,tc,Nc,kc,Pc,vc,_c,Dc,Rc],Jc=[...$c,qc],Zc=[rc,ic,hc,dc,wc,tc,Nc,kc,Pc,vc,_c,Dc,Rc,qc],eu=Zc,tu=[...eu,Mc,Oc,Uc],nu=tu,ru=[...tu,Qc],iu=ru;class su extends Il{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function ou(e,t){const n=Da(e);return Dl.O(n.le,t)}function au(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class uu{constructor(e,t){this.comparator=e,this.root=t||du.EMPTY}insert(e,t){return new uu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,du.BLACK,null,null))}remove(e){return new uu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,du.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hu(this.root,e,this.comparator,!0)}}class hu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class du{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:du.RED,this.left=null!=r?r:du.EMPTY,this.right=null!=i?i:du.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new du(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return du.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return du.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,du.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,du.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _a(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _a(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _a(27949);return e+(this.isRed()?0:1)}}du.EMPTY=null,du.RED=!0,du.BLACK=!1,du.EMPTY=new class{constructor(){this.size=0}get key(){throw _a(57766)}get value(){throw _a(16141)}get color(){throw _a(16727)}get left(){throw _a(29726)}get right(){throw _a(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new du(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fu{constructor(e){this.comparator=e,this.data=new uu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pu(this.data.getIterator())}getIteratorFrom(e){return new pu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof fu))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fu(this.comparator);return t.data=e,t}}class pu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function mu(e){return e.hasNext()?e.getNext():void 0}class gu{constructor(e){this.fields=e,e.sort(rl.comparator)}static empty(){return new gu([])}unionWith(e){let t=new fu(rl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new gu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class yu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new yu("Invalid base64 string: "+e):e}}(e);return new vu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new vu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ka(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vu.EMPTY_BYTE_STRING=new vu("");const bu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wu(e){if(Pa(!!e,39018),"string"==typeof e){let t=0;const n=bu.exec(e);if(Pa(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:xu(e.seconds),nanos:xu(e.nanos)}}function xu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Su(e){return"string"==typeof e?vu.fromBase64String(e):vu.fromUint8Array(e)}const ku="server_timestamp",Eu="__type__",Cu="__previous_value__",Tu="__local_write_time__";function Iu(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Eu])||void 0===t?void 0:t.stringValue)===ku}function Nu(e){const t=e.mapValue.fields[Cu];return Iu(t)?Nu(t):t}function _u(e){const t=wu(e.mapValue.fields[Tu].timestampValue);return new pl(t.seconds,t.nanos)}class Au{constructor(e,t,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const Pu="(default)";class Du{constructor(e,t){this.projectId=e,this.database=t||Pu}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database===Pu}isEqual(e){return e instanceof Du&&e.projectId===this.projectId&&e.database===this.database}}const Ru="__type__",Mu="__max__",Lu={mapValue:{fields:{__type__:{stringValue:Mu}}}},Ou="__vector__",Fu="value",ju={nullValue:"NULL_VALUE"};function Vu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Iu(e)?4:nh(e)?9007199254740991:eh(e)?10:11:_a(28295,{value:e})}function Uu(e,t){if(e===t)return!0;const n=Vu(e);if(n!==Vu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _u(e).isEqual(_u(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=wu(e.timestampValue),r=wu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Su(e.bytesValue).isEqual(Su(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xu(e.geoPointValue.latitude)===xu(t.geoPointValue.latitude)&&xu(e.geoPointValue.longitude)===xu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xu(e.integerValue)===xu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=xu(e.doubleValue),r=xu(t.doubleValue);return n===r?Wl(n)===Wl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $a(e.arrayValue.values||[],t.arrayValue.values||[],Uu);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(au(n)!==au(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Uu(n[i],r[i])))return!1;return!0}(e,t);default:return _a(52216,{left:e})}}function zu(e,t){return void 0!==(e.values||[]).find(e=>Uu(e,t))}function Bu(e,t){if(e===t)return 0;const n=Vu(e),r=Vu(t);if(n!==r)return Ka(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ka(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=xu(e.integerValue||e.doubleValue),r=xu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Hu(e.timestampValue,t.timestampValue);case 4:return Hu(_u(e),_u(t));case 5:return Wa(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Su(e),r=Su(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ka(n[i],r[i]);if(0!==e)return e}return Ka(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ka(xu(e.latitude),xu(t.latitude));return 0!==n?n:Ka(xu(e.longitude),xu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return qu(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,s){const o=e.fields||{},a=t.fields||{},l=null===(n=o[Fu])||void 0===n?void 0:n.arrayValue,c=null===(r=a[Fu])||void 0===r?void 0:r.arrayValue,u=Ka((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(s=c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:qu(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Lu.mapValue&&t===Lu.mapValue)return 0;if(e===Lu.mapValue)return 1;if(t===Lu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Wa(r[o],s[o]);if(0!==e)return e;const t=Bu(n[r[o]],i[s[o]]);if(0!==t)return t}return Ka(r.length,s.length)}(e.mapValue,t.mapValue);default:throw _a(23264,{he:n})}}function Hu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ka(e,t);const n=wu(e),r=wu(t),i=Ka(n.seconds,r.seconds);return 0!==i?i:Ka(n.nanos,r.nanos)}function qu(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Bu(n[i],r[i]);if(e)return e}return Ka(n.length,r.length)}function Gu(e){return Ku(e)}function Ku(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=wu(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Su(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return il.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ku(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ku(e.fields[i]));return n+"}"}(e.mapValue):_a(61005,{value:e})}function Wu(e){switch(Vu(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Nu(e);return t?16+Wu(t):16;case 5:return 2*e.stringValue.length;case 6:return Su(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Wu(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return lu(e.fields,(e,n)=>{t+=e.length+Wu(n)}),t}(e.mapValue);default:throw _a(13486,{value:e})}}function Xu(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Yu(e){return!!e&&"integerValue"in e}function Qu(e){return!!e&&"arrayValue"in e}function $u(e){return!!e&&"nullValue"in e}function Ju(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zu(e){return!!e&&"mapValue"in e}function eh(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Ru])||void 0===t?void 0:t.stringValue)===Ou}function th(e){if(e.geoPointValue)return{geoPointValue:u({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:u({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return lu(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=th(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=th(e.arrayValue.values[n]);return t}return u({},e)}function nh(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Mu}const rh={mapValue:{fields:{[Ru]:{stringValue:Ou},[Fu]:{arrayValue:{}}}}};function ih(e){return"nullValue"in e?ju:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Xu(Du.empty(),il.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?eh(e)?rh:{mapValue:{}}:_a(35942,{value:e})}function sh(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Xu(Du.empty(),il.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?rh:"mapValue"in e?eh(e)?{mapValue:{}}:Lu:_a(61959,{value:e})}function oh(e,t){const n=Bu(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ah(e,t){const n=Bu(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class lh{constructor(e){this.value=e}static empty(){return new lh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Zu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=th(t)}setAll(e){let t=rl.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=th(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Zu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Uu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Zu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){lu(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new lh(th(this.value))}}function ch(e){const t=[];return lu(e.fields,(e,n)=>{const r=new rl([e]);if(Zu(n)){const e=ch(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new gu(t)}class uh{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new uh(e,0,ml.min(),ml.min(),ml.min(),lh.empty(),0)}static newFoundDocument(e,t,n,r){return new uh(e,1,t,ml.min(),n,r,0)}static newNoDocument(e,t){return new uh(e,2,t,ml.min(),ml.min(),lh.empty(),0)}static newUnknownDocument(e,t){return new uh(e,3,t,ml.min(),ml.min(),lh.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ml.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ml.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof uh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new uh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class hh{constructor(e,t){this.position=e,this.inclusive=t}}function dh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?il.comparator(il.fromName(o.referenceValue),n.key):Bu(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function fh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Uu(e.position[n],t.position[n]))return!1;return!0}class ph{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function mh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class gh{}class yh extends gh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ih(e,t,n):"array-contains"===t?new Ph(e,n):"in"===t?new Dh(e,n):"not-in"===t?new Rh(e,n):"array-contains-any"===t?new Mh(e,n):new yh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Nh(e,n):new _h(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Bu(t,this.value)):null!==t&&Vu(this.value)===Vu(t)&&this.matchesComparison(Bu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _a(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vh extends gh{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new vh(e,t)}matches(e){return bh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bh(e){return"and"===e.op}function wh(e){return"or"===e.op}function xh(e){return Sh(e)&&bh(e)}function Sh(e){for(const t of e.filters)if(t instanceof vh)return!1;return!0}function kh(e){if(e instanceof yh)return e.field.canonicalString()+e.op.toString()+Gu(e.value);if(xh(e))return e.filters.map(e=>kh(e)).join(",");{const t=e.filters.map(e=>kh(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Eh(e,t){return e instanceof yh?function(e,t){return t instanceof yh&&e.op===t.op&&e.field.isEqual(t.field)&&Uu(e.value,t.value)}(e,t):e instanceof vh?function(e,t){return t instanceof vh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Eh(n,t.filters[r]),!0)}(e,t):void _a(19439)}function Ch(e,t){const n=e.filters.concat(t);return vh.create(n,e.op)}function Th(e){return e instanceof yh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Gu(e.value))}(e):e instanceof vh?function(e){return e.op.toString()+" {"+e.getFilters().map(Th).join(" ,")+"}"}(e):"Filter"}class Ih extends yh{constructor(e,t,n){super(e,t,n),this.key=il.fromName(n.referenceValue)}matches(e){const t=il.comparator(e.key,this.key);return this.matchesComparison(t)}}class Nh extends yh{constructor(e,t){super(e,"in",t),this.keys=Ah("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _h extends yh{constructor(e,t){super(e,"not-in",t),this.keys=Ah("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ah(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>il.fromName(e.referenceValue))}class Ph extends yh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qu(t)&&zu(t.arrayValue,this.value)}}class Dh extends yh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zu(this.value.arrayValue,t)}}class Rh extends yh{constructor(e,t){super(e,"not-in",t)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!zu(this.value.arrayValue,t)}}class Mh extends yh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>zu(this.value.arrayValue,e))}}class Lh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function Oh(e){return new Lh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Fh(e){const t=Da(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>kh(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Kl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Gu(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Gu(e)).join(",")),t.Te=e}return t.Te}function jh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!mh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Eh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fh(e.startAt,t.startAt)&&fh(e.endAt,t.endAt)}function Vh(e){return il.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Uh(e,t){return e.filters.filter(e=>e instanceof yh&&e.field.isEqual(t))}function zh(e,t,n){let r=ju,i=!0;for(const s of Uh(e,t)){let e=ju,t=!0;switch(s.op){case"<":case"<=":e=ih(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=ju}oh({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];oh({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Bh(e,t,n){let r=Lu,i=!0;for(const s of Uh(e,t)){let e=Lu,t=!0;switch(s.op){case">=":case">":e=sh(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Lu}ah({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];ah({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Hh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qh(e,t,n,r,i,s,o,a){return new Hh(e,t,n,r,i,s,o,a)}function Gh(e){return new Hh(e)}function Kh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Wh(e){return null!==e.collectionGroup}function Xh(e){const t=Da(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new fu(rl.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new ph(r,n))}),e.has(rl.keyField().canonicalString())||t.Ie.push(new ph(rl.keyField(),n))}return t.Ie}function Yh(e){const t=Da(e);return t.Ee||(t.Ee=Qh(t,Xh(e))),t.Ee}function Qh(e,t){if("F"===e.limitType)return Oh(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new ph(e.field,t)});const n=e.endAt?new hh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new hh(e.startAt.position,e.startAt.inclusive):null;return Oh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function $h(e,t,n){return new Hh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jh(e,t){return jh(Yh(e),Yh(t))&&e.limitType===t.limitType}function Zh(e){return"".concat(Fh(Yh(e)),"|lt:").concat(e.limitType)}function ed(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Th(e)).join(", "),"]")),Kl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Gu(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Gu(e)).join(",")),"Target(".concat(t,")")}(Yh(e)),"; limitType=").concat(e.limitType,")")}function td(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):il.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Xh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=dh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Xh(e),t))&&!(e.endAt&&!function(e,t,n){const r=dh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Xh(e),t))}(e,t)}function nd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function rd(e){return(t,n)=>{let r=!1;for(const i of Xh(e)){const e=id(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function id(e,t,n){const r=e.field.isKeyField()?il.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bu(r,i):_a(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _a(19790,{direction:e.dir})}}class sd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){lu(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return cu(this.inner)}size(){return this.innerSize}}const od=new uu(il.comparator);function ad(){return od}const ld=new uu(il.comparator);function cd(){let e=ld;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function ud(e){let t=ld;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function hd(){return fd()}function dd(){return fd()}function fd(){return new sd(e=>e.toString(),(e,t)=>e.isEqual(t))}const pd=new uu(il.comparator),md=new fu(il.comparator);function gd(){let e=md;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const yd=new fu(Ka);function vd(){return yd}function bd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wl(t)?"-0":t}}function wd(e){return{integerValue:""+e}}function xd(e,t){return Xl(t)?wd(t):bd(e,t)}class Sd{constructor(){this._=void 0}}function kd(e,t,n){return e instanceof Td?function(e,t){const n={fields:{[Eu]:{stringValue:ku},[Tu]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Iu(t)&&(t=Nu(t)),t&&(n.fields[Cu]=t),{mapValue:n}}(n,t):e instanceof Id?Nd(e,t):e instanceof _d?Ad(e,t):function(e,t){const n=Cd(e,t),r=Dd(n)+Dd(e.Ae);return Yu(n)&&Yu(e.Ae)?wd(r):bd(e.serializer,r)}(e,t)}function Ed(e,t,n){return e instanceof Id?Nd(e,t):e instanceof _d?Ad(e,t):n}function Cd(e,t){return e instanceof Pd?function(e){return Yu(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Td extends Sd{}class Id extends Sd{constructor(e){super(),this.elements=e}}function Nd(e,t){const n=Rd(t);for(const r of e.elements)n.some(e=>Uu(e,r))||n.push(r);return{arrayValue:{values:n}}}class _d extends Sd{constructor(e){super(),this.elements=e}}function Ad(e,t){let n=Rd(t);for(const r of e.elements)n=n.filter(e=>!Uu(e,r));return{arrayValue:{values:n}}}class Pd extends Sd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Dd(e){return xu(e.integerValue||e.doubleValue)}function Rd(e){return Qu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Md{constructor(e,t){this.field=e,this.transform=t}}class Ld{constructor(e,t){this.version=e,this.transformResults=t}}class Od{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Od}static exists(e){return new Od(void 0,e)}static updateTime(e){return new Od(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class jd{}function Vd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Yd(e.key,Od.none()):new qd(e.key,e.data,Od.none());{const n=e.data,r=lh.empty();let i=new fu(rl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Gd(e.key,r,new gu(i.toArray()),Od.none())}}function Ud(e,t,n){e instanceof qd?function(e,t,n){const r=e.value.clone(),i=Wd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Gd?function(e,t,n){if(!Fd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Wd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Kd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function zd(e,t,n,r){return e instanceof qd?function(e,t,n,r){if(!Fd(e.precondition,t))return n;const i=e.value.clone(),s=Xd(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Gd?function(e,t,n,r){if(!Fd(e.precondition,t))return n;const i=Xd(e.fieldTransforms,r,t),s=t.data;return s.setAll(Kd(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Fd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Bd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Cd(r.transform,e||null);null!=i&&(null===n&&(n=lh.empty()),n.set(r.field,i))}return n||null}function Hd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$a(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Id&&t instanceof Id||e instanceof _d&&t instanceof _d?$a(e.elements,t.elements,Uu):e instanceof Pd&&t instanceof Pd?Uu(e.Ae,t.Ae):e instanceof Td&&t instanceof Td}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qd extends jd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Gd extends jd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Kd(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Wd(e,t,n){const r=new Map;Pa(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Ed(o,a,n[i]))}return r}function Xd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,kd(e,s,t))}return r}class Yd extends jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qd extends jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $d{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ud(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=zd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=zd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=dd();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Vd(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(ml.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gd())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,(e,t)=>Hd(e,t))&&$a(this.baseMutations,e.baseMutations,(e,t)=>Hd(e,t))}}class Jd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Pa(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=pd;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Jd(e,t,n,r)}}class Zd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ef{constructor(e,t){this.count=e,this.unchangedNames=t}}var tf,nf;function rf(e){switch(e){case Ra.OK:return _a(64938);case Ra.CANCELLED:case Ra.UNKNOWN:case Ra.DEADLINE_EXCEEDED:case Ra.RESOURCE_EXHAUSTED:case Ra.INTERNAL:case Ra.UNAVAILABLE:case Ra.UNAUTHENTICATED:return!1;case Ra.INVALID_ARGUMENT:case Ra.NOT_FOUND:case Ra.ALREADY_EXISTS:case Ra.PERMISSION_DENIED:case Ra.FAILED_PRECONDITION:case Ra.ABORTED:case Ra.OUT_OF_RANGE:case Ra.UNIMPLEMENTED:case Ra.DATA_LOSS:return!0;default:return _a(15467,{code:e})}}function sf(e){if(void 0===e)return Ta("GRPC error has no .code"),Ra.UNKNOWN;switch(e){case tf.OK:return Ra.OK;case tf.CANCELLED:return Ra.CANCELLED;case tf.UNKNOWN:return Ra.UNKNOWN;case tf.DEADLINE_EXCEEDED:return Ra.DEADLINE_EXCEEDED;case tf.RESOURCE_EXHAUSTED:return Ra.RESOURCE_EXHAUSTED;case tf.INTERNAL:return Ra.INTERNAL;case tf.UNAVAILABLE:return Ra.UNAVAILABLE;case tf.UNAUTHENTICATED:return Ra.UNAUTHENTICATED;case tf.INVALID_ARGUMENT:return Ra.INVALID_ARGUMENT;case tf.NOT_FOUND:return Ra.NOT_FOUND;case tf.ALREADY_EXISTS:return Ra.ALREADY_EXISTS;case tf.PERMISSION_DENIED:return Ra.PERMISSION_DENIED;case tf.FAILED_PRECONDITION:return Ra.FAILED_PRECONDITION;case tf.ABORTED:return Ra.ABORTED;case tf.OUT_OF_RANGE:return Ra.OUT_OF_RANGE;case tf.UNIMPLEMENTED:return Ra.UNIMPLEMENTED;case tf.DATA_LOSS:return Ra.DATA_LOSS;default:return _a(39323,{code:e})}}(nf=tf||(tf={}))[nf.OK=0]="OK",nf[nf.CANCELLED=1]="CANCELLED",nf[nf.UNKNOWN=2]="UNKNOWN",nf[nf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nf[nf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nf[nf.NOT_FOUND=5]="NOT_FOUND",nf[nf.ALREADY_EXISTS=6]="ALREADY_EXISTS",nf[nf.PERMISSION_DENIED=7]="PERMISSION_DENIED",nf[nf.UNAUTHENTICATED=16]="UNAUTHENTICATED",nf[nf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nf[nf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nf[nf.ABORTED=10]="ABORTED",nf[nf.OUT_OF_RANGE=11]="OUT_OF_RANGE",nf[nf.UNIMPLEMENTED=12]="UNIMPLEMENTED",nf[nf.INTERNAL=13]="INTERNAL",nf[nf.UNAVAILABLE=14]="UNAVAILABLE",nf[nf.DATA_LOSS=15]="DATA_LOSS";let of=null;function af(){return new TextEncoder}const lf=new sa([4294967295,4294967295],0);function cf(e){const t=af().encode(e),n=new oa;return n.update(t),new Uint8Array(n.digest())}function uf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new sa([n,r],0),new sa([i,s],0)]}class hf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new df("Invalid padding: ".concat(t));if(n<0)throw new df("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new df("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new df("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=sa.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(sa.fromNumber(n)));return 1===r.compare(lf)&&(r=new sa([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=cf(e),[n,r]=uf(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new hf(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=cf(e),[n,r]=uf(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class df extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ff{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,pf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ff(ml.min(),r,new uu(Ka),ad(),gd())}}class pf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new pf(n,t,gd(),gd(),gd())}}class mf{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class gf{constructor(e,t){this.targetId=e,this.Ce=t}}class yf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vu.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class vf{constructor(){this.ve=0,this.Fe=xf(),this.Me=vu.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=gd(),t=gd(),n=gd();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:_a(38017,{changeType:i})}}),new pf(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=xf()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pa(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bf{constructor(e){this.Ge=e,this.ze=new Map,this.je=ad(),this.Je=wf(),this.He=wf(),this.Ye=new uu(Ka)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:_a(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(Vh(s))if(0===n){const e=new il(s.path);this.et(t,e,uh.newNoDocument(e,ml.min()))}else Pa(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),s=n?this.ct(n,e,r):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=of)||void 0===i||i.lt(function(e,t,n,r,i,s,o,a,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(u.bloomFilter={applied:0===i,hashCount:null!==(s=null===h||void 0===h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(o=null===h||void 0===h||null===(a=h.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(l=null===h||void 0===h||null===(c=h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,s))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Su(n).toUint8Array()}catch(e){if(e instanceof yu)return Ia("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new hf(s,r,i)}catch(e){return Ia(e instanceof df?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.ge?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&Vh(i.target)){const t=new il(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,uh.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=gd();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new ff(e,t,this.Ye,this.je,n);return this.je=ad(),this.Je=wf(),this.He=wf(),this.Ye=new uu(Ka),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new vf,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new fu(Ka),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new fu(Ka),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Ca("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vf),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function wf(){return new uu(il.comparator)}function xf(){return new uu(il.comparator)}const Sf={asc:"ASCENDING",desc:"DESCENDING"},kf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ef={and:"AND",or:"OR"};class Cf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Tf(e,t){return e.useProto3Json||Kl(t)?t:{value:t}}function If(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function _f(e,t){return If(e,t.toTimestamp())}function Af(e){return Pa(!!e,49232),ml.fromTimestamp(function(e){const t=wu(e);return new pl(t.seconds,t.nanos)}(e))}function Pf(e,t){return Df(e,t).canonicalString()}function Df(e,t){const n=function(e){return new tl(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Rf(e){const t=tl.fromString(e);return Pa(tp(t),10190,{key:t.toString()}),t}function Mf(e,t){return Pf(e.databaseId,t.path)}function Lf(e,t){const n=Rf(t);if(n.get(1)!==e.databaseId.projectId)throw new Ma(Ra.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ma(Ra.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new il(Vf(n))}function Of(e,t){return Pf(e.databaseId,t)}function Ff(e){const t=Rf(e);return 4===t.length?tl.emptyPath():Vf(t)}function jf(e){return new tl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Vf(e){return Pa(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Uf(e,t,n){return{name:Mf(e,t),fields:n.value.mapValue.fields}}function zf(e,t,n){const r=Lf(e,t.name),i=Af(t.updateTime),s=t.createTime?Af(t.createTime):ml.min(),o=new lh({mapValue:{fields:t.fields}}),a=uh.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Bf(e,t){let n;if(t instanceof qd)n={update:Uf(e,t.key,t.value)};else if(t instanceof Yd)n={delete:Mf(e,t.key)};else if(t instanceof Gd)n={update:Uf(e,t.key,t.data),updateMask:ep(t.fieldMask)};else{if(!(t instanceof Qd))return _a(16599,{Vt:t.type});n={verify:Mf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Td)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Id)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _d)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Pd)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw _a(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:_f(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:_a(27497)}(e,t.precondition)),n}function Hf(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Od.updateTime(Af(e.updateTime)):void 0!==e.exists?Od.exists(e.exists):Od.none()}(t.currentDocument):Od.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;if("setToServerValue"in t)Pa("REQUEST_TIME"===t.setToServerValue,16630,{proto:t}),n=new Td;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Id(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new _d(e)}else"increment"in t?n=new Pd(e,t.increment):_a(16584,{proto:t});const r=rl.fromServerFormat(t.fieldPath);return new Md(r,n)}(e,t)):[];if(t.update){t.update.name;const i=Lf(e,t.update.name),s=new lh({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new gu(t.map(e=>rl.fromServerFormat(e)))}(t.updateMask);return new Gd(i,s,e,n,r)}return new qd(i,s,n,r)}if(t.delete){const r=Lf(e,t.delete);return new Yd(r,n)}if(t.verify){const r=Lf(e,t.verify);return new Qd(r,n)}return _a(1463,{proto:t})}function qf(e,t){return{documents:[Of(e,t.path)]}}function Gf(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Of(e,i);const s=function(e){if(0!==e.length)return Zf(vh.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:$f(e.field),direction:Xf(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Tf(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Kf(e){let t=Ff(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pa(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Wf(e);return t instanceof vh&&xh(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new ph(Jf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Kl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new hh(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new hh(n,t)}(n.endAt)),qh(t,i,o,s,a,"F",l,c)}function Wf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Jf(e.unaryFilter.field);return yh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Jf(e.unaryFilter.field);return yh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Jf(e.unaryFilter.field);return yh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Jf(e.unaryFilter.field);return yh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _a(61313);default:return _a(60726)}}(e):void 0!==e.fieldFilter?function(e){return yh.create(Jf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _a(58110);default:return _a(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return vh.create(e.compositeFilter.filters.map(e=>Wf(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return _a(1026)}}(e.compositeFilter.op))}(e):_a(30097,{filter:e})}function Xf(e){return Sf[e]}function Yf(e){return kf[e]}function Qf(e){return Ef[e]}function $f(e){return{fieldPath:e.canonicalString()}}function Jf(e){return rl.fromServerFormat(e.fieldPath)}function Zf(e){return e instanceof yh?function(e){if("=="===e.op){if(Ju(e.value))return{unaryFilter:{field:$f(e.field),op:"IS_NAN"}};if($u(e.value))return{unaryFilter:{field:$f(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ju(e.value))return{unaryFilter:{field:$f(e.field),op:"IS_NOT_NAN"}};if($u(e.value))return{unaryFilter:{field:$f(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$f(e.field),op:Yf(e.op),value:e.value}}}(e):e instanceof vh?function(e){const t=e.getFilters().map(e=>Zf(e));return 1===t.length?t[0]:{compositeFilter:{op:Qf(e.op),filters:t}}}(e):_a(54877,{filter:e})}function ep(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function tp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class np{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ml.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ml.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:vu.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new np(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new np(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new np(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new np(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rp{constructor(e){this.yt=e}}function ip(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:sp(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Mf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:If(e,t.version.toTimestamp()),createTime:If(e,t.createTime.toTimestamp())}}(e.yt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:op(t.version)};else{if(!t.isUnknownDocument())return _a(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:op(t.version)}}return r}function sp(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function op(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ap(e){const t=new pl(e.seconds,e.nanoseconds);return ml.fromTimestamp(t)}function lp(e,t){const n=(t.baseMutations||[]).map(t=>Hf(e.yt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map(t=>Hf(e.yt,t)),i=pl.fromMillis(t.localWriteTimeMs);return new $d(t.batchId,i,n,r)}function cp(e){const t=ap(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?ap(e.lastLimboFreeSnapshotVersion):ml.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){const t=e.documents.length;return Pa(1===t,1966,{count:t}),Yh(Gh(Ff(e.documents[0])))}(e.query):function(e){return Yh(Kf(e))}(e.query),new np(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,vu.fromBase64String(e.resumeToken))}function up(e,t){const n=op(t.snapshotVersion),r=op(t.lastLimboFreeSnapshotVersion);let i;i=Vh(t.target)?qf(e.yt,t.target):Gf(e.yt,t.target).ft;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Fh(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function hp(e){const t=Kf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?$h(t,t.limit,"L"):t}function dp(e,t){return new Zd(t.largestBatchId,Hf(e.yt,t.overlayMutation))}function fp(e,t){const n=t.path.lastSegment();return[e,Ql(t.path.popLast()),n]}function pp(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:op(r.readTime),documentKey:Ql(r.documentKey.path),largestBatchId:r.largestBatchId}}class mp{getBundleMetadata(e,t){return gp(e).get(t).next(e=>{if(e)return function(e){return{id:e.bundleId,createTime:ap(e.createTime),version:e.version}}(e)})}saveBundleMetadata(e,t){return gp(e).put(function(e){return{bundleId:e.id,createTime:op(Af(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return yp(e).get(t).next(e=>{if(e)return function(e){return{name:e.name,query:hp(e.bundledQuery),readTime:ap(e.readTime)}}(e)})}saveNamedQuery(e,t){return yp(e).put(function(e){return{name:e.name,readTime:op(Af(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function gp(e){return ou(e,Dc)}function yp(e){return ou(e,Rc)}class vp{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const n=t.uid||"";return new vp(e,n)}getOverlay(e,t){return bp(e).get(fp(this.userId,t)).next(e=>e?dp(this.serializer,e):null)}getOverlays(e,t){const n=hd();return _l.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){const r=[];return n.forEach((n,i)=>{const s=new Zd(t,i);r.push(this.St(e,s))}),_l.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(Ql(e.getCollectionPath())));const i=[];return r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(bp(e).Z(Kc,r))}),_l.waitFor(i)}getOverlaysForCollection(e,t,n){const r=hd(),i=Ql(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return bp(e).J(Kc,s).next(e=>{for(const t of e){const e=dp(this.serializer,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const i=hd();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bp(e).ee({index:Xc,range:o},(e,t,n)=>{const o=dp(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()}).next(()=>i)}St(e,t){return bp(e).put(function(e,t,n){const[r,i,s]=fp(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Bf(e.yt,n.mutation)}}(this.serializer,this.userId,t))}}function bp(e){return ou(e,qc)}class wp{bt(e){return ou(e,Qc)}getSessionToken(e){return this.bt(e).get("sessionToken").next(e=>{const t=null===e||void 0===e?void 0:e.value;return t?vu.fromUint8Array(t):vu.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class xp{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(xu(e.integerValue));else if("doubleValue"in e){const n=xu(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Wl(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=wu(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Su(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?nh(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):eh(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):_a(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=Fu,s=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(xu(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),il.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}xp.Kt=new xp;const Sp=255;function kp(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function Ep(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=kp(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}class Cp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Gt(n.value),n=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Ht()}Yt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Gt(e);else if(e<2048)this.Gt(960|e>>>6),this.Gt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Gt(480|e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e);else{const e=t.codePointAt(0);this.Gt(240|e>>>18),this.Gt(128|63&e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e)}}this.zt()}Zt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Jt(e);else if(e<2048)this.Jt(960|e>>>6),this.Jt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Jt(480|e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e);else{const e=t.codePointAt(0);this.Jt(240|e>>>18),this.Jt(128|63&e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e)}}this.Ht()}Xt(e){const t=this.en(e),n=Ep(t);this.tn(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}nn(e){const t=this.en(e),n=Ep(t);this.tn(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}rn(){this.sn(Sp),this.sn(255)}_n(){this.an(Sp),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Gt(e){const t=255&e;0===t?(this.sn(0),this.sn(255)):t===Sp?(this.sn(Sp),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;0===t?(this.an(0),this.an(255)):t===Sp?(this.an(Sp),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Tp{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Ip{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Np{constructor(){this.cn=new Cp,this.ln=new Tp(this.cn),this.hn=new Ip(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return 0===e?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class _p{constructor(e,t,n,r){this.Tn=e,this.In=t,this.En=n,this.dn=r}An(){const e=this.dn.length,t=0===e||255===this.dn[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.dn,0),t!==e?n.set([0],this.dn.length):++n[n.length-1],new _p(this.Tn,this.In,this.En,n)}Rn(e,t,n){return{indexId:this.Tn,uid:e,arrayValue:Dp(this.En),directionalValue:Dp(this.dn),orderedDocumentKey:Dp(t),documentKey:n.path.toArray()}}Vn(e,t,n){const r=this.Rn(e,t,n);return[r.indexId,r.uid,r.arrayValue,r.directionalValue,r.orderedDocumentKey,r.documentKey]}}function Ap(e,t){let n=e.Tn-t.Tn;return 0!==n?n:(n=Pp(e.En,t.En),0!==n?n:(n=Pp(e.dn,t.dn),0!==n?n:il.comparator(e.In,t.In)))}function Pp(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}function Dp(e){return Gt()?function(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(e):e}function Rp(e){return"string"!=typeof e?e:function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e)}class Mp{constructor(e){this.mn=new fu((e,t)=>rl.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const e=t;e.isInequality()?this.mn=this.mn.add(e):this.gn.push(e)}}get pn(){return this.mn.size>1}yn(e){if(Pa(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=vl(e);if(void 0!==t&&!this.wn(t))return!1;const n=bl(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.wn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.mn.size>0){const e=this.mn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.Sn(e,t)||!this.bn(this.fn[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.fn.length||!this.bn(this.fn[s++],e))return!1}return!0}Dn(){if(this.pn)return null;let e=new fu(rl.comparator);const t=[];for(const n of this.gn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new wl(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new wl(n.field,0))}for(const n of this.fn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new wl(n.field,"asc"===n.dir?0:1)));return new yl(yl.UNKNOWN_ID,this.collectionId,t,xl.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Lp(e){if(Pa(e instanceof yh||e instanceof vh,20012),e instanceof yh){if(e instanceof Dh){var t;const n=(null===(t=e.value.arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(t=>yh.create(e.field,"==",t)))||[];return vh.create(n,"or")}return e}const n=e.filters.map(e=>Lp(e));return vh.create(n,e.op)}function Op(e){if(0===e.getFilters().length)return[];const t=Up(Lp(e));return Pa(Vp(t),7391),Fp(t)||jp(t)?[t]:t.getFilters()}function Fp(e){return e instanceof yh}function jp(e){return e instanceof vh&&xh(e)}function Vp(e){return Fp(e)||jp(e)||function(e){if(e instanceof vh&&wh(e)){for(const t of e.getFilters())if(!Fp(t)&&!jp(t))return!1;return!0}return!1}(e)}function Up(e){if(Pa(e instanceof yh||e instanceof vh,34018),e instanceof yh)return e;if(1===e.filters.length)return Up(e.filters[0]);const t=e.filters.map(e=>Up(e));let n=vh.create(t,e.op);return n=Hp(n),Vp(n)?n:(Pa(n instanceof vh,64498),Pa(bh(n),40251),Pa(n.filters.length>1,57927),n.filters.reduce((e,t)=>zp(e,t)))}function zp(e,t){let n;return Pa(e instanceof yh||e instanceof vh,38388),Pa(t instanceof yh||t instanceof vh,25473),n=e instanceof yh?t instanceof yh?function(e,t){return vh.create([e,t],"and")}(e,t):Bp(e,t):t instanceof yh?Bp(t,e):function(e,t){if(Pa(e.filters.length>0&&t.filters.length>0,48005),bh(e)&&bh(t))return Ch(e,t.getFilters());const n=wh(e)?e:t,r=wh(e)?t:e,i=n.filters.map(e=>zp(e,r));return vh.create(i,"or")}(e,t),Hp(n)}function Bp(e,t){if(bh(t))return Ch(t,e.getFilters());{const n=t.filters.map(t=>zp(e,t));return vh.create(n,"or")}}function Hp(e){if(Pa(e instanceof yh||e instanceof vh,11850),e instanceof yh)return e;const t=e.getFilters();if(1===t.length)return Hp(t[0]);if(Sh(e))return e;const n=t.map(e=>Hp(e)),r=[];return n.forEach(t=>{t instanceof yh?r.push(t):t instanceof vh&&(t.op===e.op?r.push(...t.filters):r.push(t))}),1===r.length?r[0]:vh.create(r,e.op)}class qp{constructor(){this.Cn=new Gp}addToCollectionParentIndex(e,t){return this.Cn.add(t),_l.resolve()}getCollectionParents(e,t){return _l.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return _l.resolve()}deleteFieldIndex(e,t){return _l.resolve()}deleteAllFieldIndexes(e){return _l.resolve()}createTargetIndexes(e,t){return _l.resolve()}getDocumentsMatchingTarget(e,t){return _l.resolve(null)}getIndexType(e,t){return _l.resolve(0)}getFieldIndexes(e,t){return _l.resolve([])}getNextCollectionGroupToUpdate(e){return _l.resolve(null)}getMinOffset(e,t){return _l.resolve(El.min())}getMinOffsetFromCollectionGroup(e,t){return _l.resolve(El.min())}updateCollectionGroup(e,t,n){return _l.resolve()}updateIndexEntries(e,t){return _l.resolve()}}class Gp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new fu(tl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new fu(tl.comparator)).toArray()}}const Kp="IndexedDbIndexManager",Wp=new Uint8Array(0);class Xp{constructor(e,t){this.databaseId=t,this.vn=new Gp,this.Fn=new sd(e=>Fh(e),(e,t)=>jh(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.vn.add(t)});const i={collectionId:n,parent:Ql(r)};return Yp(e).put(i)}return _l.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Ja(t),""],!1,!0);return Yp(e).J(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Zl(r.parent))}return n})}addFieldIndex(e,t){const n=$p(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Jp(e);return i.next(e=>{n.put(pp(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){const n=$p(e),r=Jp(e),i=Qp(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=$p(e),n=Qp(e),r=Jp(e);return t.Z().next(()=>n.Z()).next(()=>r.Z())}createTargetIndexes(e,t){return _l.forEach(this.Mn(t),t=>this.getIndexType(e,t).next(n=>{if(0===n||1===n){const n=new Mp(t).Dn();if(null!=n)return this.addFieldIndex(e,n)}}))}getDocumentsMatchingTarget(e,t){const n=Qp(e);let r=!0;const i=new Map;return _l.forEach(this.Mn(t),t=>this.xn(e,t).next(e=>{r&&(r=!!e),i.set(t,e)})).next(()=>{if(r){let e=gd();const r=[];return _l.forEach(i,(i,s)=>{Ca(Kp,"Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map(e=>"".concat(e.fieldPath,":").concat(e.kind)).join(","))}(i)," to execute ").concat(Fh(t)));const o=function(e,t){const n=vl(t);if(void 0===n)return null;for(const r of Uh(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of bl(t))for(const t of Uh(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of bl(t)){const t=0===i.kind?zh(e,i.fieldPath,e.startAt):Bh(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new hh(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of bl(t)){const t=0===i.kind?Bh(e,i.fieldPath,e.endAt):zh(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new hh(n,r)}(s,i),u=this.On(i,s,l),h=this.On(i,s,c),d=this.Nn(i,s,a),f=this.Bn(i.indexId,o,u,l.inclusive,h,c.inclusive,d);return _l.forEach(f,i=>n.Y(i,t.limit).next(t=>{t.forEach(t=>{const n=il.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return _l.resolve(null)})}Mn(e){let t=this.Fn.get(e);return t||(t=0===e.filters.length?[e]:Op(vh.create(e.filters,"and")).map(t=>Oh(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,t),t)}Bn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.Ln(t[u/l]):Wp,h=this.kn(e,a,n[u%l],r),d=this.qn(e,a,i[u%l],s),f=o.map(t=>this.kn(e,a,t,!0));c.push(...this.createRange(h,d,f))}return c}kn(e,t,n,r){const i=new _p(e,il.empty(),t,n);return r?i:i.An()}qn(e,t,n,r){const i=new _p(e,il.empty(),t,n);return r?i.An():i}xn(e,t){const n=new Mp(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(const r of e)n.yn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t})}getIndexType(e,t){let n=2;const r=this.Mn(t);return _l.forEach(r,t=>this.xn(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new fu(rl.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n)}Qn(e,t){const n=new Np;for(const r of bl(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Pn(r.kind);xp.Kt.Dt(e,i)}return n.un()}Ln(e){const t=new Np;return xp.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const n=new Np;return xp.Kt.Dt(Xu(this.databaseId,t),n.Pn(function(e){const t=bl(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.un()}Nn(e,t,n){if(null===n)return[];let r=[];r.push(new Np);let i=0;for(const s of bl(e)){const e=n[i++];for(const n of r)if(this.Un(t,s.fieldPath)&&Qu(e))r=this.Kn(r,s,e);else{const t=n.Pn(s.kind);xp.Kt.Dt(e,t)}}return this.Wn(r)}On(e,t,n){return this.Nn(e,t,n.position)}Wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].un();return t}Kn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Np;n.seed(e.un()),xp.Kt.Dt(s,n.Pn(t.kind)),i.push(n)}return i}Un(e,t){return!!e.filters.find(e=>e instanceof yh&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=$p(e),r=Jp(e);return(t?n.J(Lc,IDBKeyRange.bound(t,t)):n.J()).next(e=>{const t=[];return _l.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new xl(t.sequenceNumber,new El(ap(t.readTime),new il(Zl(t.documentKey)),t.largestBatchId)):xl.empty(),r=e.fields.map(e=>{let[t,n]=e;return new wl(rl.fromServerFormat(t),n)});return new yl(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ka(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=$p(e),i=Jp(e);return this.Gn(e).next(e=>r.J(Lc,IDBKeyRange.bound(t,t)).next(t=>_l.forEach(t,t=>i.put(pp(t.indexId,this.uid,e,n)))))}updateIndexEntries(e,t){const n=new Map;return _l.forEach(t,(t,r)=>{const i=n.get(t.collectionGroup);return(i?_l.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(n.set(t.collectionGroup,i),_l.forEach(i,n=>this.zn(e,t,n).next(t=>{const i=this.jn(r,n);return t.isEqual(i)?_l.resolve():this.Jn(e,r,n,t,i)}))))})}Hn(e,t,n,r){return Qp(e).put(r.Rn(this.uid,this.$n(n,t.key),t.key))}Yn(e,t,n,r){return Qp(e).delete(r.Vn(this.uid,this.$n(n,t.key),t.key))}zn(e,t,n){const r=Qp(e);let i=new fu(Ap);return r.ee({index:Bc,range:IDBKeyRange.only([n.indexId,this.uid,Dp(this.$n(n,t))])},(e,r)=>{i=i.add(new _p(n.indexId,t,Rp(r.arrayValue),Rp(r.directionalValue)))}).next(()=>i)}jn(e,t){let n=new fu(Ap);const r=this.Qn(t,e);if(null==r)return n;const i=vl(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Qu(s))for(const i of s.arrayValue.values||[])n=n.add(new _p(t.indexId,e.key,this.Ln(i),r))}else n=n.add(new _p(t.indexId,e.key,Wp,r));return n}Jn(e,t,n,r,i){Ca(Kp,"Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=mu(s),l=mu(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=mu(o)):t?(i(a),a=mu(s)):(a=mu(s),l=mu(o))}}(r,i,Ap,r=>{s.push(this.Hn(e,t,n,r))},r=>{s.push(this.Yn(e,t,n,r))}),_l.waitFor(s)}Gn(e){let t=1;return Jp(e).ee({index:jc,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>Ap(e,t)).filter((e,t,n)=>!t||0!==Ap(e,n[t-1]));const r=[];r.push(e);for(const s of n){const n=Ap(s,e),i=Ap(s,t);if(0===n)r[0]=e.An();else if(n>0&&i<0)r.push(s),r.push(s.An());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Zn(r[s],r[s+1]))return[];const e=r[s].Vn(this.uid,Wp,il.empty()),t=r[s+1].Vn(this.uid,Wp,il.empty());i.push(IDBKeyRange.bound(e,t))}return i}Zn(e,t){return Ap(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Zp)}getMinOffset(e,t){return _l.mapArray(this.Mn(t),t=>this.xn(e,t).next(e=>e||_a(44426))).next(Zp)}}function Yp(e){return ou(e,_c)}function Qp(e){return ou(e,Uc)}function $p(e){return ou(e,Mc)}function Jp(e){return ou(e,Oc)}function Zp(e){Pa(0!==e.length,28825);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Cl(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new El(t.readTime,t.documentKey,n)}const em={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tm=41943040;class nm{static withCacheSize(e){return new nm(e,nm.DEFAULT_COLLECTION_PERCENTILE,nm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function rm(e,t,n){const r=e.store(ic),i=e.store(hc),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.ee({range:o},(e,t,n)=>(a++,n.delete()));s.push(l.next(()=>{Pa(1===a,47070,{batchId:n.batchId})}));const c=[];for(const u of n.mutations){const e=cc(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return _l.waitFor(s).next(()=>c)}function im(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw _a(14731);t=e.noDocument}return JSON.stringify(t).length}nm.DEFAULT_COLLECTION_PERCENTILE=10,nm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nm.DEFAULT=new nm(tm,nm.DEFAULT_COLLECTION_PERCENTILE,nm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nm.DISABLED=new nm(-1,0,0);class sm{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Xn={}}static wt(e,t,n,r){Pa(""!==e.uid,64387);const i=e.isAuthenticated()?e.uid:"";return new sm(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return am(e).ee({index:oc,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=lm(e),s=am(e);return s.add({}).next(o=>{Pa("number"==typeof o,49019);const a=new $d(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map(t=>Bf(e.yt,t)),i=n.mutations.map(t=>Bf(e.yt,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new fu((e,t)=>Ka(e.canonicalString(),t.canonicalString()));for(const e of r){const t=cc(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,uc))}return u.forEach(t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Xn[o]=a.keys()}),_l.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return am(e).get(t).next(e=>e?(Pa(e.userId===this.userId,48,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),lp(this.serializer,e)):null)}er(e,t){return this.Xn[t]?_l.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Xn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return am(e).ee({index:oc,range:r},(e,t,r)=>{t.userId===this.userId&&(Pa(t.batchId>=n,47524,{tr:n}),i=lp(this.serializer,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=Gl;return am(e).ee({index:oc,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Gl],[this.userId,Number.POSITIVE_INFINITY]);return am(e).J(oc,t).next(e=>e.map(e=>lp(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=lc(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return lm(e).ee({range:r},(n,r,s)=>{const[o,a,l]=n,c=Zl(a);if(o===this.userId&&t.path.isEqual(c))return am(e).get(l).next(e=>{if(!e)throw _a(61480,{nr:n,batchId:l});Pa(e.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:e.userId,batchId:l}),i.push(lp(this.serializer,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new fu(Ka);const r=[];return t.forEach(t=>{const i=lc(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=lm(e).ee({range:s},(e,r,i)=>{const[s,o,a]=e,l=Zl(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()});r.push(o)}),_l.waitFor(r).next(()=>this.rr(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=lc(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new fu(Ka);return lm(e).ee({range:s},(e,t,i)=>{const[s,a,l]=e,c=Zl(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()}).next(()=>this.rr(e,o))}rr(e,t){const n=[],r=[];return t.forEach(t=>{r.push(am(e).get(t).next(e=>{if(null===e)throw _a(35274,{batchId:t});Pa(e.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),n.push(lp(this.serializer,e))}))}),_l.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return rm(e.le,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.ir(t.batchId)}),_l.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return _l.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return lm(e).ee({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Zl(e[1]);r.push(t)}else n.done()}).next(()=>{Pa(0===r.length,56720,{sr:r.map(e=>e.canonicalString())})})})}containsKey(e,t){return om(e,this.userId,t)}_r(e){return cm(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:Gl,lastStreamToken:""})}}function om(e,t,n){const r=lc(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return lm(e).ee({range:s,X:!0},(e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function am(e){return ou(e,ic)}function lm(e){return ou(e,hc)}function cm(e){return ou(e,rc)}class um{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new um(0)}static cr(){return new um(-1)}}class hm{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next(t=>{const n=new um(t.highestTargetId);return t.highestTargetId=n.next(),this.hr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(e=>ml.fromTimestamp(new pl(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.lr(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.hr(e,r)))}addTargetData(e,t){return this.Pr(e,t).next(()=>this.lr(e).next(n=>(n.targetCount+=1,this.Tr(t,n),this.hr(e,n))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>dm(e).delete(t.targetId)).next(()=>this.lr(e)).next(t=>(Pa(t.targetCount>0,8065),t.targetCount-=1,this.hr(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return dm(e).ee((s,o)=>{const a=cp(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>_l.waitFor(i)).next(()=>r)}forEachTarget(e,t){return dm(e).ee((e,n)=>{const r=cp(n);t(r)})}lr(e){return fm(e).get(Ic).next(e=>(Pa(null!==e,2888),e))}hr(e,t){return fm(e).put(Ic,t)}Pr(e,t){return dm(e).put(up(this.serializer,t))}Tr(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.lr(e).next(e=>e.targetCount)}getTargetData(e,t){const n=Fh(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return dm(e).ee({range:r,index:xc},(e,n,r)=>{const s=cp(n);jh(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=pm(e);return t.forEach(t=>{const s=Ql(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))}),_l.waitFor(r)}removeMatchingKeys(e,t,n){const r=pm(e);return _l.forEach(t,t=>{const i=Ql(t.path);return _l.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=pm(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=pm(e);let i=gd();return r.ee({range:n,X:!0},(e,t,n)=>{const r=Zl(e[1]),s=new il(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=Ql(t.path),r=IDBKeyRange.bound([n],[Ja(n)],!1,!0);let i=0;return pm(e).ee({index:Cc,X:!0,range:r},(e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())}).next(()=>i>0)}At(e,t){return dm(e).get(t).next(e=>e?cp(e):null)}}function dm(e){return ou(e,wc)}function fm(e){return ou(e,Nc)}function pm(e){return ou(e,kc)}const mm="LruGarbageCollector",gm=1048576;function ym(e,t){let[n,r]=e,[i,s]=t;const o=Ka(n,i);return 0===o?Ka(r,s):o}class vm{constructor(e){this.Ir=e,this.buffer=new fu(ym),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ym(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bm{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Ca(mm,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ol(e)?Ca(mm,"Ignoring IndexedDB error during garbage collection: ",e):await Nl(e)}await this.Vr(3e5)})}}class wm{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return _l.resolve(ql.ce);const n=new vm(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ca("LruGarbageCollector","Garbage collection skipped; disabled"),_l.resolve(em)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ca("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),em):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Ca("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Ea()<=un.DEBUG&&Ca("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),_l.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function xm(e,t){return new wm(e,t)}class Sm{constructor(e,t){this.db=e,this.garbageCollector=xm(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,(e,n)=>t(n))}addReference(e,t,n){return km(e,n)}removeReference(e,t,n){return km(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return km(e,t)}br(e,t){return function(e,t){let n=!1;return cm(e).te(r=>om(e,r,t).next(e=>(e&&(n=!0),_l.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Sr(e,(s,o)=>{if(o<=t){const t=this.br(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s,ml.min()),pm(e).delete(function(e){return[0,Ql(e.path)]}(s))))});r.push(t)}}).next(()=>_l.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return km(e,t)}Sr(e,t){const n=pm(e);let r,i=ql.ce;return n.ee({index:Cc},(e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==ql.ce&&t(new il(Zl(r)),i),i=l,r=a):i=ql.ce}).next(()=>{i!==ql.ce&&t(new il(Zl(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function km(e,t){return pm(e).put(function(e,t){return{targetId:0,path:Ql(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Em{constructor(){this.changes=new sd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,uh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?_l.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cm{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return _m(e).put(n)}removeEntry(e,t,n){return _m(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],sp(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Dr(e,n)))}getEntry(e,t){let n=uh.newInvalidDocument(t);return _m(e).ee({index:pc,range:IDBKeyRange.only(Am(t))},(e,r)=>{n=this.Cr(t,r)}).next(()=>n)}vr(e,t){let n={size:0,document:uh.newInvalidDocument(t)};return _m(e).ee({index:pc,range:IDBKeyRange.only(Am(t))},(e,r)=>{n={document:this.Cr(t,r),size:im(r)}}).next(()=>n)}getEntries(e,t){let n=ad();return this.Fr(e,t,(e,t)=>{const r=this.Cr(e,t);n=n.insert(e,r)}).next(()=>n)}Mr(e,t){let n=ad(),r=new uu(il.comparator);return this.Fr(e,t,(e,t)=>{const i=this.Cr(e,t);n=n.insert(e,i),r=r.insert(e,im(t))}).next(()=>({documents:n,Or:r}))}Fr(e,t,n){if(t.isEmpty())return _l.resolve();let r=new fu(Dm);t.forEach(e=>r=r.add(e));const i=IDBKeyRange.bound(Am(r.first()),Am(r.last())),s=r.getIterator();let o=s.getNext();return _m(e).ee({index:pc,range:i},(e,t,r)=>{const i=il.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Dm(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.j(Am(o)):r.done()}).next(()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),sp(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _m(e).J(IDBKeyRange.bound(o,a,!0)).next(e=>{null===i||void 0===i||i.incrementDocumentReadCount(e.length);let n=ad();for(const i of e){const e=this.Cr(il.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(td(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,r){let i=ad();const s=Pm(t,n),o=Pm(t,El.max());return _m(e).ee({index:gc,range:IDBKeyRange.bound(s,o,!0)},(e,t,n)=>{const s=this.Cr(il.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()}).next(()=>i)}newChangeBuffer(e){return new Im(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return Nm(e).get(bc).next(e=>(Pa(!!e,20021),e))}Dr(e,t){return Nm(e).put(bc,t)}Cr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=zf(e.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=il.fromSegments(t.noDocument.path),r=ap(t.noDocument.readTime);n=uh.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return _a(56709);{const e=il.fromSegments(t.unknownDocument.path),r=ap(t.unknownDocument.version);n=uh.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new pl(e[0],e[1]);return ml.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(ml.min()))return e}return uh.newInvalidDocument(e)}}function Tm(e){return new Cm(e)}class Im extends Em{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new sd(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new fu((e,t)=>Ka(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.Br.get(i);if(t.push(this.Nr.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=ip(this.Nr.serializer,s);r=r.add(i.path.popLast());const l=im(a);n+=l-o.size,t.push(this.Nr.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=ip(this.Nr.serializer,s.convertToNoDocument(ml.min()));t.push(this.Nr.addEntry(e,i,n))}}),r.forEach(n=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.Nr.updateMetadata(e,n)),_l.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next(e=>(this.Br.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next(e=>{let{documents:t,Or:n}=e;return n.forEach((e,n)=>{this.Br.set(e,{size:n,readTime:t.get(e).readTime})}),t})}}function Nm(e){return ou(e,vc)}function _m(e){return ou(e,dc)}function Am(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Pm(e,t){const n=t.documentKey.path.toArray();return[e,sp(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Dm(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ka(n[s],r[s]),i)return i;return i=Ka(n.length,r.length),i||(i=Ka(n[n.length-2],r[r.length-2]),i||Ka(n[n.length-1],r[r.length-1]))}class Rm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Mm{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&zd(n.mutation,e,gu.empty(),pl.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,gd()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gd();const r=hd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=cd();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=hd();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,gd()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=ad();const s=fd(),o=fd();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Gd)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),zd(o.mutation,t,o.mutation.getFieldMask(),pl.now())):s.set(t.key,gu.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new Rm(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=fd();let r=new uu((e,t)=>e-t),i=gd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||gu.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||gd()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=dd();l.forEach(e=>{if(!i.has(e)){const r=Vd(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return _l.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return il.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):_l.resolve(hd());let o=gl,a=i;return s.next(t=>_l.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?_l.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,gd())).next(e=>({batchId:o,changes:ud(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new il(t)).next(e=>{let t=cd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=cd();return this.indexManager.getCollectionParents(e,i).next(o=>_l.forEach(o,o=>{const a=function(e,t){return new Hh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,uh.newInvalidDocument(r)))});let n=cd();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&zd(s.mutation,r,gu.empty(),pl.now()),td(t,r)&&(n=n.insert(e,r))}),n})}}class Lm{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return _l.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Af(e.createTime)}}(t)),_l.resolve()}getNamedQuery(e,t){return _l.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:hp(e.bundledQuery),readTime:Af(e.readTime)}}(t)),_l.resolve()}}class Om{constructor(){this.overlays=new uu(il.comparator),this.qr=new Map}getOverlay(e,t){return _l.resolve(this.overlays.get(t))}getOverlays(e,t){const n=hd();return _l.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),_l.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),_l.resolve()}getOverlaysForCollection(e,t,n){const r=hd(),i=t.length+1,s=new il(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return _l.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new uu((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=hd(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=hd(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return _l.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Zd(t,n));let i=this.qr.get(t);void 0===i&&(i=gd(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class Fm{constructor(){this.sessionToken=vu.EMPTY_BYTE_STRING}getSessionToken(e){return _l.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,_l.resolve()}}class jm{constructor(){this.Qr=new fu(Vm.$r),this.Ur=new fu(Vm.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Vm(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Vm(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new il(new tl([])),n=new Vm(t,e),r=new Vm(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new il(new tl([])),n=new Vm(t,e),r=new Vm(t,e+1);let i=gd();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Vm(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Vm{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return il.comparator(e.key,t.key)||Ka(e.Yr,t.Yr)}static Kr(e,t){return Ka(e.Yr,t.Yr)||il.comparator(e.key,t.key)}}class Um{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new fu(Vm.$r)}checkEmpty(e){return _l.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new $d(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Zr=this.Zr.add(new Vm(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return _l.resolve(s)}lookupMutationBatch(e,t){return _l.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return _l.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return _l.resolve(0===this.mutationQueue.length?Gl:this.tr-1)}getAllMutationBatches(e){return _l.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Vm(t,0),r=new Vm(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),_l.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new fu(Ka);return t.forEach(e=>{const t=new Vm(e,0),r=new Vm(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),_l.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;il.isDocumentKey(i)||(i=i.child(""));const s=new Vm(new il(i),0);let o=new fu(Ka);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)},s),_l.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Pa(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return _l.forEach(t.mutations,r=>{const i=new Vm(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Vm(t,0),r=this.Zr.firstAfterOrEqual(n);return _l.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,_l.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zm{constructor(e){this.ri=e,this.docs=new uu(il.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return _l.resolve(n?n.document.mutableCopy():uh.newInvalidDocument(t))}getEntries(e,t){let n=ad();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():uh.newInvalidDocument(e))}),_l.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ad();const s=t.path,o=new il(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Cl(kl(o),n)<=0||(r.has(o.key)||td(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return _l.resolve(i)}getAllFromCollectionGroup(e,t,n,r){_a(9500)}ii(e,t){return _l.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Bm(this)}getSize(e){return _l.resolve(this.size)}}class Bm extends Em{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),_l.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Hm{constructor(e){this.persistence=e,this.si=new sd(e=>Fh(e),jh),this.lastRemoteSnapshotVersion=ml.min(),this.highestTargetId=0,this.oi=0,this._i=new jm,this.targetCount=0,this.ai=um.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),_l.resolve()}getLastRemoteSnapshotVersion(e){return _l.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _l.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),_l.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),_l.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new um(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,_l.resolve()}updateTargetData(e,t){return this.Pr(t),_l.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,_l.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),_l.waitFor(i).next(()=>r)}getTargetCount(e){return _l.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return _l.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),_l.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),_l.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),_l.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return _l.resolve(n)}containsKey(e,t){return _l.resolve(this._i.containsKey(t))}}class qm{constructor(e,t){this.ui={},this.overlays={},this.ci=new ql(0),this.li=!1,this.li=!0,this.hi=new Fm,this.referenceDelegate=e(this),this.Pi=new Hm(this),this.indexManager=new qp,this.remoteDocumentCache=function(e){return new zm(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new rp(t),this.Ii=new Lm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Om,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Um(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Ca("MemoryPersistence","Starting transaction:",e);const r=new Gm(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return _l.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Gm extends Il{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.Ri=new jm,this.Vi=null}static mi(e){return new Km(e)}get fi(){if(this.Vi)return this.Vi;throw _a(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),_l.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),_l.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),_l.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _l.forEach(this.fi,n=>{const r=il.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,ml.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return _l.or([()=>_l.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Wm{constructor(e,t){this.persistence=e,this.pi=new sd(e=>Ql(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=xm(this,t)}static mi(e,t){return new Wm(e,t)}Ei(){}di(e){return _l.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return _l.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?_l.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,ml.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),_l.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),_l.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),_l.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),_l.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wu(e.data.value)),t}br(e,t,n){return _l.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return _l.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xm{constructor(e){this.serializer=e}k(e,t,n,r){const i=new Pl("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(tc)}(e),function(e){e.createObjectStore(rc,{keyPath:"userId"});e.createObjectStore(ic,{keyPath:sc,autoIncrement:!0}).createIndex(oc,ac,{unique:!0}),e.createObjectStore(hc)}(e),Ym(e),function(e){e.createObjectStore(ec)}(e));let s=_l.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(kc),e.deleteObjectStore(wc),e.deleteObjectStore(Nc)}(e),Ym(e)),s=s.next(()=>function(e){const t=e.store(Nc),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ml.min().toTimestamp(),targetCount:0};return t.put(Ic,n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store(ic).J().next(n=>{e.deleteObjectStore(ic),e.createObjectStore(ic,{keyPath:sc,autoIncrement:!0}).createIndex(oc,ac,{unique:!0});const r=t.store(ic),i=n.map(e=>r.put(e));return _l.waitFor(i)})}(e,i))),s=s.next(()=>{!function(e){e.createObjectStore(Pc,{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(s=s.next(()=>this.yi(i))),n<6&&r>=6&&(s=s.next(()=>(function(e){e.createObjectStore(vc)}(e),this.wi(i)))),n<7&&r>=7&&(s=s.next(()=>this.Si(i))),n<8&&r>=8&&(s=s.next(()=>this.bi(e,i))),n<9&&r>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(s=s.next(()=>this.Di(i))),n<11&&r>=11&&(s=s.next(()=>{!function(e){e.createObjectStore(Dc,{keyPath:"bundleId"})}(e),function(e){e.createObjectStore(Rc,{keyPath:"name"})}(e)})),n<12&&r>=12&&(s=s.next(()=>{!function(e){const t=e.createObjectStore(qc,{keyPath:Gc});t.createIndex(Kc,Wc,{unique:!1}),t.createIndex(Xc,Yc,{unique:!1})}(e)})),n<13&&r>=13&&(s=s.next(()=>function(e){const t=e.createObjectStore(dc,{keyPath:fc});t.createIndex(pc,mc),t.createIndex(gc,yc)}(e)).next(()=>this.Ci(e,i)).next(()=>e.deleteObjectStore(ec))),n<14&&r>=14&&(s=s.next(()=>this.Fi(e,i))),n<15&&r>=15&&(s=s.next(()=>function(e){e.createObjectStore(Mc,{keyPath:"indexId",autoIncrement:!0}).createIndex(Lc,"collectionGroup",{unique:!1});e.createObjectStore(Oc,{keyPath:Fc}).createIndex(jc,Vc,{unique:!1});e.createObjectStore(Uc,{keyPath:zc}).createIndex(Bc,Hc,{unique:!1})}(e))),n<16&&r>=16&&(s=s.next(()=>{t.objectStore(Oc).clear()}).next(()=>{t.objectStore(Uc).clear()})),n<17&&r>=17&&(s=s.next(()=>{!function(e){e.createObjectStore(Qc,{keyPath:"name"})}(e)})),n<18&&r>=18&&Gt()&&(s=s.next(()=>{t.objectStore(Oc).clear()}).next(()=>{t.objectStore(Uc).clear()})),s}wi(e){let t=0;return e.store(ec).ee((e,n)=>{t+=im(n)}).next(()=>{const n={byteSize:t};return e.store(vc).put(bc,n)})}yi(e){const t=e.store(rc),n=e.store(ic);return t.J().next(t=>_l.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,Gl],[t.userId,t.lastAcknowledgedBatchId]);return n.J(oc,r).next(n=>_l.forEach(n,n=>{Pa(n.userId===t.userId,18650,"Cannot process batch from unexpected user",{batchId:n.batchId});const r=lp(this.serializer,n);return rm(e,t.userId,r).next(()=>{})}))}))}Si(e){const t=e.store(kc),n=e.store(ec);return e.store(Nc).get(Ic).next(e=>{const r=[];return n.ee((n,i)=>{const s=new tl(n),o=function(e){return[0,Ql(e)]}(s);r.push(t.get(o).next(n=>n?_l.resolve():(n=>t.put({targetId:0,path:Ql(n),sequenceNumber:e.highestListenSequenceNumber}))(s)))}).next(()=>_l.waitFor(r))})}bi(e,t){e.createObjectStore(_c,{keyPath:Ac});const n=t.store(_c),r=new Gp,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Ql(r)})}};return t.store(ec).ee({X:!0},(e,t)=>{const n=new tl(e);return i(n.popLast())}).next(()=>t.store(hc).ee({X:!0},(e,t)=>{let[n,r,s]=e;const o=Zl(r);return i(o.popLast())}))}Di(e){const t=e.store(wc);return t.ee((e,n)=>{const r=cp(n),i=up(this.serializer,r);return t.put(i)})}Ci(e,t){const n=t.store(ec),r=[];return n.ee((e,n)=>{const i=t.store(dc),s=function(e){return e.document?new il(tl.fromString(e.document.name).popFirst(5)):e.noDocument?il.fromSegments(e.noDocument.path):e.unknownDocument?il.fromSegments(e.unknownDocument.path):_a(36783)}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))}).next(()=>_l.waitFor(r))}Fi(e,t){const n=t.store(ic),r=Tm(this.serializer),i=new qm(Km.mi,this.serializer.yt);return n.J().next(e=>{const n=new Map;return e.forEach(e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:gd();lp(this.serializer,e).keys().forEach(e=>r=r.add(e)),n.set(e.userId,r)}),_l.forEach(n,(e,n)=>{const s=new xa(n),o=vp.wt(this.serializer,s),a=i.getIndexManager(s),l=sm.wt(s,this.serializer,a,i.referenceDelegate);return new Mm(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new su(t,ql.ce),e).next()})})}}function Ym(e){e.createObjectStore(kc,{keyPath:Ec}).createIndex(Cc,Tc,{unique:!0}),e.createObjectStore(wc,{keyPath:"targetId"}).createIndex(xc,Sc,{unique:!0}),e.createObjectStore(Nc)}const Qm="IndexedDbPersistence",$m=18e5,Jm=5e3,Zm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",eg="main";class tg{constructor(e,t,n,r,i,s,o,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:18;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Mi=i,this.window=s,this.document=o,this.xi=l,this.Oi=c,this.Ni=u,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=e=>Promise.resolve(),!tg.v())throw new Ma(Ra.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Sm(this,r),this.$i=t+eg,this.serializer=new rp(a),this.Ui=new Dl(this.$i,this.Ni,new Xm(this.serializer)),this.hi=new wp,this.Pi=new hm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Tm(this.serializer),this.Ii=new mp,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,!1===c&&Ta(Qm,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ma(Ra.FAILED_PRECONDITION,Zm);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new ql(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(e=>{e||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(t=>this.isPrimary&&!t?this.Zi(e).next(()=>!1):!!t&&this.Xi(e).next(()=>!0))).catch(e=>{if(Ol(e))return Ca(Qm,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ca(Qm,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return ng(e).get(nc).next(e=>_l.resolve(this.es(e)))}ts(e){return rg(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,$m)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=ou(e,Pc);return t.J().next(e=>{const n=this.ss(e,$m),r=e.filter(e=>-1===n.indexOf(e));return _l.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?_l.resolve(!0):ng(e).get(nc).next(t=>{if(null!==t&&this.rs(t.leaseTimestampMs,Jm)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new Ma(Ra.FAILED_PRECONDITION,Zm);return!1}}return!(!this.networkEnabled||!this.inForeground)||rg(e).J().next(e=>void 0===this.ss(e,Jm).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ca(Qm,"Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[tc,Pc],e=>{const t=new su(e,ql.ce);return this.Zi(t).next(()=>this.ts(t))}),this.Ui.close(),this.Ps()}ss(e,t){return e.filter(e=>this.rs(e.updateTimeMs,t)&&!this.us(e.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>rg(e).J().next(e=>this.ss(e,$m).map(e=>e.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return sm.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Xp(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return vp.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,n){Ca(Qm,"Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 18===e?iu:17===e?ru:16===e?nu:15===e?tu:14===e?eu:13===e?Zc:12===e?Jc:11===e?$c:void _a(60245)}(this.Ni);let s;return this.Ui.runTransaction(e,r,i,r=>(s=new su(r,this.ci?this.ci.next():ql.ce),"readwrite-primary"===t?this.Hi(s).next(e=>!!e||this.Yi(s)).next(t=>{if(!t)throw Ta("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new Ma(Ra.FAILED_PRECONDITION,Tl);return n(s)}).next(e=>this.Xi(s).next(()=>e)):this.Is(s).next(()=>n(s)))).then(e=>(s.raiseOnCommittedEvent(),e))}Is(e){return ng(e).get(nc).next(e=>{if(null!==e&&this.rs(e.leaseTimestampMs,Jm)&&!this.us(e.ownerId)&&!this.es(e)&&!(this.Oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ma(Ra.FAILED_PRECONDITION,Zm)})}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ng(e).put(nc,t)}static v(){return Dl.v()}Zi(e){const t=ng(e);return t.get(nc).next(e=>this.es(e)?(Ca(Qm,"Releasing primary lease."),t.delete(nc)):_l.resolve())}rs(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Ta("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground="visible"===this.document.visibilityState)}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;qt()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{var t;const n=null!==(null===(t=this.Ki)||void 0===t?void 0:t.getItem(this._s(e)));return Ca(Qm,"Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ta(Qm,"Failed to get zombied client id.",e),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(eP){Ta("Failed to set zombie client id.",eP)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch(eP){}}_s(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function ng(e){return ou(e,tc)}function rg(e){return ou(e,Pc)}function ig(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class sg{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=gd(),r=gd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new sg(e,t.fromCache,n,r)}}class og{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ag{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=qt()?8:Rl(Bt())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new og;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Ea()<=un.DEBUG&&Ca("QueryEngine","SDK will not create cache indexes for query:",ed(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_l.resolve()):(Ea()<=un.DEBUG&&Ca("QueryEngine","Query:",ed(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Ea()<=un.DEBUG&&Ca("QueryEngine","The SDK decides to create cache indexes for query:",ed(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yh(t))):_l.resolve())}ys(e,t){if(Kh(t))return _l.resolve(null);let n=Yh(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=$h(t,null,"F"),n=Yh(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=gd(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,$h(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return Kh(t)||r.isEqual(ml.min())?_l.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(t,i);return this.Cs(t,s,n,r)?_l.resolve(null):(Ea()<=un.DEBUG&&Ca("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ed(t)),this.vs(e,s,t,Sl(r,gl)).next(e=>e))})}Ds(e,t){let n=new fu(rd(e));return t.forEach((t,r)=>{td(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Ea()<=un.DEBUG&&Ca("QueryEngine","Using full collection scan to execute query:",ed(t)),this.ps.getDocumentsMatchingQuery(e,t,El.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const lg="LocalStore";class cg{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new uu(Ka),this.xs=new sd(e=>Fh(e),jh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mm(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function ug(e,t,n,r){return new cg(e,t,n,r)}async function hg(e,t){const n=Da(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=gd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function dg(e){const t=Da(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function fg(e,t,n){let r=gd(),i=gd();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=ad();return n.forEach((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(ml.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Ca(lg,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{ks:r,qs:i}})}function pg(e,t){const n=Da(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Gl),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function mg(e,t){const n=Da(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,_l.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new np(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function gg(e,t,n){const r=Da(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Ol(e))throw e;Ca(lg,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function yg(e,t,n){const r=Da(e);let i=ml.min(),s=gd();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Da(e),i=r.xs.get(n);return void 0!==i?_l.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,Yh(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:ml.min(),n?s:gd())).next(e=>(vg(r,nd(t),e),{documents:e,Qs:s})))}function vg(e,t,n){let r=e.Os.get(t)||ml.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class bg{constructor(){this.activeTargetIds=vd()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wg{constructor(){this.Mo=new bg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new bg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xg{Oo(e){}shutdown(){}}const Sg="ConnectivityMonitor";class kg{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ca(Sg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ca(Sg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Eg=null;function Cg(){return null===Eg?Eg=268435456+Math.round(2147483648*Math.random()):Eg++,"0x"+Eg.toString(16)}const Tg="RestConnection",Ig={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ng{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Pu?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const s=Cg(),o=this.zo(e,t.toUriEncodedString());Ca(Tg,"Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:l}=new URL(o),c=Ft(l);return this.Jo(e,o,a,n,c).then(t=>(Ca(Tg,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw Ia(Tg,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Ig[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class _g{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ag="WebChannelConnection";class Pg extends Ng{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=Cg();return new Promise((i,o)=>{const a=new ca;a.setWithCredentials(!0),a.listenOnce(ha.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case da.NO_ERROR:const n=a.getResponseJson();Ca(Ag,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),i(n);break;case da.TIMEOUT:Ca(Ag,"RPC '".concat(e,"' ").concat(s," timed out")),o(new Ma(Ra.DEADLINE_EXCEEDED,"Request time out"));break;case da.HTTP_ERROR:const r=a.getStatus();if(Ca(Ag,"RPC '".concat(e,"' ").concat(s," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ra).indexOf(t)>=0?t:Ra.UNKNOWN}(n.status);o(new Ma(e,n.message))}else o(new Ma(Ra.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ma(Ra.UNAVAILABLE,"Connection failed."));break;default:_a(9055,{l_:e,streamId:s,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{Ca(Ag,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);Ca(Ag,"RPC '".concat(e,"' ").concat(s," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Cg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ga(),o=ma(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Ca(Ag,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);this.I_(u);let h=!1,d=!1;const f=new _g({Yo:t=>{d?Ca(Ag,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Ca(Ag,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Ca(Ag,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,ua.EventType.OPEN,()=>{d||(Ca(Ag,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,ua.EventType.CLOSE,()=>{d||(d=!0,Ca(Ag,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,ua.EventType.ERROR,t=>{d||(d=!0,Ia(Ag,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new Ma(Ra.UNAVAILABLE,"The operation could not be completed")))}),p(u,ua.EventType.MESSAGE,t=>{if(!d){var n;const i=t.data[0];Pa(!!i,16349);const s=i,o=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Ca(Ag,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=tf[e];if(void 0!==t)return sf(t)}(t),i=o.message;void 0===n&&(n=Ra.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.a_(new Ma(n,i)),u.close()}else Ca(Ag,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(o,pa.STAT_EVENT,t=>{t.stat===fa.PROXY?Ca(Ag,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===fa.NOPROXY&&Ca(Ag,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Dg(){return"undefined"!=typeof window?window:null}function Rg(){return"undefined"!=typeof document?document:null}function Mg(e){return new Cf(e,!0)}class Lg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Ca("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Og="PersistentStream";class Fg{constructor(e,t,n,r,i,s,o,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Lg(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Ra.RESOURCE_EXHAUSTED?(Ta(t.toString()),Ta("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ra.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Ma(Ra.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ca(Og,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Ca(Og,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jg extends Fg{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:_a(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Pa(void 0===t||"string"==typeof t,58123),vu.fromBase64String(t||"")):(Pa(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),vu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Ra.UNKNOWN:sf(e.code);return new Ma(t,e.message||"")}(o);n=new yf(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Lf(e,r.document.name),s=Af(r.document.updateTime),o=r.document.createTime?Af(r.document.createTime):ml.min(),a=new lh({mapValue:{fields:r.document.fields}}),l=uh.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new mf(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Lf(e,r.document),s=r.readTime?Af(r.readTime):ml.min(),o=uh.newNoDocument(i,s),a=r.removedTargetIds||[];n=new mf([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Lf(e,r.document),s=r.removedTargetIds||[];n=new mf([],s,i,null)}else{if(!("filter"in t))return _a(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new ef(r,i),o=e.targetId;n=new gf(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ml.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ml.min():t.readTime?Af(t.readTime):ml.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=jf(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Vh(r)?{documents:qf(e,r)}:{query:Gf(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Nf(e,t.resumeToken);const r=Tf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ml.min())>0){n.readTime=If(e,t.snapshotVersion.toTimestamp());const r=Tf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _a(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=jf(this.serializer),t.removeTarget=e,this.q_(t)}}class Vg extends Fg{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Pa(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pa(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Pa(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Pa(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Af(e.updateTime):Af(t);return n.isEqual(ml.min())&&(n=Af(t)),new Ld(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Af(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=jf(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Bf(this.serializer,e))};this.q_(t)}}class Ug{}class zg extends Ug{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Ma(Ra.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,o]=i;return this.connection.Go(e,Df(t,n),r,s,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ra.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ma(Ra.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[o,a]=s;return this.connection.Ho(e,Df(t,n),r,o,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ra.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ma(Ra.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Bg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Ta(t),this.aa=!1):Ca("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Hg="RemoteStore";class qg{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{Zg(this)&&(Ca(Hg,"Restarting streams for network reachability change."),await async function(e){const t=Da(e);t.Ea.add(4),await Kg(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Gg(t)}(this))})}),this.Ra=new Bg(n,r)}}async function Gg(e){if(Zg(e))for(const t of e.da)await t(!0)}async function Kg(e){for(const t of e.da)await t(!1)}function Wg(e,t){const n=Da(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Jg(n)?$g(n):vy(n).O_()&&Yg(n,t))}function Xg(e,t){const n=Da(e),r=vy(n);n.Ia.delete(t),r.O_()&&Qg(n,t),0===n.Ia.size&&(r.O_()?r.L_():Zg(n)&&n.Ra.set("Unknown"))}function Yg(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ml.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vy(e).Y_(t)}function Qg(e,t){e.Va.Ue(t),vy(e).Z_(t)}function $g(e){e.Va=new bf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),vy(e).start(),e.Ra.ua()}function Jg(e){return Zg(e)&&!vy(e).x_()&&e.Ia.size>0}function Zg(e){return 0===Da(e).Ea.size}function ey(e){e.Va=void 0}async function ty(e){e.Ra.set("Online")}async function ny(e){e.Ia.forEach((t,n)=>{Yg(e,t)})}async function ry(e,t){ey(e),Jg(e)?(e.Ra.ha(t),$g(e)):e.Ra.set("Unknown")}async function iy(e,t,n){if(e.Ra.set("Online"),t instanceof yf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){Ca(Hg,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sy(e,n)}else if(t instanceof mf?e.Va.Ze(t):t instanceof gf?e.Va.st(t):e.Va.tt(t),!n.isEqual(ml.min()))try{const t=await dg(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(vu.EMPTY_BYTE_STRING,r.snapshotVersion)),Qg(e,t);const i=new np(r.target,t,n,r.sequenceNumber);Yg(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ca(Hg,"Failed to raise snapshot:",t),await sy(e,t)}}async function sy(e,t,n){if(!Ol(t))throw t;e.Ea.add(1),await Kg(e),e.Ra.set("Offline"),n||(n=()=>dg(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ca(Hg,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Gg(e)})}function oy(e,t){return t().catch(n=>sy(e,n,t))}async function ay(e){const t=Da(e),n=by(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Gl;for(;ly(t);)try{const e=await pg(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,cy(t,e)}catch(e){await sy(t,e)}uy(t)&&hy(t)}function ly(e){return Zg(e)&&e.Ta.length<10}function cy(e,t){e.Ta.push(t);const n=by(e);n.O_()&&n.X_&&n.ea(t.mutations)}function uy(e){return Zg(e)&&!by(e).x_()&&e.Ta.length>0}function hy(e){by(e).start()}async function dy(e){by(e).ra()}async function fy(e){const t=by(e);for(const n of e.Ta)t.ea(n.mutations)}async function py(e,t,n){const r=e.Ta.shift(),i=Jd.from(r,t,n);await oy(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ay(e)}async function my(e,t){t&&by(e).X_&&await async function(e,t){if(function(e){return rf(e)&&e!==Ra.ABORTED}(t.code)){const n=e.Ta.shift();by(e).B_(),await oy(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ay(e)}}(e,t),uy(e)&&hy(e)}async function gy(e,t){const n=Da(e);n.asyncQueue.verifyOperationInProgress(),Ca(Hg,"RemoteStore received new credentials");const r=Zg(n);n.Ea.add(3),await Kg(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Gg(n)}async function yy(e,t){const n=Da(e);t?(n.Ea.delete(2),await Gg(n)):t||(n.Ea.add(2),await Kg(n),n.Ra.set("Unknown"))}function vy(e){return e.ma||(e.ma=function(e,t,n){const r=Da(e);return r.sa(),new jg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:ty.bind(null,e),t_:ny.bind(null,e),r_:ry.bind(null,e),H_:iy.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Jg(e)?$g(e):e.Ra.set("Unknown")):(await e.ma.stop(),ey(e))})),e.ma}function by(e){return e.fa||(e.fa=function(e,t,n){const r=Da(e);return r.sa(),new Vg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:dy.bind(null,e),r_:my.bind(null,e),ta:fy.bind(null,e),na:py.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await ay(e)):(await e.fa.stop(),e.Ta.length>0&&(Ca(Hg,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class wy{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new La,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new wy(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ma(Ra.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xy(e,t){if(Ta("AsyncQueue","".concat(t,": ").concat(e)),Ol(e))return new Ma(Ra.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Sy{static emptySet(e){return new Sy(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||il.comparator(t.key,n.key):(e,t)=>il.comparator(e.key,t.key),this.keyedMap=cd(),this.sortedSet=new uu(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sy))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Sy;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ky{constructor(){this.ga=new uu(il.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):_a(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ey{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Ey(e,t,Sy.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Cy{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Ty{constructor(){this.queries=Iy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Da(e),r=n.queries;n.queries=Iy(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Ma(Ra.ABORTED,"Firestore shutting down"))}}function Iy(){return new sd(e=>Zh(e),Jh)}async function Ny(e,t){const n=Da(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new Cy,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=xy(e,"Initialization of query '".concat(ed(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&Dy(n)}async function _y(e,t){const n=Da(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ay(e,t){const n=Da(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Dy(n)}function Py(e,t,n){const r=Da(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function Dy(e){e.Ca.forEach(e=>{e.next()})}var Ry,My;(My=Ry||(Ry={})).Ma="default",My.Cache="cache";class Ly{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ey(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Ey.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ry.Cache}}class Oy{constructor(e){this.key=e}}class Fy{constructor(e){this.key=e}}class jy{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=gd(),this.mutatedKeys=gd(),this.eu=rd(e),this.tu=new Sy(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new ky,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=td(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _a(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const o=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==s.length||l?{snapshot:new Ey(this.query,e.tu,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ky,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=gd(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Fy(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Oy(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=gd();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ey.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Vy="SyncEngine";class Uy{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class zy{constructor(e){this.key=e,this.hu=!1}}class By{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new sd(e=>Zh(e),Jh),this.Iu=new Map,this.Eu=new Set,this.du=new uu(il.comparator),this.Au=new Map,this.Ru=new jm,this.Vu={},this.mu=new Map,this.fu=um.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Hy(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=uv(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Gy(r,t,n,!0),i}async function qy(e,t){const n=uv(e);await Gy(n,t,!0,!1)}async function Gy(e,t,n,r){const i=await mg(e.localStore,Yh(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Ky(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Wg(e.remoteStore,i),a}async function Ky(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await yg(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return iv(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const s=await yg(e.localStore,t,!0),o=new jy(t,s.Qs),a=o.ru(s.documents),l=pf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);iv(e,n,c.au);const u=new Uy(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Wy(e,t,n){const r=Da(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(e=>!Jh(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xg(r.remoteStore,i.targetId),nv(r,i.targetId)}).catch(Nl)):(nv(r,i.targetId),await gg(r.localStore,i.targetId,!0))}async function Xy(e,t){const n=Da(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xg(n.remoteStore,r.targetId))}async function Yy(e,t){const n=Da(e);try{const e=await function(e,t){const n=Da(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];t.targetChanges.forEach((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(vu.EMPTY_BYTE_STRING,ml.min()).withLastLimboFreeSnapshotVersion(ml.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&o.push(n.Pi.updateTargetData(e,c))});let a=ad(),l=gd();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(fg(e,s,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(ml.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return _l.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Pa(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Pa(r.hu,14607):e.removedDocuments.size>0&&(Pa(r.hu,42227),r.hu=!1))}),await av(n,e,t)}catch(e){await Nl(e)}}function Qy(e,t,n){const r=Da(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Da(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Dy(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function $y(e,t,n){const r=Da(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let e=new uu(il.comparator);e=e.insert(s,uh.newNoDocument(s,ml.min()));const n=gd().add(s),i=new ff(ml.min(),new Map,new uu(Ka),e,n);await Yy(r,i),r.du=r.du.remove(s),r.Au.delete(t),ov(r)}else await gg(r.localStore,t,!1).then(()=>nv(r,t,n)).catch(Nl)}async function Jy(e,t){const n=Da(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Da(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=_l.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Pa(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=gd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);tv(n,r,null),ev(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await av(n,e)}catch(e){await Nl(e)}}async function Zy(e,t,n){const r=Da(e);try{const e=await function(e,t){const n=Da(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Pa(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);tv(r,t,n),ev(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await av(r,e)}catch(n){await Nl(n)}}function ev(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function tv(e,t,n){const r=Da(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function nv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||rv(e,t)})}function rv(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Xg(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),ov(e))}function iv(e,t,n){for(const r of n)r instanceof Oy?(e.Ru.addReference(r.key,t),sv(e,r)):r instanceof Fy?(Ca(Vy,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||rv(e,r.key)):_a(19791,{wu:r})}function sv(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Ca(Vy,"New document in limbo: "+n),e.Eu.add(r),ov(e))}function ov(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new il(tl.fromString(t)),r=e.fu.next();e.Au.set(r,new zy(n)),e.du=e.du.insert(n,r),Wg(e.remoteStore,new np(Yh(Gh(n.path)),r,"TargetPurposeLimboResolution",ql.ce))}}async function av(e,t,n){const r=Da(e),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{o.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=sg.As(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(e,t){const n=Da(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>_l.forEach(t,t=>_l.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>_l.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ol(e))throw e;Ca(lg,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,s))}async function lv(e,t){const n=Da(e);if(!n.currentUser.isEqual(t)){Ca(Vy,"User change. New user:",t.toKey());const e=await hg(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Ma(Ra.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await av(n,e.Ls)}}function cv(e,t){const n=Da(e),r=n.Au.get(t);if(r&&r.hu)return gd().add(r.key);{let e=gd();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function uv(e){const t=Da(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$y.bind(null,t),t.Pu.H_=Ay.bind(null,t.eventManager),t.Pu.yu=Py.bind(null,t.eventManager),t}function hv(e){const t=Da(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Jy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Zy.bind(null,t),t}class dv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ug(this.persistence,new ag,e.initialUser,this.serializer)}Cu(e){return new qm(Km.mi,this.serializer)}Du(e){return new wg}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dv.provider={build:()=>new dv};class fv extends dv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Pa(this.persistence.referenceDelegate instanceof Wm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new bm(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?nm.withCacheSize(this.cacheSizeBytes):nm.DEFAULT;return new qm(e=>Wm.mi(e,t),this.serializer)}}class pv extends dv{constructor(e,t,n){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await hv(this.xu.syncEngine),await ay(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return ug(this.persistence,new ag,e.initialUser,this.serializer)}Fu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new bm(n,e.asyncQueue,t)}Mu(e,t){const n=new Hl(t,this.persistence);return new Bl(e.asyncQueue,n)}Cu(e){const t=ig(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?nm.withCacheSize(this.cacheSizeBytes):nm.DEFAULT;return new tg(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Dg(),Rg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new wg}}class mv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Qy(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=lv.bind(null,this.syncEngine),await yy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ty}createDatastore(e){const t=Mg(e.databaseInfo.databaseId),n=function(e){return new Pg(e)}(e.databaseInfo);return function(e,t,n,r){return new zg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new qg(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Qy(this.syncEngine,e,0),kg.v()?new kg:new xg)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new By(e,t,n,r,i,s);return o&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Da(e);Ca(Hg,"RemoteStore shutting down."),t.Ea.add(5),await Kg(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}mv.provider={build:()=>new mv};class gv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ta("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const yv="FirestoreClient";class vv{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=xa.UNAUTHENTICATED,this.clientId=Ga.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Ca(yv,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Ca(yv,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new La;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=xy(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function bv(e,t){e.asyncQueue.verifyOperationInProgress(),Ca(yv,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await hg(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function wv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await xv(e);Ca(yv,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>gy(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>gy(t.remoteStore,n)),e._onlineComponents=t}async function xv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ca(yv,"Using user provided OfflineComponentProvider");try{await bv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ra.FAILED_PRECONDITION||e.code===Ra.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ia("Error using user provided cache. Falling back to memory cache: "+n),await bv(e,new dv)}}else Ca(yv,"Using default OfflineComponentProvider"),await bv(e,new fv(void 0));return e._offlineComponents}async function Sv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ca(yv,"Using user provided OnlineComponentProvider"),await wv(e,e._uninitializedComponentsProvider._online)):(Ca(yv,"Using default OnlineComponentProvider"),await wv(e,new mv))),e._onlineComponents}function kv(e){return Sv(e).then(e=>e.syncEngine)}async function Ev(e){const t=await Sv(e),n=t.eventManager;return n.onListen=Hy.bind(null,t.syncEngine),n.onUnlisten=Wy.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=qy.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Xy.bind(null,t.syncEngine),n}function Cv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new La;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new gv({next:a=>{s.Nu(),t.enqueueAndForget(()=>_y(e,o));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new Ma(Ra.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new Ma(Ra.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new Ly(Gh(n.path),s,{includeMetadataChanges:!0,qa:!0});return Ny(e,o)}(await Ev(e),e.asyncQueue,t,n,r)),r.promise}function Tv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Iv=new Map,Nv="firestore.googleapis.com",_v=!0;class Av{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ma(Ra.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nv,this.ssl=_v}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:_v;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=tm;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<gm)throw new Ma(Ra.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ma(Ra.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ma(Ra.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ma(Ra.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ma(Ra.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ma(Ra.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ma(Ra.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Fa;switch(e.type){case"firstParty":return new za(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ma(Ra.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Iv.get(e);t&&(Ca("ComponentProvider","Removing Datastore"),Iv.delete(e),t.terminate())}(this),Promise.resolve()}}function Dv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=cl(e,Pv);const i=Ft(t),s=e._getSettings(),o=u(u({},s),{},{emulatorOptions:e._getEmulatorOptions()}),a="".concat(t,":").concat(n);i&&(jt("https://".concat(a)),zt("Firestore",!0)),s.host!==Nv&&s.host!==a&&Ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=u(u({},s),{},{host:a,ssl:i,emulatorOptions:r});if(!Qt(l,o)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=xa.MOCK_USER;else{var c;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=u({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_t(JSON.stringify({alg:"none",type:"JWT"})),_t(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Ma(Ra.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new xa(i)}e._authCredentials=new ja(new Oa(t,n))}}class Rv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Rv(this.firestore,e,this._query)}}class Mv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mv(this.firestore,e,this._key)}toJSON(){return{type:Mv._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(hl(t,Mv._jsonSchema))return new Mv(e,n||null,new il(tl.fromString(t.referencePath)))}}Mv._jsonSchemaVersion="firestore/documentReference/1.0",Mv._jsonSchema={type:ul("string",Mv._jsonSchemaVersion),referencePath:ul("string")};class Lv extends Rv{constructor(e,t,n){super(e,t,Gh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mv(this.firestore,null,new il(e))}withConverter(e){return new Lv(this.firestore,e,this._path)}}function Ov(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=rn(e),1===arguments.length&&(t=Ga.newId()),sl("doc","path",t),e instanceof Pv){const n=tl.fromString(t,...r);return ol(n),new Mv(e,null,new il(n))}{if(!(e instanceof Mv||e instanceof Lv))throw new Ma(Ra.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(tl.fromString(t,...r));return ol(n),new Mv(e.firestore,e instanceof Lv?e.converter:null,new il(n))}}const Fv="AsyncQueue";class jv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Lg(this,"async_queue_retry"),this._c=()=>{const e=Rg();e&&Ca(Fv,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Rg();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Rg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new La;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(eP){if(!Ol(eP))throw eP;Ca(Fv,"Operation failed with retryable error: "+eP)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Ta("INTERNAL UNHANDLED ERROR: ",Vv(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=wy.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&_a(47125,{Pc:Vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Vv(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Uv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class zv extends Pv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new jv,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jv(e),this._firestoreClient=void 0,await e}}}function Bv(e){if(e._terminated)throw new Ma(Ra.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Hv(e),e._firestoreClient}function Hv(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Au(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Tv(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new vv(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function qv(e,t,n){if((e=cl(e,zv))._firestoreClient||e._terminated)throw new Ma(Ra.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new Ma(Ra.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},Hv(e)}class Gv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gv(vu.fromBase64String(e))}catch(e){throw new Ma(Ra.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Gv(vu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gv._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hl(e,Gv._jsonSchema))return Gv.fromBase64String(e.bytes)}}Gv._jsonSchemaVersion="firestore/bytes/1.0",Gv._jsonSchema={type:ul("string",Gv._jsonSchemaVersion),bytes:ul("string")};class Kv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ma(Ra.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wv{constructor(e){this._methodName=e}}class Xv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ma(Ra.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ma(Ra.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ka(this._lat,e._lat)||Ka(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xv._jsonSchemaVersion}}static fromJSON(e){if(hl(e,Xv._jsonSchema))return new Xv(e.latitude,e.longitude)}}Xv._jsonSchemaVersion="firestore/geoPoint/1.0",Xv._jsonSchema={type:ul("string",Xv._jsonSchemaVersion),latitude:ul("number"),longitude:ul("number")};class Yv{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Yv._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hl(e,Yv._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Yv(e.vectorValues);throw new Ma(Ra.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yv._jsonSchemaVersion="firestore/vectorValue/1.0",Yv._jsonSchema={type:ul("string",Yv._jsonSchemaVersion),vectorValues:ul("object")};const Qv=/^__.*__$/;class $v{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Gd(e,this.data,this.fieldMask,t,this.fieldTransforms):new qd(e,this.data,t,this.fieldTransforms)}}function Jv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _a(40011,{Ac:e})}}class Zv{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zv(u(u({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(Jv(this.Ac)&&Qv.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class eb{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Mg(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Zv({Ac:e,methodName:t,Dc:n,path:rl.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tb(e){const t=e._freezeSettings(),n=Mg(e._databaseId);return new eb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nb(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);ab("Data must be an object, but it was:",o,r);const a=sb(r,o);let l,c;if(s.merge)l=new gu(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=lb(t,r,n);if(!o.contains(i))throw new Ma(Ra.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));db(e,i)||e.push(i)}l=new gu(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new $v(new lh(a),l,c)}class rb extends Wv{_toFieldTransform(e){return new Md(e.path,new Td)}isEqual(e){return e instanceof rb}}function ib(e,t){if(ob(e=rn(e)))return ab("Unsupported field value:",t,e),sb(e,t);if(e instanceof Wv)return function(e,t){if(!Jv(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ib(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=rn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=pl.fromDate(e);return{timestampValue:If(t.serializer,n)}}if(e instanceof pl){const n=new pl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:If(t.serializer,n)}}if(e instanceof Xv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gv)return{bytesValue:Nf(t.serializer,e._byteString)};if(e instanceof Mv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Pf(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Yv)return function(e,t){return{mapValue:{fields:{[Ru]:{stringValue:Ou},[Fu]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return bd(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(ll(e)))}(e,t)}function sb(e,t){const n={};return cu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lu(e,(e,r)=>{const i=ib(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function ob(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof pl||e instanceof Xv||e instanceof Gv||e instanceof Mv||e instanceof Wv||e instanceof Yv)}function ab(e,t,n){if(!ob(n)||!al(n)){const r=ll(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function lb(e,t,n){if((t=rn(t))instanceof Kv)return t._internalPath;if("string"==typeof t)return ub(e,t);throw hb("Field path arguments must be of type string or ",e,!1,void 0,n)}const cb=new RegExp("[~\\*/\\[\\]]");function ub(e,t,n){if(t.search(cb)>=0)throw hb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Kv(...t.split("."))._internalPath}catch(YN){throw hb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function hb(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Ma(Ra.INVALID_ARGUMENT,a+e+l)}function db(e,t){return e.some(e=>e.isEqual(t))}class fb{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Mv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pb extends fb{data(){return super.data()}}function mb(e,t){return"string"==typeof t?ub(e,t):t instanceof Kv?t._internalPath:t._delegate._internalPath}function gb(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ma(Ra.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yb{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Vu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Su(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _a(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return lu(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Fu].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>xu(e.doubleValue));return new Yv(n)}convertGeoPoint(e){return new Xv(xu(e.latitude),xu(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Nu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const t=wu(e);return new pl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=tl.fromString(e);Pa(tp(n),9688,{name:e});const r=new Du(n.get(1),n.get(3)),i=new il(n.popFirst(5));return r.isEqual(t)||Ta("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function vb(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class bb{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wb extends fb{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new xb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(mb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ma(Ra.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=wb._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}wb._jsonSchemaVersion="firestore/documentSnapshot/1.0",wb._jsonSchema={type:ul("string",wb._jsonSchemaVersion),bundleSource:ul("string","DocumentSnapshot"),bundleName:ul("string"),bundle:ul("string")};class xb extends wb{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Sb{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new bb(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new xb(this._firestore,this._userDataWriter,n.key,n,new bb(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ma(Ra.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new xb(e._firestore,e._userDataWriter,n.doc.key,n.doc,new bb(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new xb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:kb(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ma(Ra.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sb._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ga.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _a(61501,{type:e})}}Sb._jsonSchemaVersion="firestore/querySnapshot/1.0",Sb._jsonSchema={type:ul("string",Sb._jsonSchemaVersion),bundleSource:ul("string","QuerySnapshot"),bundleName:ul("string"),bundle:ul("string")};class Eb extends yb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mv(this.firestore,null,t)}}function Cb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=rn(e);let i={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof n[s]||Uv(n[s])||(i=n[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Uv(n[s])){var a,l,c;const e=n[s];n[s]=null===(a=e.next)||void 0===a?void 0:a.bind(e),n[s+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[s+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,h,d;if(e instanceof Mv)h=cl(e.firestore,zv),d=Gh(e._key.path),u={next:t=>{n[s]&&n[s](Ib(h,e,t))},error:n[s+1],complete:n[s+2]};else{const t=cl(e,Rv);h=cl(t.firestore,zv),d=t._query;const r=new Eb(h);u={next:e=>{n[s]&&n[s](new Sb(h,r,t,e))},error:n[s+1],complete:n[s+2]},gb(e._query)}return function(e,t,n,r){const i=new gv(r),s=new Ly(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Ny(await Ev(e),s)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>_y(await Ev(e),s))}}(Bv(h),d,o,u)}function Tb(e,t){return function(e,t){const n=new La;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=hv(e);try{const e=await function(e,t){const n=Da(e),r=pl.now(),i=t.reduce((e,t)=>e.add(t.key),gd());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=ad(),l=gd();return n.Ns.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{s=i;const o=[];for(const e of t){const t=Bd(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Gd(e.key,t,ch(t.value.mapValue),Od.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:ud(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new uu(Ka)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await av(r,e.changes),await ay(r.remoteStore)}catch(e){const t=xy(e,"Failed to persist write");n.reject(t)}}(await kv(e),t,n)),n.promise}(Bv(e),t)}function Ib(e,t,n){const r=n.docs.get(t._key),i=new Eb(e);return new wb(e,i,t._key,r,new bb(n.hasPendingWrites,n.fromCache),t.converter)}function Nb(){return new rb("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Sa=e}(br),pr(new sn("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new zv(new Va(e.getProvider("auth-internal")),new Ha(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ma(Ra.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(e.options.projectId,t)}(s,r),s);return i=u({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Sr(ba,wa,e),Sr(ba,wa,"esm2020")}();Sr("firebase","12.3.0","app");const _b={apiKey:"AIzaSyALzy3qXMyXPtLl7pUuCDo_eE5X89u3dpA",authDomain:"babynames-app-9fa2a.firebaseapp.com",projectId:"babynames-app-9fa2a",storageBucket:"babynames-app-9fa2a.firebasestorage.app",messagingSenderId:"1093132372253",appId:"1:1093132372253:web:0327c13610942d60f4f9f4"},Ab=wr(_b),Pb=(ra(Ab),new Cs,function(e,t){const n="object"==typeof e?e:xr(),r="string"==typeof e?e:t||Pu,i=mr(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=Rt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Dv(i,...e)}return i}(Ab));(function(e,t){Ia("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return qv(e,mv.provider,{build:e=>new pv(e,n.cacheSizeBytes,null===t||void 0===t?void 0:t.forceOwnership)}),Promise.resolve()})(Pb).catch(e=>{"failed-precondition"===e.code?console.log("Persistence failed: Multiple tabs open"):"unimplemented"===e.code?console.log("Persistence not available in this browser"):console.error("Firebase persistence error:",e)}),console.log("Firebase initialized with project:",_b.projectId);const Db=new class{constructor(){this.userId=null,this.unsubscribe=null,this.deviceId=void 0,this.syncStatus={isSyncing:!1,lastSyncTime:null,error:null},this.syncListeners=[],this.deviceId=this.getOrCreateDeviceId()}getOrCreateDeviceId(){let e=localStorage.getItem("deviceId");return e||(e="device_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),localStorage.setItem("deviceId",e)),e}setUserId(e){console.log("[USERDATA DEBUG] setUserId called with:",e),this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null),this.userId=e,console.log("[USERDATA DEBUG] userId set to:",this.userId),e&&this.subscribeToUserData()}subscribeToUserData(){if(!this.userId)return;const e=Ov(Pb,"users",this.userId);this.unsubscribe=Cb(e,e=>{if(e.exists()){const t=e.data();t.preferences&&this.handleCloudDataUpdate(t.preferences)}},e=>{console.error("Error subscribing to user data:",e),this.updateSyncStatus({error:e.message})})}handleCloudDataUpdate(e){if(window.dispatchEvent){const t=new CustomEvent("cloudDataUpdate",{detail:e});window.dispatchEvent(t)}this.updateSyncStatus({lastSyncTime:new Date,error:null})}async saveToCloud(e,t){if(console.log("[USERDATA DEBUG] saveToCloud called, userId:",this.userId),!this.userId)throw console.error("[USERDATA DEBUG] saveToCloud failed - no userId set!"),new Error("No user logged in");this.updateSyncStatus({isSyncing:!0});try{const n=Ov(Pb,"users",this.userId);await function(e,t,n){e=cl(e,Mv);const r=cl(e.firestore,zv),i=vb(e.converter,t,n);return Tb(r,[nb(tb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Od.none())])}(n,{preferences:{favorites:e,dislikes:t,lastUpdated:Nb(),deviceId:this.deviceId},email:localStorage.getItem("userEmail")||"",lastLogin:Nb()},{merge:!0}),this.updateSyncStatus({isSyncing:!1,lastSyncTime:new Date,error:null})}catch(n){throw console.error("Error saving to cloud:",n),this.updateSyncStatus({isSyncing:!1,error:n.message}),n}}async loadFromCloud(){if(console.log("[USERDATA DEBUG] loadFromCloud called, userId:",this.userId),!this.userId)throw console.error("[USERDATA DEBUG] loadFromCloud failed - no userId set!"),new Error("No user logged in");this.updateSyncStatus({isSyncing:!0});try{const e=Ov(Pb,"users",this.userId),t=await function(e){e=cl(e,Mv);const t=cl(e.firestore,zv);return Cv(Bv(t),e._key).then(n=>Ib(t,e,n))}(e);if(t.exists()){const e=t.data().preferences;return this.updateSyncStatus({isSyncing:!1,lastSyncTime:new Date,error:null}),e||{favorites:[],dislikes:[],lastUpdated:null,deviceId:""}}return this.updateSyncStatus({isSyncing:!1}),null}catch(e){throw console.error("Error loading from cloud:",e),this.updateSyncStatus({isSyncing:!1,error:e.message}),e}}mergePreferences(e,t){const n=Array.from(new Set([...e.favorites,...t.favorites])),r=Array.from(new Set([...e.dislikes,...t.dislikes]));return{favorites:n.filter(e=>!r.includes(e)),dislikes:r}}updateSyncStatus(e){this.syncStatus=u(u({},this.syncStatus),e),this.notifySyncListeners()}notifySyncListeners(){this.syncListeners.forEach(e=>e(this.syncStatus))}onSyncStatusChange(e){return this.syncListeners.push(e),()=>{this.syncListeners=this.syncListeners.filter(t=>t!==e)}}getSyncStatus(){return this.syncStatus}disconnect(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null),this.userId=null}},Rb=Db;const Mb=new class{constructor(){this.STORAGE_KEY="babynames_preferences",this.data={favorites:[],dislikes:[]},this.isLoggedIn=!1,this.userId=null,this.loadFromStorage(),this.setupCloudSync()}setupCloudSync(){window.addEventListener("cloudDataUpdate",e=>{const t=e.detail;t&&this.handleCloudUpdate(t)});const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);this.isLoggedIn=!0,this.userId=t.id}}handleCloudUpdate(e){const t=Rb.mergePreferences({favorites:this.data.favorites,dislikes:this.data.dislikes},e);this.data=t,this.saveToStorage()}setUserContext(e){this.userId=e,this.isLoggedIn=!!e}loadFromStorage(){try{const e=localStorage.getItem(this.STORAGE_KEY);if(e){const t=JSON.parse(e);this.data={favorites:(t.favorites||[]).map(e=>e.trim()).filter(e=>e.length>0),dislikes:(t.dislikes||[]).map(e=>e.trim()).filter(e=>e.length>0)}}}catch(e){console.error("Error loading favorites from storage:",e),this.data={favorites:[],dislikes:[]}}}saveToStorage(){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.data)),this.syncToCloud()}catch(e){console.error("Error saving favorites to storage:",e)}}async syncToCloud(){if(this.isLoggedIn&&this.userId)try{await Rb.saveToCloud(this.data.favorites,this.data.dislikes)}catch(e){console.error("Error syncing to cloud:",e)}}addFavorite(e){const t=e.trim();t&&(this.isFavorite(t)||(this.removeDislikes(t),this.data.favorites.push(t),this.saveToStorage(),window.dispatchEvent(new CustomEvent("favoriteAdded",{detail:{name:t}}))))}removeFavorite(e){const t=e.trim(),n=this.data.favorites.findIndex(e=>e.trim()===t);n>-1&&(this.data.favorites.splice(n,1),this.saveToStorage())}isFavorite(e){const t=e.trim();return this.data.favorites.some(e=>e.trim()===t)}getFavorites(){return[...this.data.favorites]}addDislike(e){const t=e.trim();t&&(this.isDisliked(t)||(this.removeFavorite(t),this.data.dislikes.push(t),this.saveToStorage()))}removeDislikes(e){const t=e.trim(),n=this.data.dislikes.findIndex(e=>e.trim()===t);n>-1&&(this.data.dislikes.splice(n,1),this.saveToStorage())}isDisliked(e){const t=e.trim();return this.data.dislikes.some(e=>e.trim()===t)}getDislikes(){return[...this.data.dislikes]}async clearFavorites(){if(console.log("[FavoritesService] Clearing favorites..."),this.data.favorites=[],localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.data)),console.log("[FavoritesService] Favorites cleared from localStorage"),this.isLoggedIn&&this.userId)try{await Rb.saveToCloud(this.data.favorites,this.data.dislikes),console.log("[FavoritesService] Empty favorites synced to cloud")}catch(e){console.error("[FavoritesService] Failed to sync empty favorites to cloud:",e)}}async clearDislikes(){if(console.log("[FavoritesService] Clearing dislikes..."),this.data.dislikes=[],localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.data)),console.log("[FavoritesService] Dislikes cleared from localStorage"),this.isLoggedIn&&this.userId)try{await Rb.saveToCloud(this.data.favorites,this.data.dislikes),console.log("[FavoritesService] Empty dislikes synced to cloud")}catch(e){console.error("[FavoritesService] Failed to sync empty dislikes to cloud:",e)}}async clearAll(){if(console.log("[FavoritesService] Clearing all favorites and dislikes..."),this.data={favorites:[],dislikes:[]},localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.data)),console.log("[FavoritesService] All data cleared from localStorage"),this.isLoggedIn&&this.userId)try{await Rb.saveToCloud([],[]),console.log("[FavoritesService] Empty lists synced to cloud")}catch(e){console.error("[FavoritesService] Failed to sync empty lists to cloud:",e)}}filterOutDislikes(e){return 0===this.data.dislikes.length?e:e.filter(e=>!this.isDisliked(e.name))}filterOutFavorites(e){return 0===this.data.favorites.length?e:e.filter(e=>!this.isFavorite(e.name))}filterOutLikedAndDisliked(e){return 0===this.data.favorites.length&&0===this.data.dislikes.length?e:e.filter(e=>!this.isFavorite(e.name)&&!this.isDisliked(e.name))}filterFavorites(e){return 0===this.data.favorites.length?[]:e.filter(e=>this.isFavorite(e.name))}toggleFavorite(e){return this.isFavorite(e)?(this.removeFavorite(e),!1):(this.addFavorite(e),!0)}toggleDislike(e){return this.isDisliked(e)?(this.removeDislikes(e),!1):(this.addDislike(e),!0)}getFavoritesCount(){return this.data.favorites.length}getDislikesCount(){return this.data.dislikes.length}setFavorites(e){this.data.favorites=e,this.saveToStorage()}setDislikes(e){this.data.dislikes=e,this.saveToStorage()}getAllData(){return u({},this.data)}},Lb=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ob=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Fb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jb=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Vb=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:h}=e,d=s(e,jb);return(0,r.createElement)("svg",u(u(u({ref:t},Fb),{},{width:i,height:i,stroke:n,strokeWidth:a?24*Number(o)/Number(i):o,className:Ob("lucide",l)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...h.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(c)?c:[c]])}),Ub=["className"],zb=(e,t)=>{const n=(0,r.forwardRef)((n,i)=>{let{className:o}=n,a=s(n,Ub);return(0,r.createElement)(Vb,u({ref:i,iconNode:t,className:Ob("lucide-".concat((l=Lb(e),l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),o)},a));var l});return n.displayName=Lb(e),n},Bb=zb("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Hb=zb("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),qb=zb("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Gb=zb("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Kb=zb("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Wb=n(414);const Xb=e=>{let{message:t,type:n="info",duration:i=4e3,onClose:s,actionLabel:o,onAction:a}=e;const[l,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(i>0){const e=setTimeout(()=>{c(!1),setTimeout(s,300)},i);return()=>clearTimeout(e)}},[i,s]);return(0,Wb.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg transition-all duration-300 ".concat((()=>{switch(n){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";default:return"bg-blue-50 border-blue-200"}})()," ").concat(l?"opacity-100 translate-y-0":"opacity-0 translate-y-2"),style:{maxWidth:"400px"},children:[(()=>{switch(n){case"success":return(0,Wb.jsx)(Bb,{className:"w-5 h-5 text-green-500"});case"error":return(0,Wb.jsx)(Hb,{className:"w-5 h-5 text-red-500"});case"warning":return(0,Wb.jsx)(qb,{className:"w-5 h-5 text-yellow-500"});default:return(0,Wb.jsx)(Gb,{className:"w-5 h-5 text-blue-500"})}})(),(0,Wb.jsx)("span",{className:"flex-1 text-sm font-medium text-gray-800",children:t}),o&&a&&(0,Wb.jsx)("button",{onClick:a,className:"text-sm font-semibold text-blue-600 hover:text-blue-700 transition-colors",children:o}),(0,Wb.jsx)("button",{onClick:()=>{c(!1),setTimeout(s,300)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Wb.jsx)(Kb,{className:"w-4 h-4"})})]})},Yb=(0,r.createContext)(void 0),Qb=e=>{let{children:t}=e;const[n,i]=(0,r.useState)([]),s=(0,r.useCallback)(e=>{i(t=>t.filter(t=>t.id!==e))},[]),o=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;const o="toast-".concat(Date.now(),"-").concat(Math.random());i(i=>[...i,{id:o,message:e,type:t,duration:n,actionLabel:r,onAction:s}])},[]),a=(0,r.useCallback)(function(e){o(e,"success",arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3)},[o]),l=(0,r.useCallback)(function(e){o(e,"error",arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e3,arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)},[o]),c=(0,r.useCallback)(function(e){o(e,"info",arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3)},[o]),u=(0,r.useCallback)(function(e){o(e,"warning",arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3)},[o]);return(0,Wb.jsxs)(Yb.Provider,{value:{showToast:o,success:a,error:l,info:c,warning:u},children:[t,(0,Wb.jsx)("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-3",children:n.map(e=>(0,Wb.jsx)(Xb,{message:e.message,type:e.type,duration:e.duration,onClose:()=>s(e.id),actionLabel:e.actionLabel,onAction:e.onAction},e.id))})]})},$b=(0,r.createContext)(void 0),Jb="1093132372253-a725n8gpe624usli0hnj3re1eicgi4o2.apps.googleusercontent.com",Zb=()=>{const e=(0,r.useContext)($b);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},ew=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(null),[o,a]=(0,r.useState)(!0),[l,c]=(0,r.useState)(!1),[h,d]=(0,r.useState)(null),f=(()=>{const e=(0,r.useContext)(Yb);if(!e)throw new Error("useToast must be used within a ToastProvider");return e})(),p=(0,r.useCallback)(e=>(console.log("[AUTH DEBUG] Validating user data:",JSON.stringify(e,null,2)),e&&"object"===typeof e?e.id&&"string"===typeof e.id&&""!==e.id.trim()?e.email&&"string"===typeof e.email&&""!==e.email.trim()?e.name&&"string"===typeof e.name&&""!==e.name.trim()?(console.log("[AUTH DEBUG] Validation PASSED - ID format:",e.id.length,"chars"),!0):(console.log("[AUTH DEBUG] Invalid: name missing or empty:",e.name),!1):(console.log("[AUTH DEBUG] Invalid: email missing or empty:",e.email),!1):(console.log("[AUTH DEBUG] Invalid: id missing or empty:",e.id),!1):(console.log("[AUTH DEBUG] Invalid: not an object"),!1)),[]),m=(0,r.useCallback)(()=>{console.log("[AUTH DEBUG] Clearing cache..."),i(null),Rb.disconnect(),Mb.setUserContext(null),localStorage.removeItem("user"),localStorage.removeItem("userEmail"),localStorage.removeItem("google_access_token"),d(null),setTimeout(()=>{console.log("[AUTH DEBUG] Reloading page..."),window.location.reload()},500)},[]);(0,r.useEffect)(()=>{console.log("[AUTH DEBUG] AuthContext useEffect running...");const e=localStorage.getItem("user");if(console.log("[AUTH DEBUG] localStorage user:",e),e)try{const t=JSON.parse(e);if(!p(t))return console.warn("[AUTH DEBUG] Invalid user data in localStorage, clearing..."),localStorage.removeItem("user"),localStorage.removeItem("userEmail"),localStorage.removeItem("google_access_token"),f.error("Session expired or invalid. Please sign in again.",8e3,"Clear & Reload",m),void a(!1);console.log("[AUTH DEBUG] Setting user:",t.email),i(t),console.log("[AUTH DEBUG] Setting userDataService userId:",t.id),Rb.setUserId(t.id),console.log("[AUTH DEBUG] Setting favoritesService context:",t.id),Mb.setUserContext(t.id),console.log("[AUTH DEBUG] userDataService.userId after set:",Rb.userId),console.log("[AUTH DEBUG] Calling loadUserData..."),g(t.id).catch(e=>{console.error("[AUTH DEBUG] Failed to load user data on init:",e),f.error("Failed to sync favorites. Click the cloud icon to retry.",6e3)})}catch(t){console.error("[AUTH DEBUG] Error parsing stored user data:",t),localStorage.removeItem("user"),localStorage.removeItem("userEmail"),localStorage.removeItem("google_access_token"),f.error("Session data corrupted. Clearing...",8e3,"Reload Now",m)}else console.log("[AUTH DEBUG] No stored user found");a(!1)},[p,m]),(0,r.useEffect)(()=>Rb.onSyncStatusChange(e=>{c(e.isSyncing),d(e.error)}),[]);const g=async e=>{console.log("AuthContext: Loading user data for userId:",e);try{c(!0),d(null);const e=await Rb.loadFromCloud();if(e){const t=Mb.getFavorites(),n=Mb.getDislikes(),r=Rb.mergePreferences({favorites:t,dislikes:n},e);Mb.setFavorites(r.favorites),Mb.setDislikes(r.dislikes),await Rb.saveToCloud(r.favorites,r.dislikes),f.success("Favorites synced successfully!")}else f.info("No previous favorites found in cloud")}catch(t){console.error("Error loading user data:",t);const n=t.message;d(n),n.includes("No user logged in")?f.error("Session expired. Please sign in again.",8e3,"Clear Cache",m):n.includes("permission-denied")||n.includes("auth/")?f.error("Authentication error. Try clearing cache and signing in again.",8e3,"Clear Cache",m):f.error("Failed to sync favorites: ".concat(n),6e3,"Retry",()=>g(e))}finally{c(!1)}},y=function(e){let{flow:t="implicit",scope:n="",onSuccess:i,onError:o,onNonOAuthError:a,overrideScope:l,state:c}=e,h=s(e,St);const{clientId:d,scriptLoadedSuccessfully:f}=Ct(),p=(0,r.useRef)(),m=(0,r.useRef)(i);m.current=i;const g=(0,r.useRef)(o);g.current=o;const y=(0,r.useRef)(a);y.current=a,(0,r.useEffect)(()=>{var e,r;if(!f)return;const i="implicit"===t?"initTokenClient":"initCodeClient",s=null===(r=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===r?void 0:r.oauth2[i](u({client_id:d,scope:l?n:"openid profile email ".concat(n),callback:e=>{var t,n;if(e.error)return null===(t=g.current)||void 0===t?void 0:t.call(g,e);null===(n=m.current)||void 0===n||n.call(m,e)},error_callback:e=>{var t;null===(t=y.current)||void 0===t||t.call(y,e)},state:c},h));p.current=s},[d,f,t,n,c]);const v=(0,r.useCallback)(e=>{var t;return null===(t=p.current)||void 0===t?void 0:t.requestAccessToken(e)},[]),b=(0,r.useCallback)(()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.requestCode()},[]);return"implicit"===t?v:b}({onSuccess:async e=>{try{console.log("[AUTH DEBUG] Google OAuth successful, access_token received");const t=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:"Bearer ".concat(e.access_token)}}),n=await t.json();console.log("[AUTH DEBUG] Google user info:",n.email),console.log("[AUTH DEBUG] Signing into Firebase Auth...");const r=Cs.credential(null,e.access_token),s=ra(),o=await Ls(s,r);console.log("[AUTH DEBUG] Firebase Auth successful, UID:",o.user.uid);const a={id:o.user.uid,email:n.email,name:n.name,picture:n.picture};console.log("[AUTH DEBUG] Setting user with Firebase UID:",a.id),i(a),localStorage.setItem("user",JSON.stringify(a)),localStorage.setItem("userEmail",a.email),localStorage.setItem("google_access_token",e.access_token),console.log("[AUTH DEBUG] Setting userDataService userId:",a.id),Rb.setUserId(a.id),Mb.setUserContext(a.id),console.log("[AUTH DEBUG] Loading user data from Firestore..."),await g(a.id),f.success("Welcome back, ".concat(a.name.split(" ")[0],"!"))}catch(t){console.error("[AUTH DEBUG] Login failed:",t),f.error("Login failed: ".concat(t.message||"Please try again"))}},onError:e=>{console.error("[AUTH DEBUG] Google OAuth failed:",e),f.error("Login failed. Please try again.")},flow:"implicit"});return(0,Wb.jsx)($b.Provider,{value:{user:n,isAuthenticated:!!n,login:y,logout:async()=>{try{if(n){const e=Mb.getFavorites(),t=Mb.getDislikes();await Rb.saveToCloud(e,t),console.log("[AUTH DEBUG] Favorites saved before logout")}const e=ra();await e.signOut(),console.log("[AUTH DEBUG] Signed out of Firebase Auth"),i(null),Rb.disconnect(),Mb.setUserContext(null),localStorage.removeItem("user"),localStorage.removeItem("userEmail"),localStorage.removeItem("google_access_token"),f.success("Favorites saved. See you next time!")}catch(e){console.error("[AUTH DEBUG] Error during logout:",e),f.warning("Logged out, but some favorites may not have synced."),i(null),Rb.disconnect(),Mb.setUserContext(null),localStorage.removeItem("user"),localStorage.removeItem("userEmail"),localStorage.removeItem("google_access_token")}},loading:o,isSyncing:l,syncError:h,manualSync:async()=>{n?(f.info("Syncing favorites..."),await g(n.id)):f.warning("Please log in to sync your favorites")},clearCache:m},children:t})},tw=e=>{let{children:t}=e;return Jb&&"YOUR_GOOGLE_CLIENT_ID_HERE"!==Jb&&Jb.includes(".apps.googleusercontent.com")?(0,Wb.jsx)(Et,{clientId:Jb,children:(0,Wb.jsx)(ew,{children:t})}):(console.log("Google OAuth not configured. Running in guest mode."),(0,Wb.jsx)($b.Provider,{value:{user:null,isAuthenticated:!1,login:()=>console.log("Google Client ID not configured"),logout:()=>{},loading:!1,isSyncing:!1,syncError:null,manualSync:async()=>{},clearCache:()=>{}},children:t}))},nw=zb("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]),rw=zb("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),iw=zb("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),sw=zb("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),ow=zb("arrow-down-a-z",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]]),aw=zb("dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]),lw=zb("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),cw=zb("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),uw=zb("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),hw=zb("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),dw=zb("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),fw=zb("baby",[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]]),pw=(0,r.createContext)({});function mw(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}const gw="undefined"!==typeof window,yw=gw?r.useLayoutEffect:r.useEffect,vw=(0,r.createContext)(null);function bw(e){return"object"===typeof e&&null!==e}function ww(e){return bw(e)&&"offsetHeight"in e}const xw=(0,r.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Sw(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function kw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=Sw(t,e);return n||"function"!==typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"===typeof n?n():Sw(t[e],null)}}}}(...t),t)}class Ew extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=ww(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Cw(e){let{children:t,isPresent:n,anchorX:i,root:s}=e;const o=(0,r.useId)(),a=(0,r.useRef)(null),l=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,r.useContext)(xw),u=kw(a,null===t||void 0===t?void 0:t.ref);return(0,r.useInsertionEffect)(()=>{const{width:e,height:t,top:r,left:u,right:h}=l.current;if(n||!a.current||!e||!t)return;const d="left"===i?"left: ".concat(u):"right: ".concat(h);a.current.dataset.motionPopId=o;const f=document.createElement("style");c&&(f.nonce=c);const p=null!==s&&void 0!==s?s:document.head;return p.appendChild(f),f.sheet&&f.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(d,"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{p.contains(f)&&p.removeChild(f)}},[n]),(0,Wb.jsx)(Ew,{isPresent:n,childRef:a,sizeRef:l,children:r.cloneElement(t,{ref:u})})}const Tw=e=>{let{children:t,initial:n,isPresent:i,onExitComplete:s,custom:o,presenceAffectsLayout:a,mode:l,anchorX:c,root:h}=e;const d=mw(Iw),f=(0,r.useId)();let p=!0,m=(0,r.useMemo)(()=>(p=!1,{id:f,initial:n,isPresent:i,custom:o,onExitComplete:e=>{d.set(e,!0);for(const t of d.values())if(!t)return;s&&s()},register:e=>(d.set(e,!1),()=>d.delete(e))}),[i,d,s]);return a&&p&&(m=u({},m)),(0,r.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[i]),r.useEffect(()=>{!i&&!d.size&&s&&s()},[i]),"popLayout"===l&&(t=(0,Wb.jsx)(Cw,{isPresent:i,anchorX:c,root:h,children:t})),(0,Wb.jsx)(vw.Provider,{value:m,children:t})};function Iw(){return new Map}function Nw(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,r.useContext)(vw);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,o=(0,r.useId)();(0,r.useEffect)(()=>{if(e)return s(o)},[e]);const a=(0,r.useCallback)(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,a]:[!0]}const _w=e=>e.key||"";function Aw(e){const t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}const Pw=e=>{let{children:t,custom:n,initial:i=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",root:u}=e;const[h,d]=Nw(l),f=(0,r.useMemo)(()=>Aw(t),[t]),p=l&&!h?[]:f.map(_w),m=(0,r.useRef)(!0),g=(0,r.useRef)(f),y=mw(()=>new Map),[v,b]=(0,r.useState)(f),[w,x]=(0,r.useState)(f);yw(()=>{m.current=!1,g.current=f;for(let e=0;e<w.length;e++){const t=_w(w[e]);p.includes(t)?y.delete(t):!0!==y.get(t)&&y.set(t,!1)}},[w,p.length,p.join("-")]);const S=[];if(f!==v){let e=[...f];for(let t=0;t<w.length;t++){const n=w[t],r=_w(n);p.includes(r)||(e.splice(t,0,n),S.push(n))}return"wait"===a&&S.length&&(e=S),x(Aw(e)),b(f),null}const{forceRender:k}=(0,r.useContext)(pw);return(0,Wb.jsx)(Wb.Fragment,{children:w.map(e=>{const t=_w(e),r=!(l&&!h)&&(f===w||p.includes(t));return(0,Wb.jsx)(Tw,{isPresent:r,initial:!(m.current&&!i)&&void 0,custom:n,presenceAffectsLayout:o,mode:a,root:u,onExitComplete:r?void 0:()=>{if(!y.has(t))return;y.set(t,!0);let e=!0;y.forEach(t=>{t||(e=!1)}),e&&(null===k||void 0===k||k(),x(g.current),l&&(null===d||void 0===d||d()),s&&s())},anchorX:c,children:e},t)})})},Dw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rw=(()=>new Set(Dw))(),Mw=e=>180*e/Math.PI,Lw=e=>{const t=Mw(Math.atan2(e[1],e[0]));return Fw(t)},Ow={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Lw,rotateZ:Lw,skewX:e=>Mw(Math.atan(e[1])),skewY:e=>Mw(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Fw=e=>((e%=360)<0&&(e+=360),e),jw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Vw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Uw={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jw,scaleY:Vw,scale:e=>(jw(e)+Vw(e))/2,rotateX:e=>Fw(Mw(Math.atan2(e[6],e[5]))),rotateY:e=>Fw(Mw(Math.atan2(-e[2],e[0]))),rotateZ:Lw,rotate:Lw,skewX:e=>Mw(Math.atan(e[4])),skewY:e=>Mw(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function zw(e){return e.includes("scale")?1:0}function Bw(e,t){if(!e||"none"===e)return zw(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,i;if(n)r=Uw,i=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=Ow,i=t}if(!i)return zw(t);const s=r[t],o=i[1].split(",").map(Hw);return"function"===typeof s?s(o):o[s]}function Hw(e){return parseFloat(e.trim())}const qw=e=>t=>"string"===typeof t&&t.startsWith(e),Gw=qw("--"),Kw=qw("var(--"),Ww=e=>!!Kw(e)&&Xw.test(e.split("/*")[0].trim()),Xw=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function Yw(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}const Qw=(e,t,n)=>e+(t-e)*n;function $w(e){return void 0===e||1===e}function Jw(e){let{scale:t,scaleX:n,scaleY:r}=e;return!$w(t)||!$w(n)||!$w(r)}function Zw(e){return Jw(e)||ex(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ex(e){return tx(e.x)||tx(e.y)}function tx(e){return e&&"0%"!==e}function nx(e,t,n){return n+t*(e-n)}function rx(e,t,n,r,i){return void 0!==i&&(e=nx(e,i,r)),nx(e,n,r)+t}function ix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=rx(e.min,t,n,r,i),e.max=rx(e.max,t,n,r,i)}function sx(e,t){let{x:n,y:r}=t;ix(e.x,n.translate,n.scale,n.originPoint),ix(e.y,r.translate,r.scale,r.originPoint)}const ox=.999999999999,ax=1.0000000000001;function lx(e,t){e.min=e.min+t,e.max=e.max+t}function cx(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;ix(e,t,n,Qw(e.min,e.max,i),r)}function ux(e,t){cx(e.x,t.x,t.scaleX,t.scale,t.originX),cx(e.y,t.y,t.scaleY,t.scale,t.originY)}function hx(e,t){return Yw(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const dx=new Set(["width","height","top","left","right","bottom",...Dw]),fx=(e,t,n)=>n>t?t:n<e?e:n,px={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},mx=u(u({},px),{},{transform:e=>fx(0,1,e)}),gx=u(u({},px),{},{default:1}),yx=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),vx=yx("deg"),bx=yx("%"),wx=yx("px"),xx=yx("vh"),Sx=yx("vw"),kx=(()=>u(u({},bx),{},{parse:e=>bx.parse(e)/100,transform:e=>bx.transform(100*e)}))(),Ex=e=>t=>t.test(e),Cx=[px,wx,bx,vx,Sx,xx,{test:e=>"auto"===e,parse:e=>e}],Tx=e=>Cx.find(Ex(e));const Ix=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),Nx=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function _x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,i]=function(e){const t=Nx.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return Ix(e)?parseFloat(e):e}return Ww(i)?_x(i,t,n+1):i}const Ax=e=>e===px||e===wx,Px=new Set(["x","y","z"]),Dx=Dw.filter(e=>!Px.has(e));const Rx={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Bw(n,"x")},y:(e,t)=>{let{transform:n}=t;return Bw(n,"y")}};Rx.translateX=Rx.x,Rx.translateY=Rx.y;const Mx=e=>e,Lx={},Ox=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Fx={value:null,addProjectionMetrics:null};function jx(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ox.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){o.has(t)&&(u.schedule(t),e()),l++,t(a)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{a=e,i?s=!0:(i=!0,[n,r]=[r,n],n.forEach(c),t&&Fx.value&&Fx.value.frameloop[t].push(l),l=0,n.clear(),i=!1,s&&(s=!1,u.process(e)))}};return u}(s,t?n:void 0),e),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:d,render:f,postRender:p}=o,m=()=>{const s=Lx.useManualTiming?i.timestamp:performance.now();n=!1,Lx.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1)),i.timestamp=s,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),h.process(i),d.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},g=Ox.reduce((t,s)=>{const a=o[s];return t[s]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(m)),a.schedule(t,s,o)},t},{});return{schedule:g,cancel:e=>{for(let t=0;t<Ox.length;t++)o[Ox[t]].cancel(e)},state:i,steps:o}}const{schedule:Vx,cancel:Ux,state:zx,steps:Bx}=jx("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Mx,!0),Hx=new Set;let qx=!1,Gx=!1,Kx=!1;function Wx(){if(Gx){const e=Array.from(Hx).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return Dx.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[r,i]=t;null===(n=e.getValue(r))||void 0===n||n.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}Gx=!1,qx=!1,Hx.forEach(e=>e.complete(Kx)),Hx.clear()}function Xx(){Hx.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Gx=!0)})}class Yx{constructor(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Hx.add(this),qx||(qx=!0,Vx.read(Xx),Vx.resolveKeyframes(Wx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const i=null===r||void 0===r?void 0:r.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,s);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===i&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Hx.delete(this)}cancel(){"scheduled"===this.state&&(Hx.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Qx=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function $x(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||Qx(e))}const Jx=e=>Math.round(1e5*e)/1e5,Zx=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const eS=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,tS=(e,t)=>n=>Boolean("string"===typeof n&&eS.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),nS=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,s,o,a]=r.match(Zx);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},rS=u(u({},px),{},{transform:e=>Math.round((e=>fx(0,255,e))(e))}),iS={test:tS("rgb","red"),parse:nS("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+rS.transform(t)+", "+rS.transform(n)+", "+rS.transform(r)+", "+Jx(mx.transform(i))+")"}};const sS={test:tS("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:iS.transform},oS={test:tS("hsl","hue"),parse:nS("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+bx.transform(Jx(n))+", "+bx.transform(Jx(r))+", "+Jx(mx.transform(i))+")"}},aS={test:e=>iS.test(e)||sS.test(e)||oS.test(e),parse:e=>iS.test(e)?iS.parse(e):oS.test(e)?oS.parse(e):sS.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?iS.transform(e):oS.transform(e),getAnimatableNone:e=>{const t=aS.parse(e);return t.alpha=0,aS.transform(t)}},lS=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const cS="number",uS="color",hS=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function dS(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=t.replace(hS,e=>(aS.test(e)?(r.color.push(s),i.push(uS),n.push(aS.parse(e))):e.startsWith("var(")?(r.var.push(s),i.push("var"),n.push(e)):(r.number.push(s),i.push(cS),n.push(parseFloat(e))),++s,"${}")).split("${}");return{values:n,split:o,indexes:r,types:i}}function fS(e){return dS(e).values}function pS(e){const{split:t,types:n}=dS(e),r=t.length;return e=>{let i="";for(let s=0;s<r;s++)if(i+=t[s],void 0!==e[s]){const t=n[s];i+=t===cS?Jx(e[s]):t===uS?aS.transform(e[s]):e[s]}return i}}const mS=e=>"number"===typeof e?0:aS.test(e)?aS.getAnimatableNone(e):e;const gS={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Zx))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(lS))||void 0===n?void 0:n.length)||0)>0},parse:fS,createTransformer:pS,getAnimatableNone:function(e){const t=fS(e);return pS(e)(t.map(mS))}},yS=new Set(["brightness","contrast","saturate","opacity"]);function vS(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Zx)||[];if(!r)return e;const i=n.replace(r,"");let s=yS.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const bS=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,wS=u(u({},gS),{},{getAnimatableNone:e=>{const t=e.match(bS);return t?t.map(vS).join(" "):e}}),xS=u(u({},px),{},{transform:Math.round}),SS=u(u({borderWidth:wx,borderTopWidth:wx,borderRightWidth:wx,borderBottomWidth:wx,borderLeftWidth:wx,borderRadius:wx,radius:wx,borderTopLeftRadius:wx,borderTopRightRadius:wx,borderBottomRightRadius:wx,borderBottomLeftRadius:wx,width:wx,maxWidth:wx,height:wx,maxHeight:wx,top:wx,right:wx,bottom:wx,left:wx,padding:wx,paddingTop:wx,paddingRight:wx,paddingBottom:wx,paddingLeft:wx,margin:wx,marginTop:wx,marginRight:wx,marginBottom:wx,marginLeft:wx,backgroundPositionX:wx,backgroundPositionY:wx},{rotate:vx,rotateX:vx,rotateY:vx,rotateZ:vx,scale:gx,scaleX:gx,scaleY:gx,scaleZ:gx,skew:vx,skewX:vx,skewY:vx,distance:wx,translateX:wx,translateY:wx,translateZ:wx,x:wx,y:wx,z:wx,perspective:wx,transformPerspective:wx,opacity:mx,originX:kx,originY:kx,originZ:wx}),{},{zIndex:xS,fillOpacity:mx,strokeOpacity:mx,numOctaves:xS}),kS=u(u({},SS),{},{color:aS,backgroundColor:aS,outlineColor:aS,fill:aS,stroke:aS,borderColor:aS,borderTopColor:aS,borderRightColor:aS,borderBottomColor:aS,borderLeftColor:aS,filter:wS,WebkitFilter:wS}),ES=e=>kS[e];function CS(e,t){let n=ES(e);return n!==wS&&(n=gS),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const TS=new Set(["auto","none","0"]);class IS extends Yx{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),Ww(n))){const r=_x(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!dx.has(n)||2!==e.length)return;const[r,i]=e,s=Tx(r),o=Tx(i);if(s!==o)if(Ax(s)&&Ax(o))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else Rx[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||$x(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!TS.has(t)&&dS(t).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=CS(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Rx[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Rx[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const NS=e=>Boolean(e&&e.getVelocity);let _S;function AS(){_S=void 0}const PS={now:()=>(void 0===_S&&PS.set(zx.isProcessing||Lx.useManualTiming?zx.timestamp:performance.now()),_S),set:e=>{_S=e,queueMicrotask(AS)}};function DS(e,t){-1===e.indexOf(t)&&e.push(t)}function RS(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class MS{constructor(){this.subscriptions=[]}add(e){return DS(this.subscriptions,e),()=>RS(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function LS(e,t){return t?e*(1e3/t):0}const OS={current:void 0};class FS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=PS.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=PS.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new MS);const n=this.events[e].add(t);return"change"===e?()=>{n(),Vx.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return OS.current&&OS.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=PS.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return LS(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jS(e,t){return new FS(e,t)}const VS=[...Cx,aS,gS],{schedule:US,cancel:zS}=jx(queueMicrotask,!1),BS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},HS={};for(const nP in BS)HS[nP]={isEnabled:e=>BS[nP].some(t=>!!e[t])};const qS=()=>({x:{min:0,max:0},y:{min:0,max:0}}),GS={current:null},KS={current:!1};const WS=new WeakMap;function XS(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function YS(e){return"string"===typeof e||Array.isArray(e)}const QS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$S=["initial",...QS];function JS(e){return XS(e.animate)||$S.some(t=>YS(e[t]))}function ZS(e){return Boolean(JS(e)||e.variants)}function ek(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function tk(e,t,n,r){if("function"===typeof t){const[i,s]=ek(r);t=t(void 0!==n?n:e.custom,i,s)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,s]=ek(r);t=t(void 0!==n?n:e.custom,i,s)}return t}const nk=["willChange"],rk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ik{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=PS.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Vx.render(this.render,!1,!0))};const{latestValues:c,renderState:h}=a;this.latestValues=c,this.baseTarget=u({},c),this.initialValues=n.initial?u({},c):{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=JS(n),this.isVariantNode=ZS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(n,{},this),{willChange:f}=d,p=s(d,nk);for(const s in p){const e=p[s];void 0!==c[s]&&NS(e)&&e.set(c[s])}}mount(e){var t;this.current=e,WS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),KS.current||function(){if(KS.current=!0,gw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>GS.current=e.matches;e.addEventListener("change",t),t()}else GS.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||GS.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ux(this.notifyUpdate),Ux(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Rw.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Vx.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in HS){const t=HS[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<rk.length;n++){const t=rk[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],s=n[r];if(NS(i))e.addValue(r,i);else if(NS(s))e.addValue(r,jS(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,jS(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=jS(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var i;return void 0!==r&&null!==r&&("string"===typeof r&&(Ix(r)||Qx(r))?r=parseFloat(r):(i=r,!VS.find(Ex(i))&&gS.test(t)&&(r=CS(e,t))),this.setBaseTarget(e,NS(r)?r.get():r)),NS(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const i=tk(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);i&&(n=i[e])}if(t&&void 0!==n)return n;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||NS(i)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new MS),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){US.render(this.render)}}class sk extends ik{constructor(){super(...arguments),this.KeyframeResolver=IS}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;NS(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}const ok=(e,t)=>t&&"number"===typeof e?t.transform(e):e,ak={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lk=Dw.length;function ck(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const e=t[l];if(Rw.has(l))o=!0;else if(Gw(l))i[l]=e;else{const t=ok(e,SS[l]);l.startsWith("origin")?(a=!0,s[l]=t):r[l]=t}}if(t.transform||(o||n?r.transform=function(e,t,n){let r="",i=!0;for(let s=0;s<lk;s++){const o=Dw[s],a=e[o];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=ok(a,SS[o]);l||(i=!1,r+="".concat(ak[o]||o,"(").concat(e,") ")),n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function uk(e,t,n,r){let{style:i,vars:s}=t;const o=e.style;let a;for(a in i)o[a]=i[a];for(a in null===r||void 0===r||r.applyProjectionStyles(o,n),s)o.setProperty(a,s[a])}const hk={};function dk(e,t){let{layout:n,layoutId:r}=t;return Rw.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!hk[e]||"opacity"===e)}function fk(e,t,n){const{style:r}=e,i={};for(const o in r){var s;(NS(r[o])||t.style&&NS(t.style[o])||dk(o,e)||void 0!==(null===n||void 0===n||null===(s=n.getValue(o))||void 0===s?void 0:s.liveStyle))&&(i[o]=r[o])}return i}class pk extends sk{constructor(){super(...arguments),this.type="html",this.renderInstance=uk}readValueFromInstance(e,t){var n,r;if(Rw.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?zw(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Bw(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),i=(Gw(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof i?i.trim():i}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return hx(e,n)}build(e,t,n){ck(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return fk(e,t,n)}}const mk=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),gk={offset:"stroke-dashoffset",array:"stroke-dasharray"},yk={offset:"strokeDashoffset",array:"strokeDasharray"};const vk=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function bk(e,t,n,r,i){let{attrX:o,attrY:a,attrScale:l,pathLength:c,pathSpacing:u=1,pathOffset:h=0}=t;if(ck(e,s(t,vk),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:d,style:f}=e;var p,m;(d.transform&&(f.transform=d.transform,delete d.transform),f.transform||d.transformOrigin)&&(f.transformOrigin=null!==(p=d.transformOrigin)&&void 0!==p?p:"50% 50%",delete d.transformOrigin);f.transform&&(f.transformBox=null!==(m=null===i||void 0===i?void 0:i.transformBox)&&void 0!==m?m:"fill-box",delete d.transformBox);void 0!==o&&(d.x=o),void 0!==a&&(d.y=a),void 0!==l&&(d.scale=l),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?gk:yk;e[s.offset]=wx.transform(-r);const o=wx.transform(t),a=wx.transform(n);e[s.array]="".concat(o," ").concat(a)}(d,c,u,h,!1)}const wk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),xk=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Sk(e,t,n){const r=fk(e,t,n);for(const i in e)if(NS(e[i])||NS(t[i])){r[-1!==Dw.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}class kk extends sk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qS}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Rw.has(t)){const e=ES(t);return e&&e.default||0}return t=wk.has(t)?t:mk(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Sk(e,t,n)}build(e,t,n){bk(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){uk(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(wk.has(i)?i:mk(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=xk(e.tagName),super.mount(e)}}const Ek=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ck(e){return"string"===typeof e&&!e.includes("-")&&!!(Ek.indexOf(e)>-1||/[A-Z]/.test(e))}const Tk=(e,t)=>Ck(e)?new kk(t):new pk(t,{allowProjection:e!==r.Fragment}),Ik=(0,r.createContext)({strict:!1}),Nk=(0,r.createContext)({});function _k(e){const{initial:t,animate:n}=function(e,t){if(JS(e)){const{initial:t,animate:n}=e;return{initial:!1===t||YS(t)?t:void 0,animate:YS(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(Nk));return(0,r.useMemo)(()=>({initial:t,animate:n}),[Ak(t),Ak(n)])}function Ak(e){return Array.isArray(e)?e.join(" "):e}const Pk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Dk(e,t,n){for(const r in t)NS(t[r])||dk(r,n)||(e[r]=t[r])}function Rk(e,t){const n={};return Dk(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,r.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return ck(e,t,n),Object.assign({},e.vars,e.style)},[t])}(e,t)),n}function Mk(e,t){const n={},r=Rk(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Lk=()=>u(u({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function Ok(e,t,n,i){const s=(0,r.useMemo)(()=>{const n=Lk();return bk(n,t,xk(i),e.transformTemplate,e.style),u(u({},n.attrs),{},{style:u({},n.style)})},[t]);if(e.style){const t={};Dk(t,e.style,e),s.style=u(u({},t),s.style)}return s}const Fk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jk(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Fk.has(e)}let Vk=e=>!jk(e);try{"function"===typeof(Uk=require("@emotion/is-prop-valid").default)&&(Vk=e=>e.startsWith("on")?!jk(e):Uk(e))}catch(tP){}var Uk;function zk(e,t,n,i,s){let{latestValues:o}=i,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=(Ck(e)?Ok:Mk)(t,o,s,e),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(Vk(i)||!0===n&&jk(i)||!t&&!jk(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(t,"string"===typeof e,a),h=e!==r.Fragment?u(u(u({},c),l),{},{ref:n}):{},{children:d}=t,f=(0,r.useMemo)(()=>NS(d)?d.get():d,[d]);return(0,r.createElement)(e,u(u({},h),{},{children:f}))}function Bk(e){return NS(e)?e.get():e}const Hk=["transitionEnd","transition"];function qk(e,t,n,r){const i={},o=r(e,{});for(const s in o)i[s]=Bk(o[s]);let{initial:a,animate:l}=e;const c=JS(e),u=ZS(e);t&&u&&!c&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===l&&(l=t.animate));let h=!!n&&!1===n.initial;h=h||!1===a;const d=h?l:a;if(d&&"boolean"!==typeof d&&!XS(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=tk(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=s(r,Hk);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[h?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const Gk=e=>(t,n)=>{const i=(0,r.useContext)(Nk),s=(0,r.useContext)(vw),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s}=e;return{latestValues:qk(t,n,r,i),renderState:s()}}(e,t,i,s);return n?o():mw(o)},Kk=Gk({scrapeMotionValuesFromProps:fk,createRenderState:Pk}),Wk=Gk({scrapeMotionValuesFromProps:Sk,createRenderState:Lk});const Xk=Symbol.for("motionComponentSymbol");function Yk(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Qk(e,t,n){return(0,r.useCallback)(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Yk(n)&&(n.current=r))},[t])}const $k="data-"+mk("framerAppearId"),Jk=(0,r.createContext)({});function Zk(e,t,n,i,s){var o,a,l,c;const{visualElement:u}=(0,r.useContext)(Nk),h=(0,r.useContext)(Ik),d=(0,r.useContext)(vw),f=(0,r.useContext)(xw).reducedMotion,p=(0,r.useRef)(null);i=i||h.renderer,!p.current&&i&&(p.current=i(e,{visualState:t,parent:u,props:n,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:f}));const m=p.current,g=(0,r.useContext)(Jk);!m||m.projection||!s||"html"!==m.type&&"svg"!==m.type||function(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:eE(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:Boolean(o)||a&&Yk(a),visualElement:e,animationType:"string"===typeof s?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(p.current,n,s,g);const y=(0,r.useRef)(!1);(0,r.useInsertionEffect)(()=>{m&&y.current&&m.update(n,d)});const v=n[$k],b=(0,r.useRef)(Boolean(v)&&!(null!==(o=(a=window).MotionHandoffIsComplete)&&void 0!==o&&o.call(a,v))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,v)));return yw(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),b.current&&m.animationState&&m.animationState.animateChanges())}),(0,r.useEffect)(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,v)}),b.current=!1),m.enteringChildren=void 0)}),m}function eE(e){if(e)return!1!==e.options.allowProjection?e.projection:eE(e.parent)}function tE(e){var t,n;let{forwardMotionProps:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;s&&function(e){for(const t in e)HS[t]=u(u({},HS[t]),e[t])}(s);const a=Ck(e)?Wk:Kk;function l(t,n){let s;const l=u(u(u({},(0,r.useContext)(xw)),t),{},{layoutId:nE(t)}),{isStatic:c}=l,h=_k(t),d=a(t,c);if(!c&&gw){!function(){(0,r.useContext)(Ik).strict;0}();const t=function(e){const{drag:t,layout:n}=HS;if(!t&&!n)return{};const r=u(u({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);s=t.MeasureLayout,h.visualElement=Zk(e,d,l,o,t.ProjectionNode)}return(0,Wb.jsxs)(Nk.Provider,{value:h,children:[s&&h.visualElement?(0,Wb.jsx)(s,u({visualElement:h.visualElement},l)):null,zk(e,t,Qk(d,h.visualElement,n),d,c,i)]})}l.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(t=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==t?t:"",")"));const c=(0,r.forwardRef)(l);return c[Xk]=e,c}function nE(e){let{layoutId:t}=e;const n=(0,r.useContext)(pw).id;return n&&void 0!==t?n+"-"+t:t}function rE(e,t){if("undefined"===typeof Proxy)return tE;const n=new Map,r=(n,r)=>tE(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,s)=>"create"===s?r:(n.has(s)||n.set(s,tE(s,void 0,e,t)),n.get(s))})}function iE(e,t,n){const r=e.getProps();return tk(r,t,void 0!==n?n:r.custom,e)}function sE(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const oE=e=>Array.isArray(e),aE=["transitionEnd","transition"];function lE(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,jS(n))}function cE(e){return oE(e)?e[e.length-1]||0:e}function uE(e,t){let n=iE(e,t)||{},{transitionEnd:r={},transition:i={}}=n,o=s(n,aE);o=u(u({},o),r);for(const s in o){lE(e,s,cE(o[s]))}}function hE(e,t){const n=e.getValue("willChange");if(r=n,Boolean(NS(r)&&r.add))return n.add(t);if(!n&&Lx.WillChange){const n=new Lx.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function dE(e){return e.props[$k]}function fE(e){e.duration=0,e.type="keyframes"}const pE=(e,t)=>n=>t(e(n)),mE=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(pE)},gE=e=>1e3*e,yE=e=>e/1e3,vE={layout:0,mainThread:0,waapi:0};function bE(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wE(e,t){return n=>n>0?t:e}const xE=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},SE=[sS,iS,oS];function kE(e){const t=(n=e,SE.find(e=>e.test(n)));var n;if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let r=t.parse(e);return t===oS&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,o=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=bE(i,e,t+1/3),o=bE(i,e,t),a=bE(i,e,t-1/3)}else s=o=a=r;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*a),alpha:i}}(r)),r}const EE=(e,t)=>{const n=kE(e),r=kE(t);if(!n||!r)return wE(e,t);const i=u({},n);return e=>(i.red=xE(n.red,r.red,e),i.green=xE(n.green,r.green,e),i.blue=xE(n.blue,r.blue,e),i.alpha=Qw(n.alpha,r.alpha,e),iS.transform(i))},CE=new Set(["none","hidden"]);function TE(e,t){return n=>Qw(e,t,n)}function IE(e){return"number"===typeof e?TE:"string"===typeof e?Ww(e)?wE:aS.test(e)?EE:AE:Array.isArray(e)?NE:"object"===typeof e?aS.test(e)?EE:_E:wE}function NE(e,t){const n=[...e],r=n.length,i=e.map((e,n)=>IE(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function _E(e,t){const n=u(u({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=IE(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const AE=(e,t)=>{const n=gS.createTransformer(t),r=dS(e),i=dS(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?CE.has(e)&&!i.values.length||CE.has(t)&&!r.values.length?function(e,t){return CE.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):mE(NE(function(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){var i;const o=t.types[s],a=e.indexes[o][r[o]],l=null!==(i=e.values[a])&&void 0!==i?i:0;n[s]=l,r[o]++}return n}(r,i),i.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),wE(e,t))};function PE(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Qw(e,t,n);return IE(e)(e,t)}const DE=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Vx.update(t,e)},stop:()=>Ux(t),now:()=>zx.isProcessing?zx.timestamp:PS.now()}},RE=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(1e4*e(s/(i-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},ME=2e4;function LE(e){let t=0;let n=e.next(t);for(;!n.done&&t<ME;)t+=50,n=e.next(t);return t>=ME?1/0:t}function OE(e,t,n){const r=Math.max(t-5,0);return LS(n-e(r),t-r)}const FE={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jE=.001;function VE(e){let t,n,{duration:r=FE.duration,bounce:i=FE.bounce,velocity:s=FE.velocity,mass:o=FE.mass}=e;gE(FE.maxDuration);let a=1-i;a=fx(FE.minDamping,FE.maxDamping,a),r=fx(FE.minDuration,FE.maxDuration,yE(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-s,o=zE(e,a),l=Math.exp(-n);return jE-i/o*l},n=e=>{const n=e*a*r,i=n*s+s,o=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=zE(Math.pow(e,2),a);return(-t(e)+jE>0?-1:1)*((i-o)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<UE;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=gE(r),isNaN(l))return{stiffness:FE.stiffness,damping:FE.damping,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*a*Math.sqrt(o*e),duration:r}}}const UE=12;function zE(e,t){return e*Math.sqrt(1-t*t)}const BE=["duration","bounce"],HE=["stiffness","damping","mass"];function qE(e,t){return t.some(t=>void 0!==e[t])}function GE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:FE.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:FE.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:h,duration:d,velocity:f,isResolvedFromDuration:p}=function(e){let t=u({velocity:FE.velocity,stiffness:FE.stiffness,damping:FE.damping,mass:FE.mass,isResolvedFromDuration:!1},e);if(!qE(e,HE)&&qE(e,BE))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,s=2*fx(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=u(u({},t),{},{mass:FE.mass,stiffness:i,damping:s})}else{const n=VE(e);t=u(u(u({},t),n),{},{mass:FE.mass}),t.isResolvedFromDuration=!0}return t}(u(u({},n),{},{velocity:-yE(n.velocity||0)})),m=f||0,g=c/(2*Math.sqrt(l*h)),y=o-s,v=yE(Math.sqrt(l/h)),b=Math.abs(y)<5;let w;if(r||(r=b?FE.restSpeed.granular:FE.restSpeed.default),i||(i=b?FE.restDelta.granular:FE.restDelta.default),g<1){const e=zE(v,g);w=t=>{const n=Math.exp(-g*v*t);return o-n*((m+g*v*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}}else if(1===g)w=e=>o-Math.exp(-v*e)*(y+(m+v*y)*e);else{const e=v*Math.sqrt(g*g-1);w=t=>{const n=Math.exp(-g*v*t),r=Math.min(e*t,300);return o-n*((m+g*v*y)*Math.sinh(r)+e*y*Math.cosh(r))/e}}const x={calculatedDuration:p&&d||null,next:e=>{const t=w(e);if(p)a.done=e>=d;else{let n=0===e?m:0;g<1&&(n=0===e?gE(m):OE(w,e,t));const s=Math.abs(n)<=r,l=Math.abs(o-t)<=i;a.done=s&&l}return a.value=a.done?o:t,a},toString:()=>{const e=Math.min(LE(x),ME),t=RE(t=>x.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return x}function KE(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=d+m,y=void 0===a?g:a(g);y!==g&&(m=y-d);const v=e=>-m*Math.exp(-e/i),b=e=>y+v(e),w=e=>{const t=v(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let x,S;const k=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(x=e,S=GE({keyframes:[f.value,p(f.value)],velocity:OE(b,e,f.value),damping:s,stiffness:o,restDelta:u,restSpeed:h}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==x||(t=!0,w(e),k(e)),void 0!==x&&e>=x?S.next(e-x):(!t&&w(e),f)}}}GE.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(u(u({},e),{},{keyframes:[0,t]})),r=Math.min(LE(n),ME);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:yE(r)}}(e,100,GE);return e.ease=t.ease,e.duration=gE(t.duration),e.type="keyframes",e};const WE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function XE(e,t,n,r){if(e===t&&n===r)return Mx;const i=t=>function(e,t,n,r,i){let s,o,a=0;do{o=t+(n-t)/2,s=WE(o,r,i)-e,s>0?n=o:t=o}while(Math.abs(s)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:WE(i(e),t,r)}const YE=XE(.42,0,1,1),QE=XE(0,0,.58,1),$E=XE(.42,0,.58,1),JE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ZE=e=>t=>1-e(1-t),eC=XE(.33,1.53,.69,.99),tC=ZE(eC),nC=JE(tC),rC=e=>(e*=2)<1?.5*tC(e):.5*(2-Math.pow(2,-10*(e-1))),iC=e=>1-Math.sin(Math.acos(e)),sC=ZE(iC),oC=JE(iC),aC=e=>Array.isArray(e)&&"number"===typeof e[0],lC={linear:Mx,easeIn:YE,easeInOut:$E,easeOut:QE,circIn:iC,circInOut:oC,circOut:sC,backIn:tC,backInOut:nC,backOut:eC,anticipate:rC},cC=e=>{if(aC(e)){e.length;const[t,n,r,i]=e;return XE(t,n,r,i)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),lC[e]):e},uC=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function hC(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(t.length,1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const r=[],i=n||Lx.mix||PE,s=e.length-1;for(let o=0;o<s;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||Mx:t;n=mE(e,n)}r.push(n)}return r}(t,r,i),l=a.length,c=n=>{if(o&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=uC(e[r],e[r+1],n);return a[r](i)};return n?t=>c(fx(e[0],e[s-1],t)):c}function dC(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=uC(0,t,r);e.push(Qw(n,1,i))}}(t,e.length-1),t}function fC(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(cC):cC(i),o={done:!1,value:n[0]},a=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:dC(n),t),l=hC(a,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map(()=>u||$E).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}const pC=e=>null!==e;function mC(e,t,n){let{repeat:r,repeatType:i="loop"}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=e.filter(pC),a=s<0||r&&"loop"!==i&&r%2===1?0:o.length-1;return a&&void 0!==n?n:o[a]}const gC={decay:KE,inertia:KE,tween:fC,keyframes:fC,spring:GE};function yC(e){"string"===typeof e.type&&(e.type=gC[e.type])}class vC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const bC=e=>e/100;class wC extends vC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==PS.now()&&this.tick(PS.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},vE.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;yC(e);const{type:t=fC,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:s=0}=e;let{keyframes:o}=e;const a=t||fC;a!==fC&&"number"!==typeof o[0]&&(this.mixKeyframes=mE(bC,PE(o[0],o[1])),o=[0,100]);const l=a(u(u({},e),{},{keyframes:o}));"mirror"===i&&(this.mirroredGenerator=a(u(u({},e),{},{keyframes:[...o].reverse(),velocity:-s}))),null===l.calculatedDuration&&(l.calculatedDuration=LE(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:a}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:h,repeatDelay:d,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let v=this.currentTime,b=n;if(u){const e=Math.min(this.currentTime,r)/o;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===h?(n=1-n,d&&(n-=d/o)):"mirror"===h&&(b=s)),v=fx(0,1,n)*o}const w=y?{done:!1,value:c[0]}:b.next(v);i&&(w.value=i(w.value));let{done:x}=w;y||null===a||(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return S&&f!==KE&&(w.value=mC(c,this.options,m,this.speed)),p&&p(w.value),S&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return yE(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+yE(e)}get time(){return yE(this.currentTime)}set time(e){var t;e=gE(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(PS.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=yE(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=DE,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(PS.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,vE.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}function xC(e){let t;return()=>(void 0===t&&(t=e()),t)}const SC=xC(()=>void 0!==window.ScrollTimeline),kC={};function EC(e,t){const n=xC(e);return()=>{var e;return null!==(e=kC[t])&&void 0!==e?e:n()}}const CC=EC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(eP){return!1}return!0},"linearEasing"),TC=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},IC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:TC([0,.65,.55,1]),circOut:TC([.55,0,1,.45]),backIn:TC([.31,.01,.66,-.59]),backOut:TC([.33,1.53,.69,.99])};function NC(e,t){return e?"function"===typeof e?CC()?RE(e,t):"ease-out":aC(e)?TC(e):Array.isArray(e)?e.map(e=>NC(e,t)||IC.easeOut):IC[e]:void 0}function _C(e,t,n){let{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const h=NC(a,i);Array.isArray(h)&&(u.easing=h),Fx.value&&vE.waapi++;const d={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"};c&&(d.pseudoElement=c);const f=e.animate(u,d);return Fx.value&&f.finished.finally(()=>{vE.waapi--}),f}function AC(e){return"function"===typeof e&&"applyToOptions"in e}const PC=["type"];class DC extends vC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=o,this.options=e,e.type;const c=function(e){let{type:t}=e,n=s(e,PC);return AC(t)&&CC()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(i=n.ease)&&void 0!==i||(n.ease="easeOut"),n);var r,i}(e);this.animation=_C(t,n,r,c,i),!1===c.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=mC(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===l||void 0===l||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(eP){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return yE(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+yE(e)}get time(){return yE(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=gE(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&SC()?(this.animation.timeline=t,Mx):n(this)}}const RC={anticipate:rC,backInOut:nC,circInOut:oC};function MC(e){"string"===typeof e.ease&&e.ease in RC&&(e.ease=RC[e.ease])}const LC=["motionValue","onUpdate","onComplete","element"];class OC extends DC{constructor(e){MC(e),yC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:i,onComplete:o,element:a}=n,l=s(n,LC);if(!r)return;if(void 0!==e)return void r.set(e);const c=new wC(u(u({},l),{},{autoplay:!1})),h=gE(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(c.sample(h-10).value,c.sample(h).value,10),c.stop()}}const FC=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!gS.test(e)&&"0"!==e||e.startsWith("url(")));const jC=new Set(["opacity","clipPath","filter","transform"]),VC=xC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const UC=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class zC extends vC{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:h,motionValue:d,element:f}=e,p=s(e,UC);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=PS.now();const m=u({autoplay:n,delay:r,type:i,repeat:o,repeatDelay:a,repeatType:l,name:h,motionValue:d,element:f},p),g=(null===f||void 0===f?void 0:f.KeyframeResolver)||Yx;this.keyframeResolver=new g(c,(e,t,n)=>this.onKeyframesResolved(e,t,m,!n),h,d,f),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:a,isHandoff:l,onUpdate:c}=n;this.resolvedAt=PS.now(),function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],o=FC(i,t),a=FC(s,t);return"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(s,'". "').concat(o?s:i,'" is not an animatable value.'),!(!o||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||AC(n))&&r)}(e,i,s,o)||(!Lx.instantAnimations&&a||null===c||void 0===c||c(mC(e,n,t)),e[0]=e[e.length-1],fE(n),n.repeat=0);const h=u(u({startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),d=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return VC()&&r&&jC.has(r)&&("transform"!==r||!c)&&!l&&!i&&"mirror"!==s&&0!==o&&"inertia"!==a}(h)?new OC(u(u({},h),{},{element:h.motionValue.owner.current})):new wC(h);d.finished.then(()=>this.notifyFinished()).catch(Mx),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),Kx=!0,Xx(),Wx(),Kx=!1);return this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const BC=e=>null!==e;const HC={type:"spring",stiffness:500,damping:25,restSpeed:10},qC={type:"keyframes",duration:.8},GC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KC=(e,t)=>{let{keyframes:n}=t;return n.length>2?qC:Rw.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:HC:GC},WC=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const XC=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return a=>{const l=sE(r,e)||{},c=l.delay||r.delay||0;let{elapsed:h=0}=r;h-=gE(c);const d=u(u({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},l),{},{delay:-h,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:i});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:l,repeatDelay:c,from:u,elapsed:h}=e,d=s(e,WC);return!!Object.keys(d).length})(l)||Object.assign(d,KC(e,d)),d.duration&&(d.duration=gE(d.duration)),d.repeatDelay&&(d.repeatDelay=gE(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let f=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(fE(d),0===d.delay&&(f=!0)),(Lx.instantAnimations||Lx.skipAnimations)&&(f=!0,fE(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!o&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const s=e.filter(BC),o=r&&"loop"!==i&&r%2===1?0:s.length-1;return o&&void 0!==n?n:s[o]}(d.keyframes,l);if(void 0!==e)return void Vx.update(()=>{d.onUpdate(e),d.onComplete()})}return l.isSync?new wC(d):new zC(d)}},YC=["transition","transitionEnd"];function QC(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function $C(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:o=e.getDefaultTransition(),transitionEnd:a}=t,l=s(t,YC);r&&(o=r);const c=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const s in l){var d;const t=e.getValue(s,null!==(d=e.latestValues[s])&&void 0!==d?d:null),r=l[s];if(void 0===r||h&&QC(h,s))continue;const i=u({delay:n},sE(o||{},s)),a=t.get();if(void 0!==a&&!t.isAnimating&&!Array.isArray(r)&&r===a&&!i.velocity)continue;let f=!1;if(window.MotionHandoffAnimation){const t=dE(e);if(t){const e=window.MotionHandoffAnimation(t,s,Vx);null!==e&&(i.startTime=e,f=!0)}}hE(e,s),t.start(XC(s,t,r,e.shouldReduceMotion&&dx.has(s)?{type:!1}:i,e,f));const p=t.animation;p&&c.push(p)}return a&&Promise.all(c).then(()=>{Vx.update(()=>{a&&uE(e,a)})}),c}function JC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const s=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),o=e.size,a=(o-1)*r;return"function"===typeof n?n(s,o):1===i?s*r:a-s*r}function ZC(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=iE(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const o=i?()=>Promise.all($C(e,i,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:o,staggerDirection:a}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6?arguments[6]:void 0;const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(ZC(l,t,u(u({},o),{},{delay:n+("function"===typeof r?0:r)+JC(e.variantChildren,l,r,i,s)})).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}(e,t,n,i,o,a,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[o,a]:[a,o];return e().then(()=>t())}return Promise.all([o(),a(r.delay)])}function eT(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>ZC(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=ZC(e,t,r);else{const i="function"===typeof t?iE(e,t,r.custom):t;n=Promise.all($C(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function tT(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const nT=$S.length;function rT(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&rT(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<nT;n++){const r=$S[n],i=e.props[r];(YS(i)||!1===i)&&(t[r]=i)}return t}const iT=["transition","transitionEnd"],sT=[...QS].reverse(),oT=QS.length;function aT(e){let t=function(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return eT(e,n,r)}))}(e),n=uT(),r=!0;const i=t=>(n,r)=>{var i;const o=iE(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(o){const{transition:e,transitionEnd:t}=o,r=s(o,iT);n=u(u(u({},n),r),t)}return n};function o(s){const{props:o}=e,a=rT(e.parent)||{},l=[],c=new Set;let h={},d=1/0;for(let t=0;t<oT;t++){const f=sT[t],p=n[f],m=void 0!==o[f]?o[f]:a[f],g=YS(m),y=f===s?p.isActive:null;!1===y&&(d=t);let v=m===a[f]&&m!==o[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys=u({},h),!p.isActive&&null===y||!m&&!p.prevProp||XS(m)||"boolean"===typeof m)continue;const b=lT(p.prevProp,m);let w=b||f===s&&p.isActive&&!v&&g||t>d&&g,x=!1;const S=Array.isArray(m)?m:[m];let k=S.reduce(i(f),{});!1===y&&(k={});const{prevResolvedValues:E={}}=p,C=u(u({},E),k),T=t=>{w=!0,c.has(t)&&(x=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in C){const t=k[e],n=E[e];if(h.hasOwnProperty(e))continue;let r=!1;r=oE(t)&&oE(n)?!tT(t,n):t!==n,r?void 0!==t&&null!==t?T(e):c.add(e):void 0!==t&&c.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=k,p.isActive&&(h=u(u({},h),k)),r&&e.blockInitialAnimation&&(w=!1);const I=v&&b;w&&(!I||x)&&l.push(...S.map(t=>{const n={type:f};if("string"===typeof t&&r&&!I&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,i=iE(r,t);if(r.enteringChildren&&i){const{delayChildren:t}=i.transition||{};n.delay=JC(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!==typeof o.initial){const n=iE(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),l.push({animation:t})}let f=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(l):Promise.resolve()}return{animateChanges:o,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const s=o(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=uT(),r=!0}}}function lT(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!tT(t,e)}function cT(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uT(){return{animate:cT(!0),whileInView:cT(),whileHover:cT(),whileTap:cT(),whileDrag:cT(),whileFocus:cT(),exit:cT()}}class hT{constructor(e){this.isMounted=!1,this.node=e}update(){}}let dT=0;const fT={animation:{Feature:class extends hT{constructor(e){super(e),e.animationState||(e.animationState=aT(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();XS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends hT{constructor(){super(...arguments),this.id=dT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},pT={x:!1,y:!1};function mT(){return pT.x||pT.y}function gT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const yT=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function vT(e){return{point:{x:e.pageX,y:e.pageY}}}function bT(e,t,n,r){return gT(e,t,(e=>t=>yT(t)&&e(t,vT(t)))(n),r)}function wT(e){return e.max-e.min}function xT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Qw(t.min,t.max,e.origin),e.scale=wT(n)/wT(t),e.translate=Qw(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function ST(e,t,n,r){xT(e.x,t.x,n.x,r?r.originX:void 0),xT(e.y,t.y,n.y,r?r.originY:void 0)}function kT(e,t,n){e.min=n.min+t.min,e.max=e.min+wT(t)}function ET(e,t,n){e.min=t.min-n.min,e.max=e.min+wT(t)}function CT(e,t,n){ET(e.x,t.x,n.x),ET(e.y,t.y,n.y)}function TT(e){return[e("x"),e("y")]}const IT=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},NT=(e,t)=>Math.abs(e-t);class _T{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=DT(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=NT(e.x,t.x),r=NT(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=zx;this.history.push(u(u({},r),{},{timestamp:i}));const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=AT(t,this.transformPagePoint),Vx.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=DT("pointercancel"===e.type?this.lastMoveEventInfo:AT(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!yT(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=r||window;const o=AT(vT(e),this.transformPagePoint),{point:a}=o,{timestamp:l}=zx;this.history=[u(u({},a),{},{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,DT(o,this.history)),this.removeListeners=mE(bT(this.contextWindow,"pointermove",this.handlePointerMove),bT(this.contextWindow,"pointerup",this.handlePointerUp),bT(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ux(this.updatePoint)}}function AT(e,t){return t?{point:t(e.point)}:e}function PT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function DT(e,t){let{point:n}=e;return{point:n,delta:PT(n,MT(t)),offset:PT(n,RT(t)),velocity:LT(t,.1)}}function RT(e){return e[0]}function MT(e){return e[e.length-1]}function LT(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=MT(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>gE(t)));)n--;if(!r)return{x:0,y:0};const s=yE(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function OT(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function FT(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const jT=.35;function VT(e,t,n){return{min:UT(e,t),max:UT(e,n)}}function UT(e,t){return"number"===typeof e?e:e[t]||0}const zT=new WeakMap;class BT{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new _T(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(vT(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?pT[s]?null:(pT[s]=!0,()=>{pT[s]=!1}):pT.x||pT.y?null:(pT.x=pT.y=!0,()=>{pT.x=pT.y=!1}),!this.openDragLock))return;var s;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),TT(e=>{let t=this.getAxisMotionValue(e).get()||0;if(bx.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=wT(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&Vx.postRender(()=>i(e,t)),hE(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>TT(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,distanceThreshold:n,contextWindow:IT(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Vx.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!HT(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Qw(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Qw(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Yk(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:OT(e.x,r,s),y:OT(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jT;return!1===e?e=0:!0===e&&(e=jT),{x:VT(e,"left","right"),y:VT(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&TT(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Yk(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=hx(e,n),{scroll:i}=t;return i&&(lx(r.x,i.offset.x),lx(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:FT(e.x,t.x),y:FT(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Yw(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=TT(o=>{if(!HT(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const c=r?200:1e6,h=r?40:1e7,d=u(u({type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(o,d)});return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return hE(this.visualElement,e),n.start(XC(e,n,0,t,this.visualElement,!1))}stopAnimation(){TT(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){TT(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){TT(t=>{const{drag:n}=this.getProps();if(!HT(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-Qw(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Yk(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};TT(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=wT(e),i=wT(t);return i>r?n=uC(t.min,t.max-r,e.min):r>i&&(n=uC(e.min,e.max-i,t.min)),fx(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),TT(t=>{if(!HT(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(Qw(i,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;zT.set(this.visualElement,this);const e=bT(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Yk(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Vx.read(t);const i=gT(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(TT(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=jT,dragMomentum:o=!0}=e;return u(u({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:o})}}function HT(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const qT=e=>(t,n)=>{e&&Vx.postRender(()=>e(t,n))};const GT={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function KT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const WT={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!wx.test(e))return e;e=parseFloat(e)}const n=KT(e,t.target.x),r=KT(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},XT={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=gS.parse(e);if(s.length>5)return i;const o=gS.createTransformer(e),a="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+a]/=l,s[1+a]/=c;const u=Qw(l,c,.5);return"number"===typeof s[2+a]&&(s[2+a]/=u),"number"===typeof s[3+a]&&(s[3+a]/=u),o(s)}};let YT=!1;class QT extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)hk[t]=e[t],Gw(t)&&(hk[t].isCSSVariable=!0)}(JT),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),YT&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(u(u({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),GT.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:s}=n;return s?(s.isPresent=i,YT=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Vx.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),US.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;YT=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $T(e){const[t,n]=Nw(),i=(0,r.useContext)(pw);return(0,Wb.jsx)(QT,u(u({},e),{},{layoutGroup:i,switchLayoutGroup:(0,r.useContext)(Jk),isPresent:t,safeToRemove:n}))}const JT={borderRadius:u(u({},WT),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:WT,borderTopRightRadius:WT,borderBottomLeftRadius:WT,borderBottomRightRadius:WT,boxShadow:XT};function ZT(e){return bw(e)&&"ownerSVGElement"in e}const eI=(e,t)=>e.depth-t.depth;class tI{constructor(){this.children=[],this.isDirty=!1}add(e){DS(this.children,e),this.isDirty=!0}remove(e){RS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eI),this.isDirty=!1,this.children.forEach(e)}}function nI(e,t){const n=PS.now(),r=i=>{let{timestamp:s}=i;const o=s-n;o>=t&&(Ux(r),e(o-t))};return Vx.setup(r,!0),()=>Ux(r)}const rI=["TopLeft","TopRight","BottomLeft","BottomRight"],iI=rI.length,sI=e=>"string"===typeof e?parseFloat(e):e,oI=e=>"number"===typeof e||wx.test(e);function aI(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const lI=uI(0,.5,sC),cI=uI(.5,.95,Mx);function uI(e,t,n){return r=>r<e?0:r>t?1:n(uC(e,t,r))}function hI(e,t){e.min=t.min,e.max=t.max}function dI(e,t){hI(e.x,t.x),hI(e.y,t.y)}function fI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function pI(e,t,n,r,i){return e=nx(e-=t,1/n,r),void 0!==i&&(e=nx(e,1/i,r)),e}function mI(e,t,n,r,i){let[s,o,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;bx.test(t)&&(t=parseFloat(t),t=Qw(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let a=Qw(s.min,s.max,r);e===s&&(a-=t),e.min=pI(e.min,t,n,a,i),e.max=pI(e.max,t,n,a,i)}(e,t[s],t[o],t[a],t.scale,r,i)}const gI=["x","scaleX","originX"],yI=["y","scaleY","originY"];function vI(e,t,n,r){mI(e.x,t,gI,n?n.x:void 0,r?r.x:void 0),mI(e.y,t,yI,n?n.y:void 0,r?r.y:void 0)}function bI(e){return 0===e.translate&&1===e.scale}function wI(e){return bI(e.x)&&bI(e.y)}function xI(e,t){return e.min===t.min&&e.max===t.max}function SI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function kI(e,t){return SI(e.x,t.x)&&SI(e.y,t.y)}function EI(e){return wT(e.x)/wT(e.y)}function CI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class TI{constructor(){this.members=[]}add(e){DS(this.members,e),e.scheduleRender()}remove(e){if(RS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const II={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},NI=["","X","Y","Z"];let _I=0;function AI(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function PI(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=dE(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Vx,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&PI(r)}function DI(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=_I++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Fx.value&&(II.nodes=II.calculatedTargetDeltas=II.calculatedProjections=0),this.nodes.forEach(LI),this.nodes.forEach(BI),this.nodes.forEach(HI),this.nodes.forEach(OI),Fx.addProjectionMetrics&&Fx.addProjectionMetrics(II)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new tI)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new MS),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=ZT(e)&&!(ZT(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:i,visualElement:s}=this.options;if(s&&!s.current&&s.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const i=()=>this.root.updateBlockedByResize=!1;Vx.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=nI(i,250),GT.hasAnimatedSinceResize&&(GT.hasAnimatedSinceResize=!1,this.nodes.forEach(zI)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&s&&(r||i)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||s.getDefaultTransition()||YI,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=s.getProps(),c=!this.targetLayout||!kI(this.targetLayout,i),h=!n&&r;if(this.options.layoutRoot||this.resumeFrom||h||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=u(u({},sE(o,"layout")),{},{onPlay:a,onComplete:l});(s.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,h)}else n||zI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ux(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qI),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(jI);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(VI);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(UI),this.nodes.forEach(RI),this.nodes.forEach(MI)):this.nodes.forEach(VI),this.clearAllSnapshots();const e=PS.now();zx.delta=fx(0,1e3/60,e-zx.timestamp),zx.timestamp=e,zx.isProcessing=!0,Bx.update.process(zx),Bx.preRender.process(zx),Bx.render.process(zx),zx.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,US.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FI),this.sharedNodes.forEach(GI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vx.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vx.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||wT(this.snapshot.measuredBox.x)||wT(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!wI(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||Zw(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),JI((r=n).x),JI(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(eN))){const{scroll:e}=this.root;e&&(lx(n.x,e.offset.x),lx(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(dI(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:s}=t;t!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&dI(n,e),lx(n.x,i.offset.x),lx(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};dI(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&ux(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Zw(e.latestValues)&&ux(n,e.latestValues)}return Zw(this.latestValues)&&ux(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};dI(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Zw(e.latestValues))continue;Jw(e.latestValues)&&e.updateSnapshot();const r=qS();dI(r,e.measurePageBox()),vI(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Zw(this.latestValues)&&vI(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=u(u(u({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zx.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=zx.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},CT(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),dI(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,kT(o.x,a.x,l.x),kT(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):dI(this.target,this.layout.layoutBox),sx(this.target,this.targetDelta)):dI(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},CT(this.relativeTargetOrigin,this.target,e.target),dI(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fx.value&&II.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Jw(this.parent.latestValues)&&!ex(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===zx.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;dI(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,o;t.x=t.y=1;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:i}=s.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ux(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,sx(e,o)),r&&Zw(s.latestValues)&&ux(e,s.latestValues))}t.x<ax&&t.x>ox&&(t.x=1),t.y<ax&&t.y>ox&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(fI(this.prevProjectionDelta.x,this.projectionDelta.x),fI(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),ST(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===a&&CI(this.projectionDelta.x,this.prevProjectionDelta.x)&&CI(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Fx.value&&II.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=u({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,h=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(XI));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,u;KI(s.x,e.x,n),KI(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(CT(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){WI(e.x,t.x,n.x,r),WI(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),d&&(l=this.relativeTarget,u=d,xI(l.x,u.x)&&xI(l.y,u.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),dI(d,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,s){var o,a;if(i)e.opacity=Qw(0,null!==(o=n.opacity)&&void 0!==o?o:1,lI(r)),e.opacityExit=Qw(null!==(a=t.opacity)&&void 0!==a?a:1,0,cI(r));else if(s){var l,c;e.opacity=Qw(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,r)}for(let u=0;u<iI;u++){const i="border".concat(rI[u],"Radius");let s=aI(t,i),o=aI(n,i);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||oI(s)===oI(o)?(e[i]=Math.max(Qw(sI(s),sI(o),r),0),(bx.test(o)||bx.test(s))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=Qw(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,h,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(Ux(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vx.update(()=>{GT.hasAnimatedSinceResize=!0,vE.layout++,this.motionValue||(this.motionValue=jS(0)),this.currentAnimation=function(e,t,n){const r=NS(e)?e:jS(e);return r.start(XC("",r,t,n)),r.animation}(this.motionValue,[0,1e3],u(u({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{vE.layout--},onComplete:()=>{vE.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&ZI(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=wT(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=wT(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}dI(t,n),ux(t,i),ST(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new TI);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&AI("z",e,r,this.animationValues);for(let i=0;i<NI.length;i++)AI("rotate".concat(NI[i]),e,r,this.animationValues),AI("skew".concat(NI[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Bk(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Bk(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!Zw(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let s=function(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(null===n||void 0===n?void 0:n.z)||0;if((i||s||o)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, ").concat(o,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:o,skewY:a}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),s&&(r+="rotateY(".concat(s,"deg) ")),o&&(r+="skewX(".concat(o,"deg) ")),a&&(r+="skewY(".concat(a,"deg) "))}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+="scale(".concat(a,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);n&&(s=n(i,s)),e.transform=s;const{x:o,y:a}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*o.origin,"% ").concat(100*a.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(l=null!==(c=i.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const u in hk){if(void 0===i[u])continue;const{correct:t,applyTo:n,isCSSVariable:o}=hk[u],a="none"===s?i[u]:t(i[u],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=a}else o?this.options.visualElement.renderState.vars[u]=a:e[u]=a}this.options.layoutId&&(e.pointerEvents=r===this?Bk(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(jI),this.root.sharedNodes.clear()}}}function RI(e){e.updateLayout()}function MI(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?TT(e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=wT(r);r.min=t[e].min,r.max=r.min+i}):ZI(i,n.layoutBox,t)&&TT(r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],o=wT(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};ST(o,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?ST(a,e.applyTransform(r,!0),n.measuredBox):ST(a,t,n.layoutBox);const l=!wI(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};CT(o,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};CT(a,t,s.layoutBox),kI(o,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function LI(e){Fx.value&&II.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function OI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function FI(e){e.clearSnapshot()}function jI(e){e.clearMeasurements()}function VI(e){e.isLayoutDirty=!1}function UI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function BI(e){e.resolveTargetDelta()}function HI(e){e.calcProjection()}function qI(e){e.resetSkewAndRotation()}function GI(e){e.removeLeadSnapshot()}function KI(e,t,n){e.translate=Qw(t.translate,0,n),e.scale=Qw(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function WI(e,t,n,r){e.min=Qw(t.min,n.min,r),e.max=Qw(t.max,n.max,r)}function XI(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const YI={duration:.45,ease:[.4,0,.1,1]},QI=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),$I=QI("applewebkit/")&&!QI("chrome/")?Math.round:Mx;function JI(e){e.min=$I(e.min),e.max=$I(e.max)}function ZI(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=EI(t),i=EI(n),s=.2,!(Math.abs(r-i)<=s));var r,i,s}function eN(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const tN=DI({attachResizeListener:(e,t)=>gT(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nN={current:void 0},rN=DI({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nN.current){const e=new tN({});e.mount(window),e.setOptions({layoutScroll:!0}),nN.current=e}return nN.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),iN={pan:{Feature:class extends hT{constructor(){super(...arguments),this.removePointerDownListener=Mx}onPointerDown(e){this.session=new _T(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:qT(e),onStart:qT(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Vx.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=bT(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends hT{constructor(e){super(e),this.removeGroupControls=Mx,this.removeListeners=Mx,this.controls=new BT(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mx}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:rN,MeasureLayout:$T}};function sN(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let i=document;t&&(i=t.current);const s=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}(e),r=new AbortController;return[n,u(u({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function oN(e){return!("touch"===e.pointerType||mT())}function aN(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&Vx.postRender(()=>i(t,vT(t)))}const lN=(e,t)=>!!t&&(e===t||lN(e,t.parentElement)),cN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const uN=new WeakSet;function hN(e){return t=>{"Enter"===t.key&&e(t)}}function dN(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function fN(e){return yT(e)&&!mT()}function pN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=sN(e,n),o=e=>{const r=e.currentTarget;if(!fN(e))return;uN.add(r);const s=t(r,e),o=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),uN.has(r)&&uN.delete(r),fN(e)&&"function"===typeof s&&s(e,{success:t})},a=e=>{o(e,r===window||r===document||n.useGlobalTarget||lN(r,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",o,i),ww(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=hN(()=>{if(uN.has(n))return;dN(n,"down");const e=hN(()=>{dN(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>dN(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,i)),t=e,cN.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),s}function mN(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&Vx.postRender(()=>i(t,vT(t)))}const gN=["root"],yN=new WeakMap,vN=new WeakMap,bN=e=>{const t=yN.get(e.target);t&&t(e)},wN=e=>{e.forEach(bN)};function xN(e,t,n){const r=function(e){let{root:t}=e,n=s(e,gN);const r=t||document;vN.has(r)||vN.set(r,{});const i=vN.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(wN,u({root:t},n))),i[o]}(t);return yN.set(e,n),r.observe(e),()=>{yN.delete(e),r.unobserve(e)}}const SN={some:0,all:1};const kN={inView:{Feature:class extends hT{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:SN[r]};return xN(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends hT{mount(){const{current:e}=this.node;e&&(this.unmount=pN(e,(e,t)=>(mN(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return mN(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends hT{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(eP){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mE(gT(this.node.current,"focus",()=>this.onFocus()),gT(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends hT{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=sN(e,n),o=e=>{if(!oN(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const s=e=>{oN(e)&&(r(e),n.removeEventListener("pointerleave",s))};n.addEventListener("pointerleave",s,i)};return r.forEach(e=>{e.addEventListener("pointerenter",o,i)}),s}(e,(e,t)=>(aN(this.node,t,"Start"),e=>aN(this.node,e,"End"))))}unmount(){}}}},EN={layout:{ProjectionNode:rN,MeasureLayout:$T}},CN=rE(u(u(u(u({},fT),kN),iN),EN),Tk),TN=[{name:"Muhammad",popularity:100,popularityRank:1,gender:{Male:.95,Female:.05},origin:"Arabic",meaning:"Praised",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"SA",appearances:1,globalFrequency:100,popularityScore:100,globalPopularityScore:100,searchPriority:0},{name:"Elizabeth",popularity:99,popularityRank:2,gender:{Male:.05,Female:.95},origin:"Hebrew",meaning:"God is my oath",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"US",appearances:1,globalFrequency:99,popularityScore:99,globalPopularityScore:99,searchPriority:0},{name:"Liam",popularity:98,popularityRank:3,gender:{Male:.95,Female:.05},origin:"Irish",meaning:"Strong-willed warrior",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"IE",appearances:1,globalFrequency:98,popularityScore:98,globalPopularityScore:98,searchPriority:0},{name:"Emma",popularity:97,popularityRank:4,gender:{Male:.05,Female:.95},origin:"Germanic",meaning:"Universal",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"DE",appearances:1,globalFrequency:97,popularityScore:97,globalPopularityScore:97,searchPriority:0},{name:"Noah",popularity:96,popularityRank:5,gender:{Male:.95,Female:.05},origin:"Hebrew",meaning:"Rest",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"IL",appearances:1,globalFrequency:96,popularityScore:96,globalPopularityScore:96,searchPriority:0},{name:"Olivia",popularity:95,popularityRank:6,gender:{Male:.05,Female:.95},origin:"Latin",meaning:"Olive tree",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"US",appearances:1,globalFrequency:95,popularityScore:95,globalPopularityScore:95,searchPriority:0},{name:"Oliver",popularity:94,popularityRank:7,gender:{Male:.95,Female:.05},origin:"Latin",meaning:"Olive tree",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GB",appearances:1,globalFrequency:94,popularityScore:94,globalPopularityScore:94,searchPriority:0},{name:"Charlotte",popularity:93,popularityRank:8,gender:{Male:.05,Female:.95},origin:"French",meaning:"Free woman",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"FR",appearances:1,globalFrequency:93,popularityScore:93,globalPopularityScore:93,searchPriority:0},{name:"Elijah",popularity:92,popularityRank:9,gender:{Male:.95,Female:.05},origin:"Hebrew",meaning:"My God is Yahweh",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"IL",appearances:1,globalFrequency:92,popularityScore:92,globalPopularityScore:92,searchPriority:0},{name:"Amelia",popularity:91,popularityRank:10,gender:{Male:.05,Female:.95},origin:"Germanic",meaning:"Work",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"DE",appearances:1,globalFrequency:91,popularityScore:91,globalPopularityScore:91,searchPriority:0},{name:"James",popularity:90,popularityRank:11,gender:{Male:.95,Female:.05},origin:"Hebrew",meaning:"Supplanter",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"US",appearances:1,globalFrequency:90,popularityScore:90,globalPopularityScore:90,searchPriority:0},{name:"Sophia",popularity:89,popularityRank:12,gender:{Male:.05,Female:.95},origin:"Greek",meaning:"Wisdom",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GR",appearances:1,globalFrequency:89,popularityScore:89,globalPopularityScore:89,searchPriority:0},{name:"William",popularity:88,popularityRank:13,gender:{Male:.95,Female:.05},origin:"Germanic",meaning:"Resolute protector",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"DE",appearances:1,globalFrequency:88,popularityScore:88,globalPopularityScore:88,searchPriority:0},{name:"Isabella",popularity:87,popularityRank:14,gender:{Male:.05,Female:.95},origin:"Hebrew",meaning:"God is my oath",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"ES",appearances:1,globalFrequency:87,popularityScore:87,globalPopularityScore:87,searchPriority:0},{name:"Benjamin",popularity:86,popularityRank:15,gender:{Male:.95,Female:.05},origin:"Hebrew",meaning:"Son of the right hand",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"IL",appearances:1,globalFrequency:86,popularityScore:86,globalPopularityScore:86,searchPriority:0},{name:"Ava",popularity:85,popularityRank:16,gender:{Male:.05,Female:.95},origin:"Latin",meaning:"Bird",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"US",appearances:1,globalFrequency:85,popularityScore:85,globalPopularityScore:85,searchPriority:0},{name:"Lucas",popularity:84,popularityRank:17,gender:{Male:.95,Female:.05},origin:"Latin",meaning:"Light",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"IT",appearances:1,globalFrequency:84,popularityScore:84,globalPopularityScore:84,searchPriority:0},{name:"Mia",popularity:83,popularityRank:18,gender:{Male:.05,Female:.95},origin:"Italian",meaning:"Mine",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"IT",appearances:1,globalFrequency:83,popularityScore:83,globalPopularityScore:83,searchPriority:0},{name:"Henry",popularity:82,popularityRank:19,gender:{Male:.95,Female:.05},origin:"Germanic",meaning:"Estate ruler",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"DE",appearances:1,globalFrequency:82,popularityScore:82,globalPopularityScore:82,searchPriority:0},{name:"Evelyn",popularity:81,popularityRank:20,gender:{Male:.05,Female:.95},origin:"English",meaning:"Wished for child",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GB",appearances:1,globalFrequency:81,popularityScore:81,globalPopularityScore:81,searchPriority:0},{name:"Alexander",popularity:80,popularityRank:21,gender:{Male:.95,Female:.05},origin:"Greek",meaning:"Defender of mankind",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GR",appearances:1,globalFrequency:80,popularityScore:80,globalPopularityScore:80,searchPriority:0},{name:"Harper",popularity:79,popularityRank:22,gender:{Male:.2,Female:.8},origin:"English",meaning:"Harp player",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GB",appearances:1,globalFrequency:79,popularityScore:79,globalPopularityScore:79,searchPriority:0},{name:"Mason",popularity:78,popularityRank:23,gender:{Male:.95,Female:.05},origin:"English",meaning:"Stone worker",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GB",appearances:1,globalFrequency:78,popularityScore:78,globalPopularityScore:78,searchPriority:0},{name:"Luna",popularity:77,popularityRank:24,gender:{Male:.05,Female:.95},origin:"Latin",meaning:"Moon",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"IT",appearances:1,globalFrequency:77,popularityScore:77,globalPopularityScore:77,searchPriority:0},{name:"Michael",popularity:76,popularityRank:25,gender:{Male:.95,Female:.05},origin:"Hebrew",meaning:"Who is like God?",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"IL",appearances:1,globalFrequency:76,popularityScore:76,globalPopularityScore:76,searchPriority:0},{name:"Camila",popularity:75,popularityRank:26,gender:{Male:.05,Female:.95},origin:"Latin",meaning:"Young ceremonial attendant",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"ES",appearances:1,globalFrequency:75,popularityScore:75,globalPopularityScore:75,searchPriority:0},{name:"Ethan",popularity:74,popularityRank:27,gender:{Male:.95,Female:.05},origin:"Hebrew",meaning:"Firm",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"IL",appearances:1,globalFrequency:74,popularityScore:74,globalPopularityScore:74,searchPriority:0},{name:"Gianna",popularity:73,popularityRank:28,gender:{Male:.05,Female:.95},origin:"Italian",meaning:"God is gracious",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"IT",appearances:1,globalFrequency:73,popularityScore:73,globalPopularityScore:73,searchPriority:0},{name:"Daniel",popularity:72,popularityRank:29,gender:{Male:.95,Female:.05},origin:"Hebrew",meaning:"God is my judge",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"IL",appearances:1,globalFrequency:72,popularityScore:72,globalPopularityScore:72,searchPriority:0},{name:"Abigail",popularity:71,popularityRank:30,gender:{Male:.05,Female:.95},origin:"Hebrew",meaning:"My father is joyful",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"IL",appearances:1,globalFrequency:71,popularityScore:71,globalPopularityScore:71,searchPriority:0},{name:"Jacob",popularity:70,popularityRank:31,gender:{Male:.95,Female:.05},origin:"Hebrew",meaning:"Supplanter",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"IL",appearances:1,globalFrequency:70,popularityScore:70,globalPopularityScore:70,searchPriority:0},{name:"Ella",popularity:69,popularityRank:32,gender:{Male:.05,Female:.95},origin:"Germanic",meaning:"All",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"DE",appearances:1,globalFrequency:69,popularityScore:69,globalPopularityScore:69,searchPriority:0},{name:"Logan",popularity:68,popularityRank:33,gender:{Male:.9,Female:.1},origin:"Scottish",meaning:"Little hollow",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GB",appearances:1,globalFrequency:68,popularityScore:68,globalPopularityScore:68,searchPriority:0},{name:"Emily",popularity:67,popularityRank:34,gender:{Male:.05,Female:.95},origin:"Latin",meaning:"Rival",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GB",appearances:1,globalFrequency:67,popularityScore:67,globalPopularityScore:67,searchPriority:0},{name:"Jackson",popularity:66,popularityRank:35,gender:{Male:.95,Female:.05},origin:"English",meaning:"Son of Jack",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GB",appearances:1,globalFrequency:66,popularityScore:66,globalPopularityScore:66,searchPriority:0},{name:"Madison",popularity:65,popularityRank:36,gender:{Male:.1,Female:.9},origin:"English",meaning:"Son of Maud",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"US",appearances:1,globalFrequency:65,popularityScore:65,globalPopularityScore:65,searchPriority:0},{name:"Sebastian",popularity:64,popularityRank:37,gender:{Male:.95,Female:.05},origin:"Greek",meaning:"Venerable",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GR",appearances:1,globalFrequency:64,popularityScore:64,globalPopularityScore:64,searchPriority:0},{name:"Scarlett",popularity:63,popularityRank:38,gender:{Male:.05,Female:.95},origin:"English",meaning:"Red",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GB",appearances:1,globalFrequency:63,popularityScore:63,globalPopularityScore:63,searchPriority:0},{name:"Jack",popularity:62,popularityRank:39,gender:{Male:.95,Female:.05},origin:"English",meaning:"God is gracious",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GB",appearances:1,globalFrequency:62,popularityScore:62,globalPopularityScore:62,searchPriority:0},{name:"Victoria",popularity:61,popularityRank:40,gender:{Male:.05,Female:.95},origin:"Latin",meaning:"Victory",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GB",appearances:1,globalFrequency:61,popularityScore:61,globalPopularityScore:61,searchPriority:0},{name:"Aiden",popularity:60,popularityRank:41,gender:{Male:.95,Female:.05},origin:"Irish",meaning:"Little fire",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"IE",appearances:1,globalFrequency:60,popularityScore:60,globalPopularityScore:60,searchPriority:0},{name:"Aria",popularity:59,popularityRank:42,gender:{Male:.05,Female:.95},origin:"Italian",meaning:"Air",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"IT",appearances:1,globalFrequency:59,popularityScore:59,globalPopularityScore:59,searchPriority:0},{name:"Owen",popularity:58,popularityRank:43,gender:{Male:.95,Female:.05},origin:"Welsh",meaning:"Noble warrior",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GB",appearances:1,globalFrequency:58,popularityScore:58,globalPopularityScore:58,searchPriority:0},{name:"Chloe",popularity:57,popularityRank:44,gender:{Male:.05,Female:.95},origin:"Greek",meaning:"Blooming",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GR",appearances:1,globalFrequency:57,popularityScore:57,globalPopularityScore:57,searchPriority:0},{name:"Luke",popularity:56,popularityRank:45,gender:{Male:.95,Female:.05},origin:"Greek",meaning:"Light",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GR",appearances:1,globalFrequency:56,popularityScore:56,globalPopularityScore:56,searchPriority:0},{name:"Grace",popularity:55,popularityRank:46,gender:{Male:.05,Female:.95},origin:"Latin",meaning:"Grace",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GB",appearances:1,globalFrequency:55,popularityScore:55,globalPopularityScore:55,searchPriority:0},{name:"Gabriel",popularity:54,popularityRank:47,gender:{Male:.95,Female:.05},origin:"Hebrew",meaning:"God is my strength",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"IL",appearances:1,globalFrequency:54,popularityScore:54,globalPopularityScore:54,searchPriority:0},{name:"Zoey",popularity:53,popularityRank:48,gender:{Male:.05,Female:.95},origin:"Greek",meaning:"Life",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GR",appearances:1,globalFrequency:53,popularityScore:53,globalPopularityScore:53,searchPriority:0},{name:"Lincoln",popularity:52,popularityRank:49,gender:{Male:.95,Female:.05},origin:"English",meaning:"Town by the pool",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GB",appearances:1,globalFrequency:52,popularityScore:52,globalPopularityScore:52,searchPriority:0},{name:"Penelope",popularity:51,popularityRank:50,gender:{Male:.05,Female:.95},origin:"Greek",meaning:"Weaver",type:"first",isPopular:!0,countries:{},globalCountries:{},primaryCountry:"GR",appearances:1,globalFrequency:51,popularityScore:51,globalPopularityScore:51,searchPriority:0}];for(let nP=51;nP<=500;nP++){const e=["English","Spanish","French","Italian","German","Irish","Scottish","Hebrew","Greek","Latin","Arabic","Russian","Chinese","Japanese","Korean","Indian"],t=["Aaron","Adam","Adrian","Alan","Albert","Andrew","Anthony","Austin","Blake","Brandon","Brian","Bruce","Caleb","Carlos","Carter","Charles","Christian","Christopher","Connor","David","Diego","Dominic","Dylan","Edward","Eli","Eric","Felix","Frank","George","Grant","Hunter","Ian","Isaac","Ivan","Jake","Jason","Jeremy","John","Jonathan","Jordan","Jose","Joshua","Julian","Justin","Kevin","Kyle","Leo","Luis","Marcus","Mark","Martin","Matthew","Max","Nathan","Nicholas","Patrick","Paul","Peter","Richard","Robert","Ryan","Samuel","Sean","Steven","Thomas","Timothy","Tyler","Victor","Vincent","Wesley","Zachary"],n=["Alice","Amanda","Amy","Andrea","Angela","Anna","Ashley","Barbara","Beth","Betty","Beverly","Brenda","Brittany","Carol","Catherine","Christine","Claire","Crystal","Cynthia","Deborah","Denise","Diana","Donna","Dorothy","Elena","Ellen","Emma","Erin","Eva","Evelyn","Faith","Frances","Gloria","Hannah","Heather","Helen","Isabella","Janet","Jennifer","Jessica","Joan","Joyce","Julia","Julie","Karen","Katherine","Kimberly","Laura","Linda","Lisa","Margaret","Maria","Marie","Martha","Mary","Michelle","Nancy","Nicole","Olivia","Pamela","Patricia","Rachel","Rebecca","Ruth","Sandra","Sarah","Sharon","Stephanie","Susan","Teresa","Virginia"],r=[{Male:.95,Female:.05},{Male:.05,Female:.95},{Male:.5,Female:.5}][nP%3],i=r.Male>r.Female?t:n,s=i[nP%i.length]+(nP>i.length?nP.toString():"");TN.push({name:s,popularity:Math.max(1,101-nP),popularityRank:nP,gender:r,origin:e[nP%e.length],meaning:"",type:"first",isPopular:nP<=100,countries:{},globalCountries:{},primaryCountry:"US",appearances:1,globalFrequency:Math.max(1,101-nP),popularityScore:Math.max(1,101-nP),globalPopularityScore:Math.max(1,101-nP),searchPriority:0})}let IN=[...TN];(new Date).toISOString();let NN=null,_N=!1;const AN=async()=>{if(IN.length>500)return console.log("\u2705 Database already loaded: ".concat(IN.length," names")),IN;if(NN)return await NN,IN;if(_N){for(;_N;)await new Promise(e=>setTimeout(e,100));return IN}return _N=!0,console.log("\ud83d\udcca Loading names database from /data/popularNames_cache.json..."),console.log("\ud83d\udcca Starting with ".concat(IN.length," fallback names for instant display")),NN=fetch("".concat("/babyname2","/data/popularNames_cache.json")).then(e=>{if(console.log("\ud83d\udcca Fetch response status: ".concat(e.status)),!e.ok)throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText));return e.json()}).then(e=>{console.log("\ud83d\udcca Received data, checking structure..."),e&&e.names&&Array.isArray(e.names)?(IN=e.names,console.log("\u2705 Successfully loaded ".concat(IN.length," names from popularNames_cache.json!"))):Array.isArray(e)?(IN=e,console.log("\u2705 Successfully loaded ".concat(IN.length," names (direct array)!"))):(console.error("\u274c Invalid database structure:",Object.keys(e||{})),console.log("\u26a1 Keeping ".concat(IN.length," fallback names"))),_N=!1}).catch(e=>{console.error("\u274c Failed to load database:",e.message),console.log("\u26a1 Using ".concat(IN.length," fallback names")),_N=!1}),await NN,IN};AN(),console.log("\ud83d\udcca Loading 10,000 curated baby names...");const PN=new class{constructor(){this.allNames=[],this.loadedChunks=new Set,this.index=null,this.isLoadingCore=!1,this.isLoadingChunk={},this.allNames=[...TN],console.log("\u26a1 ChunkedDatabaseService: ".concat(this.allNames.length," fallback names ready")),this.loadCore()}async loadIndex(){if(!this.index)try{console.log("\ud83d\udcc7 Loading database index...");const e=await fetch("".concat("/babyname2","/data/names-index.json"));if(!e.ok)throw new Error("HTTP ".concat(e.status));const t=await e.json();this.index=t,console.log("\u2705 Index loaded: ".concat(t.totalNames.toLocaleString()," total names in ").concat(Object.keys(t.chunks).length," chunks"))}catch(e){console.error("\u274c Failed to load index:",e),this.index=null}}async loadCore(){if(!this.isLoadingCore&&!this.loadedChunks.has("core")){this.isLoadingCore=!0;try{console.log("\u26a1 Loading core chunk (top 1000 names)..."),await this.loadIndex();const e=await fetch("".concat("/babyname2","/data/names-core.json"));if(!e.ok)throw new Error("HTTP ".concat(e.status));const t=(await e.json()).names||[];this.allNames=t,this.loadedChunks.add("core"),console.log("\u2705 Core chunk loaded: ".concat(t.length," names"))}catch(e){console.error("\u274c Failed to load core chunk:",e)}finally{this.isLoadingCore=!1}}}async loadChunk(e){if(!this.loadedChunks.has(e)&&!this.isLoadingChunk[e]){this.isLoadingChunk[e]=!0;try{if(console.log("\ud83d\udce6 Loading ".concat(e,"...")),this.index||await this.loadIndex(),!this.index)throw new Error("Index not available");const t=this.index.chunks[e];if(!t)throw new Error("Chunk ".concat(e," not found in index"));const n=await fetch("".concat("/babyname2","/data/").concat(t.file));if(!n.ok)throw new Error("HTTP ".concat(n.status));const r=(await n.json()).names||[],i=new Set(this.allNames.map(e=>e.name.toLowerCase())),s=r.filter(e=>!i.has(e.name.toLowerCase()));this.allNames=[...this.allNames,...s],this.loadedChunks.add(e),console.log("\u2705 ".concat(e," loaded: ").concat(r.length," names (total: ").concat(this.allNames.length,")"))}catch(t){console.error("\u274c Failed to load ".concat(e,":"),t)}finally{this.isLoadingChunk[e]=!1}}}async loadAllChunks(){if(this.index||await this.loadIndex(),!this.index)return void console.error("\u274c Cannot load chunks: index not available");const e=Object.keys(this.index.chunks).filter(e=>"core"!==e);for(const t of e)this.loadedChunks.has(t)||await this.loadChunk(t);console.log("\u2705 All chunks loaded! Total: ".concat(this.allNames.length," names"))}getAllNames(){return this.allNames}getTotalNamesCount(){var e;return(null===(e=this.index)||void 0===e?void 0:e.totalNames)||this.allNames.length}getStatus(){var e;return{loadedNames:this.allNames.length,totalNames:(null===(e=this.index)||void 0===e?void 0:e.totalNames)||this.allNames.length,loadedChunks:this.loadedChunks.size,totalChunks:this.index?Object.keys(this.index.chunks).length:1}}};const DN=new class{constructor(){this.allNames=[],this.loading=!1,this.loaded=!1,this.cachedConversions=new Map,this.emergencyFallbackNames=TN,this.allNames=PN.getAllNames(),console.log("\u26a1 NameService initialized with ".concat(this.allNames.length," names from chunked service")),this.initializeDatabase(),this.loadAllChunksInBackground()}async initializeDatabase(){this.loading=!0;try{console.log("\ud83d\udcca Starting background database load...");const e=await AN();e&&e.length>this.allNames.length?(this.allNames=e,console.log("\u2705 Database upgraded: ".concat(this.allNames.length," names now available"))):console.log("\u26a1 Keeping fallback: ".concat(this.allNames.length," names (fetch returned ").concat((null===e||void 0===e?void 0:e.length)||0,")")),this.loaded=!0}catch(e){console.error("\u274c Failed to load database, keeping emergency fallback:",e),this.loaded=!0}this.loading=!1}async loadAllChunksInBackground(){try{console.log("\ud83d\udd04 Starting progressive chunk loading in background..."),await PN.loadAllChunks(),this.allNames=PN.getAllNames(),console.log("\u2705 All chunks loaded! ".concat(this.allNames.length," names now available"))}catch(e){console.error("\u274c Error loading chunks:",e)}}async loadFullDatabase(){this.allNames.length>=2e5?console.log("\u2705 Database already loaded: ".concat(this.allNames.length," names")):(await this.initializeDatabase(),await this.loadAllChunksInBackground())}getDatabaseInfo(){return{mode:"Direct Database Load",totalNames:this.allNames.length}}async searchNames(e){if(!e)return[];const t=e.toLowerCase(),n=[],r=[],i=[];for(const s of this.allNames){const e=s.name.toLowerCase();e===t?n.push(s):e.startsWith(t)?r.push(s):e.includes(t)&&i.push(s)}return n.sort((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase())),r.sort((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase())),i.sort((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase())),[...n,...r,...i].slice(0,100)}getTotalNames(){return this.allNames.length}getAllNames(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25e4;const t=Math.min(e,this.allNames.length);return console.log("\ud83d\udcca Returning ".concat(t," names from database of ").concat(this.allNames.length," total names")),this.allNames.slice(0,t)}getPopularNames(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;const t=Math.min(e,this.allNames.length);return[...this.allNames].sort((e,t)=>(e.popularityRank||999999)-(t.popularityRank||999999)).slice(0,t)}getNamesByCountry(e){return this.allNames.filter(t=>t.primaryCountry===e)}getNamesByGender(e){return this.allNames.filter(t=>{if("object"===typeof t.gender){const n=t.gender.Male||0,r=t.gender.Female||0;return"unisex"===e?this.isUnisexName(t):"male"===e?n>r:r>n}return!1})}isUnisexName(e){if(void 0!==e.isUnisex)return e.isUnisex;if("object"===typeof e.gender&&e.gender){const t=e.gender.Male||0,n=t+(e.gender.Female||0);if(0===n)return!1;const r=t/n,i=.35;return r>=i&&r<=1-i}return!1}getUnisexScore(e){if(void 0!==e.unisexScore)return e.unisexScore;if("object"===typeof e.gender&&e.gender){const t=e.gender.Male||0,n=t+(e.gender.Female||0);if(0===n)return 0;const r=t/n;return 1-2*Math.abs(.5-r)}return 0}getOrigins(){const e=new Set(this.allNames.map(e=>e.origin||"unknown"));return Array.from(e)}getCountries(){const e=new Set;return this.allNames.forEach(t=>{t.primaryCountry&&e.add(t.primaryCountry)}),Array.from(e)}getGenderCounts(){let e=0,t=0,n=0;return this.allNames.forEach(r=>{if(this.isUnisexName(r))n++;else if("object"===typeof r.gender&&r.gender){const n=r.gender.Male||0,i=r.gender.Female||0;n>i?e++:i>n&&t++}}),{total:this.allNames.length,male:e,female:t,unisex:n}}getFilteredCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",n=this.allNames;return e&&(n=n.filter(t=>t.name.toLowerCase().includes(e.toLowerCase()))),"all"!==t&&(n=n.filter(e=>{if("unisex"===t)return this.isUnisexName(e);if("object"===typeof e.gender&&e.gender){const n=(e.gender.Male||0)>(e.gender.Female||0);return"male"===t?n:!n}return!1})),n.length}async getNameDetails(e){return this.allNames.find(t=>t.name.toLowerCase()===e.toLowerCase())}getPopularCount(){return this.allNames.filter(e=>e.isPopular).length}async loadMore(){console.log("\ud83d\udcca All ".concat(this.allNames.length," names already loaded"))}},RN=DN;const MN=new class{constructor(){this.UNISEX_THRESHOLD=.35,this.STRONG_UNISEX_THRESHOLD=.45,this.BATCH_SIZE=50,this.processingQueue=[],this.isProcessing=!1,this.processedNames=new Map,this.storageKey="unisexAnalysis_v1",this.progressCallback=void 0,this.updateCallback=void 0,this.KNOWN_UNISEX_NAMES=new Set(["alex","jordan","taylor","morgan","casey","riley","avery","jamie","cameron","drew","dakota","sage","quinn","reese","rowan","finley","hayden","emerson","river","phoenix","charlie","blake","parker","peyton","sawyer","remy","skyler","jesse","kai","robin","sam","sydney","bailey","angel","kendall","micah","ash","august","jules"]),this.loadFromStorage()}loadFromStorage(){try{const e=localStorage.getItem(this.storageKey);if(e){const t=JSON.parse(e);this.processedNames=new Map(t.entries||[]),console.log("Loaded ".concat(this.processedNames.size," unisex analyses from storage"))}}catch(e){console.error("Failed to load unisex analyses:",e)}}saveToStorage(){try{const e={entries:Array.from(this.processedNames.entries()),timestamp:Date.now()};localStorage.setItem(this.storageKey,JSON.stringify(e))}catch(e){console.error("Failed to save unisex analyses:",e)}}analyzeUnisexName(e){const t=this.processedNames.get(e.name.toLowerCase());if(t)return t;let n=!1,r=0,i=.8,s="";if(this.KNOWN_UNISEX_NAMES.has(e.name.toLowerCase())&&(n=!0,i=.95,s="Culturally recognized unisex name"),"object"===typeof e.gender&&e.gender){const t=e.gender.Male||0,o=t+(e.gender.Female||0);if(o>0){const e=t/o;r=1-2*Math.abs(.5-e),e>=this.UNISEX_THRESHOLD&&e<=1-this.UNISEX_THRESHOLD?(n=!0,e>=this.STRONG_UNISEX_THRESHOLD&&e<=1-this.STRONG_UNISEX_THRESHOLD?(i=.9,s="Strong unisex distribution (".concat(Math.round(100*e),"% male, ").concat(Math.round(100*(1-e)),"% female)")):(i=.75,s="Moderate unisex distribution (".concat(Math.round(100*e),"% male, ").concat(Math.round(100*(1-e)),"% female)"))):s="Gender-specific distribution (".concat(Math.round(100*e),"% male, ").concat(Math.round(100*(1-e)),"% female)")}}const o=e.name.toLowerCase();!n&&(o.endsWith("ley")||o.endsWith("lee")||o.endsWith("ly")||o.endsWith("en")&&o.length>4)&&r>.2&&(n=!0,i=.65,s="Pattern suggests potential unisex usage");const a={name:e.name,isUnisex:n,unisexScore:r,confidence:i,reason:s};return this.processedNames.set(e.name.toLowerCase(),a),a}async processBatch(e){const t=[];for(const n of e){const e=this.analyzeUnisexName(n);t.push(e)}return this.saveToStorage(),this.updateCallback&&this.updateCallback(t),t}async processQueue(){if(this.isProcessing||0===this.processingQueue.length)return;this.isProcessing=!0;const e=this.processingQueue.length;let t=0;for(;this.processingQueue.length>0;){const n=this.processingQueue.splice(0,this.BATCH_SIZE);await this.processBatch(n),t+=n.length,this.progressCallback&&this.progressCallback(t,e),await new Promise(e=>setTimeout(e,10))}this.isProcessing=!1,console.log("Completed processing ".concat(t," names for unisex identification"))}queueNames(e){const t=e.filter(e=>!this.processedNames.has(e.name.toLowerCase()));this.processingQueue.push(...t),console.log("Queued ".concat(t.length," names for unisex analysis")),this.processQueue()}setProgressCallback(e){this.progressCallback=e}setUpdateCallback(e){this.updateCallback=e}getAnalysis(e){return this.processedNames.get(e.toLowerCase())}getAllAnalyses(){return this.processedNames}clearCache(){this.processedNames.clear(),localStorage.removeItem(this.storageKey),console.log("Cleared unisex analysis cache")}getStatistics(){const e=Array.from(this.processedNames.values()),t=e.filter(e=>e.isUnisex);return{totalProcessed:e.length,unisexCount:t.length,unisexPercentage:e.length>0?t.length/e.length*100:0,averageUnisexScore:t.length>0?t.reduce((e,t)=>e+t.unisexScore,0)/t.length:0}}},LN=MN;const ON=new class{constructor(){this.isInitialized=!1,this.processingStarted=!1}async initialize(){if(this.isInitialized)return;console.log("\ud83d\udd04 Initializing unisex service...");const e=RN.getAllNames();LN.setUpdateCallback(t=>{t.forEach(t=>{const n=e.find(e=>e.name===t.name);n&&(n.isUnisex=t.isUnisex,n.unisexScore=t.unisexScore)}),console.log("\u2705 Updated ".concat(t.length," names with unisex information"))}),LN.setProgressCallback((e,t)=>{console.log("\u23f3 Unisex processing: ".concat(e,"/").concat(t," names (").concat(Math.round(e/t*100),"%)"))}),this.isInitialized=!0}async startProcessing(){if(this.isInitialized||await this.initialize(),this.processingStarted)return void console.log("\u26a0\ufe0f Unisex processing already in progress");this.processingStarted=!0,console.log("\ud83d\ude80 Starting unisex name processing...");const e=RN.getAllNames();LN.queueNames(e);const t=LN.getStatistics();console.log("\ud83d\udcca Unisex Statistics:",t)}getStatistics(){return LN.getStatistics()}isUnisex(e){const t=LN.getAnalysis(e.name);return t?t.isUnisex:RN.isUnisexName(e)}getUnisexScore(e){const t=LN.getAnalysis(e.name);return t?t.unisexScore:RN.getUnisexScore(e)}clearCache(){LN.clearCache(),this.processingStarted=!1,console.log("\ud83d\uddd1\ufe0f Cleared unisex cache")}processName(e){const t=LN.analyzeUnisexName(e);return e.isUnisex=t.isUnisex,e.unisexScore=t.unisexScore,t}},FN=zb("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),jN=zb("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),VN=["Hebrew","Greek","Latin","Arabic","Germanic","Celtic","English","French","Spanish","Italian","Irish","Scottish","Welsh","Norse","Russian","Polish","Dutch","Portuguese","Indian","Japanese","Chinese","Korean","African","Persian","Turkish","Hawaiian","Native-American","Biblical","Slavic","Modern"];const UN=new class{constructor(){this.apiKey=void 0,this.baseUrl="https://api.anthropic.com/v1/messages",this.model="claude-3-haiku-20240307",this.apiKey={NODE_ENV:"production",PUBLIC_URL:"/babyname2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NAME:"New Baby Name",REACT_APP_VERSION:"2.0.0",REACT_APP_BASE_URL:"http://localhost:3000",REACT_APP_API_URL:"http://localhost:5000",REACT_APP_GOOGLE_API_KEY:"AIzaSyALzy3qXMyXPtLl7pUuCDo_eE5X89u3dpA",REACT_APP_GEMINI_API_KEY:"AIzaSyALzy3qXMyXPtLl7pUuCDo_eE5X89u3dpA",REACT_APP_YOUTUBE_API_KEY:"AIzaSyALzy3qXMyXPtLl7pUuCDo_eE5X89u3dpA",REACT_APP_GOOGLE_ANALYTICS_ID:"GA-XXXXXXXXX",REACT_APP_GOOGLE_CLIENT_ID:"1093132372253-a725n8gpe624usli0hnj3re1eicgi4o2.apps.googleusercontent.com",REACT_APP_GOOGLE_CLIENT_SECRET:"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",REACT_APP_OAUTH_REDIRECT_URI_DEV:"http://localhost:3000/auth/callback",REACT_APP_OAUTH_REDIRECT_URI_PROD:"https://amirchason.github.io/babyname2",REACT_APP_USE_LOCAL_DB:"true",REACT_APP_LOCAL_DB_PATH:"/data/names.json",REACT_APP_API_DB_URL:"https://api.babynames.com",REACT_APP_API_DB_KEY:"",REACT_APP_ENABLE_SCRAPING:"true",REACT_APP_ENABLE_AI_CHAT:"true",REACT_APP_ENABLE_BLOG:"false",REACT_APP_ENABLE_FAVORITES:"true",REACT_APP_SCRAPE_WIKIPEDIA:"true",REACT_APP_SCRAPE_YOUTUBE:"true",REACT_APP_SCRAPE_IMDB:"true",REACT_APP_SCRAPE_BIBLE_API:"true",REACT_APP_SCRAPE_DELAY:"1000",REACT_APP_SCRAPE_MAX_RETRIES:"3",REACT_APP_CACHE_DURATION:"3600000",REACT_APP_USE_SERVICE_WORKER:"true",REACT_APP_PRIMARY_COLOR:"#D8B2F2",REACT_APP_SECONDARY_COLOR:"#FFB3D9",REACT_APP_ACCENT_COLOR:"#B3D9FF",REACT_APP_MAX_TRENDING_NAMES:"6",REACT_APP_MAX_POPULAR_NAMES:"8",REACT_APP_NAMES_PER_PAGE:"20",REACT_APP_DEBUG_MODE:"false",REACT_APP_LOG_LEVEL:"info",REACT_APP_SENTRY_DSN:"",REACT_APP_HOMEPAGE:"https://amirchason.github.io/babyname2"}.REACT_APP_CLAUDE_API_KEY||""}async analyzeName(e){return this.generateSmartFallback(e)}async analyzeNamesBatch(e){const t=[];for(const n of e){const e=await this.analyzeName(n);t.push(e),await this.delay(100)}return t}generateSmartFallback(e){return{name:e,meaning:this.generateMeaning(e),origin:this.detectOrigin(e)}}generateMeaning(e){const t=e.toLowerCase(),n={al:"noble bright",ben:"son blessed",el:"god divine",mar:"sea star",ros:"rose beautiful",sam:"heard god",dan:"judge wise",mic:"who like god",joh:"god gracious",will:"determined protector",rob:"bright fame",rich:"powerful ruler",alex:"defender protector",christ:"bearer anointed",paul:"small humble",peter:"rock steadfast",david:"beloved friend",mary:"wished child",anna:"grace favor",emma:"whole universal",olivia:"olive peace",sophia:"wisdom knowledge",ava:"life bird",mia:"mine beloved",charlotte:"free strong",amelia:"work industrious",bella:"beautiful lovely",lynn:"lake waterfall",rose:"flower bloom",grace:"divine elegance",hope:"optimistic faith",joy:"happiness delight",elle:"light bright",ette:"little feminine",ina:"pure clean",ley:"meadow clearing",ton:"town settlement",son:"descendant heir",ian:"god gracious",iel:"god divine",bert:"bright noble",ward:"guardian protector",ford:"crossing river"},r={muhammad:"praised worthy",noah:"rest comfort",liam:"strong warrior",olivia:"olive peace",emma:"whole universal",ava:"life bird",sophia:"wisdom wise",isabella:"devoted god",mason:"stone worker",william:"resolute protector",james:"supplanter follower",benjamin:"right hand",lucas:"light giving",henry:"home ruler",alexander:"defender mankind",michael:"who like god",ethan:"strong firm",daniel:"god judge",matthew:"gift god",jackson:"son jack",emily:"rival industrious",elizabeth:"god oath",mia:"mine beloved",ella:"light fairy",harper:"harp player",luna:"moon celestial",grace:"divine favor",chloe:"blooming green",lily:"pure flower",madison:"warrior strong"};if(r[t])return r[t];for(const[i,s]of Object.entries(n))if(t.includes(i))return s;return t.match(/^[aeiou]/)?e.length<=4?"pure gentle soul":e.length<=6?"peaceful harmonious spirit":"graceful melodious beauty":t.match(/[xyz]/)?"unique modern spirit":e.length<=3?"strong brief power":e.length<=5?"simple pure grace":e.length<=7?"noble complete harmony":"distinguished elegant refined"}detectOrigin(e){const t=e.toLowerCase();return t.match(/^mc|^mac|^o'/)?"Celtic":t.match(/ovich$|ovna$|ski$|sky$/)?"Slavic":t.match(/sen$|son$|sson$/)?"Norse":t.match(/ez$|iz$|oz$/)?"Spanish":t.match(/ini$|elli$|etti$/)?"Italian":t.match(/eau$|oux$|ette$/)?"French":t.match(/stein$|berg$|mann$/)?"Germanic":t.match(/^al-|^abdul|^muhammad/)?"Arabic":t.match(/opoulos$|ides$|akis$/)?"Greek":t.match(/yan$|ian$|yan$/)?"Persian":t.match(/enko$|uk$|chuk$/)?"Russian":t.match(/wicz$|czyk$|ski$/)?"Polish":t.match(/^van |^de |^den /)?"Dutch":t.match(/eira$|eiro$/)?"Portuguese":t.match(/^kim|^park|^lee$/)?"Korean":t.match(/^wang|^zhang|^li$/)?"Chinese":t.match(/^tanaka|^yamamoto|^suzuki$/)?"Japanese":t.match(/kumar$|singh$|patel$/)?"Indian":t.match(/lani$|koa$|kai$/)?"Hawaiian":["david","sarah","rebecca","jacob","rachel","abraham","isaac","moses"].includes(t)?"Biblical":t.match(/^el|iel$|yah$|^ben|^bat/)?"Hebrew":t.match(/us$|ius$|ia$|ina$/)?"Latin":t.match(/^[aeiou]/)?Math.random()>.5?"Greek":"Latin":t.match(/[xyz]|qq|xx/)?"Modern":"English"}delay(e){return new Promise(t=>setTimeout(t,e))}isConfigured(){return!!this.apiKey}};const zN=new class{constructor(){this.isProcessing=!1,this.shouldStop=!1,this.processedCount=0,this.errorCount=0,this.currentName=null,this.database=[],this.onProgress=void 0,this.batchSize=10,this.processedNames=new Set,console.log("Name Enrichment Agent initialized"),this.loadProgress()}setProgressCallback(e){this.onProgress=e}async loadDatabase(e){this.database=e.map(e=>{const t=this.database.find(t=>t.name===e.name);return{name:e.name,meaning:(null===t||void 0===t?void 0:t.meaning)||e.meaning,origin:(null===t||void 0===t?void 0:t.origin)||e.origin,culturalContext:null===t||void 0===t?void 0:t.culturalContext,enriched:(null===t||void 0===t?void 0:t.enriched)||!!e.meaning||!1,enrichedAt:(null===t||void 0===t?void 0:t.enrichedAt)||e.enrichedAt,processingStatus:(null===t||void 0===t?void 0:t.processingStatus)||(e.meaning?"completed":"pending")}}),console.log("Loaded ".concat(this.database.length," names into enrichment agent"))}async start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1?arguments[1]:void 0;if(this.isProcessing)return void console.log("Agent is already processing");this.isProcessing=!0,this.shouldStop=!1,this.processedCount=0,this.errorCount=0,console.log("Starting enrichment for up to ".concat(e," names...")),this.emitProgress("Initializing enrichment process...");let n=this.database.filter(e=>!e.enriched||"pending"===e.processingStatus);if(t&&t.length>0){const e=new Set(t.map(e=>e.toLowerCase()));n=[...n.filter(t=>e.has(t.name.toLowerCase())),...n.filter(t=>!e.has(t.name.toLowerCase()))]}n=n.slice(0,e),console.log("Found ".concat(n.length," names to enrich"));for(let i=0;i<n.length;i+=this.batchSize){if(this.shouldStop){console.log("Stopping enrichment process...");break}const e=n.slice(i,i+this.batchSize);await this.processBatch(e)}this.isProcessing=!1,this.emitProgress("Enrichment process complete"),this.saveProgress();const r={processed:this.processedCount,errors:this.errorCount,total:n.length};return console.log("Enrichment complete. Processed: ".concat(r.processed,", Errors: ").concat(r.errors)),r}async processBatch(e){console.log("Processing batch of ".concat(e.length," names..."));const t=e.map(e=>this.processName(e));await Promise.all(t)}async processName(e){this.currentName=e.name,this.emitProgress("Enriching: ".concat(e.name)),e.processingStatus="processing";try{const t=await UN.analyzeName(e.name);e.meaning=t.meaning;const n=this.mapToValidOrigin(t.origin);e.origin=n,e.culturalContext=t.culturalContext,e.enriched=!0,e.enrichedAt=(new Date).toISOString(),e.processingStatus="completed",this.processedCount++,this.processedNames.add(e.name),console.log('\u2713 Enriched "'.concat(e.name,'": ').concat(e.meaning," (").concat(e.origin,")")),this.emitProgress("Completed: ".concat(e.name))}catch(t){this.errorCount++,e.processingStatus="failed",e.errorMessage=t instanceof Error?t.message:"Unknown error",console.error('\u2717 Failed to enrich "'.concat(e.name,'":'),t),this.emitProgress("Error: Failed to process ".concat(e.name))}}stop(){this.shouldStop=!0,this.isProcessing=!1,console.log("Stopping enrichment agent..."),this.saveProgress()}getStatus(){const e=this.database.length,t=this.database.filter(e=>e.enriched).length,n=this.database.filter(e=>!e.enriched||"pending"===e.processingStatus).length,r=e>0?Math.round(t/e*100):0;return{isProcessing:this.isProcessing,currentName:this.currentName,processedCount:this.processedCount,errorCount:this.errorCount,totalCount:e,unprocessedCount:n,progressPercentage:r,message:this.isProcessing?"Processing ".concat(this.currentName,"..."):"Idle"}}emitProgress(e){const t=this.getStatus();t.message=e,this.onProgress&&this.onProgress(t)}getEnrichedNames(){return this.database.filter(e=>e.enriched)}getDatabase(){return this.database}saveProgress(){try{const e={processedNames:Array.from(this.processedNames),enrichedData:this.getEnrichedNames(),timestamp:(new Date).toISOString()};localStorage.setItem("nameEnrichmentProgress",JSON.stringify(e)),console.log("Saved enrichment progress: ".concat(this.processedNames.size," names"))}catch(e){console.error("Failed to save progress:",e)}}loadProgress(){try{const e=localStorage.getItem("nameEnrichmentProgress");if(e){const t=JSON.parse(e);this.processedNames=new Set(t.processedNames),console.log("Loaded enrichment progress: ".concat(this.processedNames.size," names"))}}catch(e){console.error("Failed to load progress:",e)}}clearProgress(){this.processedNames.clear(),this.database.forEach(e=>{e.enriched=!1,e.processingStatus="pending",delete e.meaning,delete e.origin,delete e.culturalContext,delete e.enrichedAt}),localStorage.removeItem("nameEnrichmentProgress"),console.log("Cleared all enrichment progress")}getStatistics(){const e={},t=this.getEnrichedNames();return t.forEach(t=>{t.origin&&(e[t.origin]=(e[t.origin]||0)+1)}),{totalNames:this.database.length,enrichedCount:t.length,pendingCount:this.database.filter(e=>!e.enriched).length,errorCount:this.database.filter(e=>"failed"===e.processingStatus).length,originDistribution:e,completionPercentage:Math.round(t.length/this.database.length*100)}}mapToValidOrigin(e){if(!e)return"Modern";const t=e.toLowerCase();return"hebrew"===t?"Hebrew":"greek"===t?"Greek":"latin"===t?"Latin":"arabic"===t?"Arabic":"germanic"===t?"Germanic":"celtic"===t?"Celtic":"english"===t?"English":"french"===t?"French":"spanish"===t?"Spanish":"italian"===t?"Italian":"irish"===t?"Irish":"scottish"===t?"Scottish":"welsh"===t?"Welsh":"norse"===t?"Norse":"russian"===t?"Russian":"polish"===t?"Polish":"dutch"===t?"Dutch":"portuguese"===t?"Portuguese":"indian"===t?"Indian":"japanese"===t?"Japanese":"chinese"===t?"Chinese":"korean"===t?"Korean":"african"===t?"African":"persian"===t?"Persian":"turkish"===t?"Turkish":"hawaiian"===t?"Hawaiian":"biblical"===t?"Biblical":"slavic"===t?"Slavic":t.includes("german")?"Germanic":t.includes("celt")?"Celtic":t.includes("scot")?"Scottish":t.includes("slav")?"Slavic":t.includes("america")||t.includes("native")?"Native-American":t.includes("bible")||t.includes("christian")?"Biblical":"Modern"}};const BN=new class{constructor(){this.enrichedNames=new Map,this.isInitialized=!1,this.storageKey="nameEnrichment_v2",this.databaseUpdateCallback=void 0,this.autoProcessing=!1,this.processingInterval=void 0,this.loadFromStorage()}async initialize(e){console.log("Initializing enrichment service...");const t=e.map(e=>{const t=this.enrichedNames.get(e.name);return{name:e.name,meaning:(null===t||void 0===t?void 0:t.meaning)||e.meaning,origin:(null===t||void 0===t?void 0:t.origin)||e.origin,culturalContext:null===t||void 0===t?void 0:t.culturalContext,enriched:(null===t||void 0===t?void 0:t.enriched)||!1,enrichedAt:null===t||void 0===t?void 0:t.enrichedAt}});await zN.loadDatabase(t),t.forEach(e=>{this.enrichedNames.set(e.name,e)}),this.isInitialized=!0,console.log("Enrichment service initialized with ".concat(t.length," names")),this.startBackgroundProcessing(),this.autoProcessing&&!zN.getStatus().isProcessing&&setTimeout(()=>this.startProcessing(100),2e3)}startBackgroundProcessing(){this.processingInterval=setInterval(()=>{const e=zN.getStatus();!e.isProcessing&&e.unprocessedCount>0&&this.isInitialized&&this.autoProcessing&&(console.log("Auto-starting background enrichment..."),this.startProcessing(20))},1e4)}setDatabaseUpdateCallback(e){this.databaseUpdateCallback=e}async startProcessing(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1?arguments[1]:void 0;if(!this.isInitialized)return console.error("Service not initialized"),{processed:0,errors:0,total:0};zN.setProgressCallback(t=>{if(console.log("Enrichment: ".concat(t.message," (").concat(t.processedCount,"/").concat(e,") - ").concat(t.progressPercentage,"% complete")),t.processedCount>0&&t.processedCount%5===0&&(this.saveProgress(),this.databaseUpdateCallback)){const e=Array.from(this.enrichedNames.values()).filter(e=>e.enriched);this.databaseUpdateCallback(e)}});const n=await zN.start(e,t);if(this.saveProgress(),this.databaseUpdateCallback){const e=Array.from(this.enrichedNames.values()).filter(e=>e.enriched);this.databaseUpdateCallback(e)}return n}saveProgress(){zN.getEnrichedNames().forEach(e=>{this.enrichedNames.set(e.name,e)}),this.saveToStorage()}getNameData(e){return this.enrichedNames.get(e)}getAllEnrichedNames(){return Array.from(this.enrichedNames.values()).filter(e=>e.enriched)}getStatus(){return zN.getStatus()}getStatistics(){return zN.getStatistics()}stopProcessing(){zN.stop(),this.saveProgress()}getAvailableOrigins(){return[...VN]}filterByOrigin(e,t){return 0===t.length?e:e.filter(e=>{const n=this.enrichedNames.get(e.name);return!(!n||!n.origin)&&t.includes(n.origin)})}getOriginDistribution(){const e={};return this.enrichedNames.forEach(t=>{t.origin&&(e[t.origin]=(e[t.origin]||0)+1)}),e}saveToStorage(){try{const e=Array.from(this.enrichedNames.values());localStorage.setItem(this.storageKey,JSON.stringify(e)),console.log("Saved ".concat(e.length," enriched names to storage"))}catch(e){console.error("Failed to save enriched names:",e)}}loadFromStorage(){try{const e=localStorage.getItem(this.storageKey);if(e){const t=JSON.parse(e);t.forEach(e=>{this.enrichedNames.set(e.name,e)}),console.log("Loaded ".concat(t.length," enriched names from storage"))}}catch(e){console.error("Failed to load enriched names:",e)}}clearEnrichmentData(){this.enrichedNames.clear(),localStorage.removeItem(this.storageKey),zN.clearProgress(),console.log("Cleared all enrichment data")}stopBackgroundProcessing(){this.processingInterval&&(clearInterval(this.processingInterval),this.processingInterval=void 0),this.autoProcessing=!1}enableBackgroundProcessing(){this.autoProcessing=!0,this.processingInterval||this.startBackgroundProcessing()}},HN=BN,qN=e=>{let{name:t,onClick:n,onFavoriteToggle:i,onDislikeToggle:s,filterContext:o="all",contextualRank:a}=e;const[l,c]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[d,f]=(0,r.useState)(t.meaning),[p,m]=(0,r.useState)(void 0),[g,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1),[w,x]=(0,r.useState)(null);(0,r.useEffect)(()=>{c(Mb.isFavorite(t.name)),h(Mb.isDisliked(t.name));const e=HN.getNameData(t.name);e?(f(e.meaning||t.meaning),m(e.origin),y(e.enriched||!1)):(f(t.meaning),m(void 0),y(!1))},[t.name,t.meaning]);const S="object"===typeof t.gender?t.gender:null,k=((null===S||void 0===S?void 0:S.Male)||0)>((null===S||void 0===S?void 0:S.Female)||0),E=k?"from-blue-400 to-blue-600":"from-pink-400 to-pink-600",C=k?"bg-blue-50":"bg-pink-50",T=k?"border-blue-200":"border-pink-200",I=k?"\u2642":"\u2640",N=t.popularityRank||999999,_=(A=N)<=10?Math.round(100-1*(A-1)):A<=100?Math.round(90-.22*(A-10)):A<=1e3?Math.round(70-.033*(A-100)):A<=1e4?Math.round(40-.0033*(A-1e3)):Math.max(1,Math.round(10-1e-4*(A-1e4)));var A;return(0,Wb.jsxs)(CN.div,{onClick:()=>n(t),className:"relative overflow-hidden rounded-xl ".concat(C," border ").concat(T,"\n                  hover:shadow-xl transform hover:scale-105\n                  cursor-pointer group"),style:{transition:v?"none":"all 200ms"},initial:"initial",animate:v?"left"===w?"flyLeft":"flyRight":"initial",variants:{initial:{x:0,rotate:0,opacity:1,scale:1},flyLeft:{x:-400,rotate:-30,opacity:0,scale:.7,transition:{duration:.12,ease:"easeOut"}},flyRight:{x:400,rotate:30,opacity:0,scale:.7,transition:{duration:.12,ease:"easeOut"}}},children:[(0,Wb.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br ".concat(E," opacity-5\n                       group-hover:opacity-10 transition-opacity")}),(0,Wb.jsx)("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,Wb.jsx)(hw,{className:"w-4 h-4 text-yellow-400/60 animate-pulse",strokeWidth:1.5})}),(0,Wb.jsxs)("div",{className:"relative p-6",children:[(0,Wb.jsxs)("div",{className:"mb-4",children:[(0,Wb.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,Wb.jsx)("div",{className:"px-3 py-1 rounded-full border border-gray-200 bg-white/40 text-gray-600 text-sm font-light",children:(()=>{const e=t.popularityRank||999999;switch(o){case"male":return"Boys #".concat(e);case"female":return"Girls #".concat(e);default:return"#".concat(e)}})()})}),(0,Wb.jsxs)("div",{className:"text-center",children:[(0,Wb.jsxs)("h3",{className:"text-2xl font-bold text-gray-800 flex justify-center items-center gap-2",children:[t.name,(0,Wb.jsx)("span",{className:"text-xl font-medium bg-gradient-to-r ".concat(E,"\n                             bg-clip-text text-transparent"),children:I})]}),d&&(0,Wb.jsx)("div",{className:"mt-3 px-3 py-2 bg-white/30 rounded-lg border border-white/50",children:(0,Wb.jsxs)("div",{className:"flex items-center gap-1 justify-center",children:[(0,Wb.jsx)(FN,{className:"w-3 h-3 text-gray-400",strokeWidth:1.5}),(0,Wb.jsxs)("span",{className:"text-sm font-light text-gray-600 italic",children:['"',d,'"']})]})}),p&&(0,Wb.jsxs)("div",{className:"mt-2 flex items-center justify-center gap-2",children:[(0,Wb.jsxs)("div",{className:"inline-flex items-center gap-1 px-3 py-1 bg-white/40 rounded-full border border-gray-200",children:[(0,Wb.jsx)(jN,{className:"w-3 h-3 text-gray-500",strokeWidth:1.5}),(0,Wb.jsx)("span",{className:"text-xs font-light text-gray-600",children:p})]}),g&&(0,Wb.jsx)("div",{className:"inline-flex items-center px-2 py-1 bg-white/40 rounded-full border border-gray-200",title:"AI Enriched",children:(0,Wb.jsx)(hw,{className:"w-3 h-3 text-gray-500",strokeWidth:1.5})})]})]})]}),(0,Wb.jsx)("div",{className:"mb-4 text-center",children:(0,Wb.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-white/40 rounded-full border border-gray-200",children:[(0,Wb.jsx)("span",{className:"text-sm font-light text-gray-600",children:"Popularity"}),(0,Wb.jsxs)("span",{className:"text-lg font-medium bg-gradient-to-r ".concat(E," bg-clip-text text-transparent"),children:[Math.round(_),"%"]})]})})]}),(0,Wb.jsxs)("div",{className:"absolute bottom-4 left-0 right-0 flex justify-between items-center px-4",children:[(0,Wb.jsx)("button",{onClick:e=>{e.stopPropagation(),x("left"),b(!0),requestAnimationFrame(()=>{Mb.toggleDislike(t.name),c(Mb.isFavorite(t.name)),h(Mb.isDisliked(t.name)),null===s||void 0===s||s()}),setTimeout(()=>{b(!1),x(null)},120)},className:"flex items-center justify-center w-14 h-14 rounded-full transition-all duration-300 ".concat(u?"bg-red-50 border-2 border-red-300 shadow-md":"bg-white border border-gray-200 shadow-sm hover:shadow-md hover:border-red-200"," transform hover:scale-105 active:scale-95"),title:u?"Remove from hidden":"Pass on this name",children:(0,Wb.jsx)(Kb,{className:"w-6 h-6 transition-all duration-300 ".concat(u?"text-red-400 stroke-[1.5]":"text-gray-400 hover:text-red-400 stroke-[1.5]")})}),(0,Wb.jsx)("button",{onClick:e=>{e.stopPropagation(),x("right"),b(!0),requestAnimationFrame(()=>{Mb.toggleFavorite(t.name),c(Mb.isFavorite(t.name)),h(Mb.isDisliked(t.name)),null===i||void 0===i||i()}),setTimeout(()=>{b(!1),x(null)},120)},className:"flex items-center justify-center w-14 h-14 rounded-full transition-all duration-300 ".concat(l?"bg-pink-50 border-2 border-pink-300 shadow-md":"bg-white border border-gray-200 shadow-sm hover:shadow-md hover:border-pink-200"," transform hover:scale-105 active:scale-95"),title:l?"Remove from favorites":"Love this name",children:(0,Wb.jsx)(nw,{className:"w-6 h-6 transition-all duration-300 ".concat(l?"text-pink-400 fill-pink-400 stroke-[1.5]":"text-gray-400 hover:text-pink-400 stroke-[1.5]")})})]})]})},GN=zb("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),KN=e=>{let{name:t,onClose:n}=e;const[i,s]=(0,r.useState)({});if((0,r.useEffect)(()=>{if(t){const e=HN.getNameData(t.name);e&&s(e)}},[t]),!t)return null;const o="object"===typeof t.gender?t.gender:null,a=((null===o||void 0===o?void 0:o.Male)||0)>((null===o||void 0===o?void 0:o.Female)||0),l=a?"from-blue-500 to-blue-700":"from-pink-500 to-pink-700",c=a?"bg-blue-50":"bg-pink-50";return(0,Wb.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center sm:p-4 bg-black bg-opacity-50",onClick:n,children:(0,Wb.jsxs)("div",{className:"relative max-w-2xl w-full h-full sm:h-auto ".concat(c," sm:rounded-3xl shadow-2xl\n                      transform animate-[fadeIn_0.3s_ease-out] overflow-y-auto"),onClick:e=>e.stopPropagation(),children:[(0,Wb.jsx)("button",{onClick:n,className:"absolute top-2 right-2 sm:top-4 sm:right-4 p-1.5 sm:p-2 rounded-full bg-white shadow-md hover:bg-gray-100 transition-colors z-10",children:(0,Wb.jsx)(Kb,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"})}),(0,Wb.jsxs)("div",{className:"relative h-24 sm:h-32 bg-gradient-to-br ".concat(l," sm:rounded-t-3xl overflow-hidden"),children:[(0,Wb.jsx)("div",{className:"absolute inset-0 bg-black opacity-20"}),(0,Wb.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:(0,Wb.jsx)("h2",{className:"text-3xl sm:text-5xl font-bold text-white drop-shadow-lg",children:t.name})}),(0,Wb.jsx)("div",{className:"absolute top-2 left-2 sm:top-4 sm:left-4",children:(0,Wb.jsxs)("span",{className:"px-2 py-0.5 sm:px-3 sm:py-1 bg-white bg-opacity-20 backdrop-blur-sm rounded-full text-white text-xs sm:text-sm font-medium",children:["Rank #",t.popularityRank]})})]}),(0,Wb.jsxs)("div",{className:"p-4 sm:p-8",children:[i.meaning&&(0,Wb.jsxs)("div",{className:"mb-4 sm:mb-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-200",children:[(0,Wb.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Wb.jsx)(FN,{className:"w-5 h-5 text-purple-600"}),(0,Wb.jsx)("h3",{className:"text-lg font-semibold text-purple-800",children:"Meaning"}),i.enriched&&(0,Wb.jsx)(hw,{className:"w-4 h-4 text-green-600"})]}),(0,Wb.jsxs)("p",{className:"text-lg italic text-gray-700",children:['"',i.meaning,'"']}),i.culturalContext&&(0,Wb.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:i.culturalContext})]}),(0,Wb.jsx)("div",{className:"mb-4 sm:mb-6 p-4 bg-white rounded-xl border border-gray-200",children:(0,Wb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Wb.jsxs)("div",{className:"text-center",children:[(0,Wb.jsx)(GN,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),(0,Wb.jsxs)("div",{className:"text-2xl font-bold text-gray-800",children:["#",t.popularityRank||"N/A"]}),(0,Wb.jsx)("div",{className:"text-sm text-gray-500",children:"Global Rank"})]}),(0,Wb.jsxs)("div",{className:"text-center",children:[(0,Wb.jsx)(jN,{className:"w-8 h-8 text-indigo-500 mx-auto mb-2"}),(0,Wb.jsx)("div",{className:"text-xl font-bold text-gray-800 capitalize",children:i.origin||t.origin||"Unknown"}),(0,Wb.jsx)("div",{className:"text-sm text-gray-500",children:"Origin"})]})]})}),(0,Wb.jsxs)("div",{className:"mb-4 sm:mb-6",children:[(0,Wb.jsxs)("h3",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3 flex items-center gap-2",children:[(0,Wb.jsx)(nw,{className:"w-4 h-4 sm:w-5 sm:h-5 text-pink-500"}),"Gender Distribution"]}),(0,Wb.jsxs)("div",{className:"flex gap-3 sm:gap-4 items-center",children:[(0,Wb.jsxs)("div",{className:"flex-1",children:[(0,Wb.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,Wb.jsx)("span",{className:"text-xs sm:text-sm text-gray-600",children:"Male"}),(0,Wb.jsxs)("span",{className:"text-xs sm:text-sm font-medium",children:[Math.round(100*((null===o||void 0===o?void 0:o.Male)||0)),"%"]})]}),(0,Wb.jsx)("div",{className:"h-2 sm:h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,Wb.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-400 to-blue-600",style:{width:"".concat(100*((null===o||void 0===o?void 0:o.Male)||0),"%")}})})]}),(0,Wb.jsxs)("div",{className:"flex-1",children:[(0,Wb.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,Wb.jsx)("span",{className:"text-xs sm:text-sm text-gray-600",children:"Female"}),(0,Wb.jsxs)("span",{className:"text-xs sm:text-sm font-medium",children:[Math.round(100*((null===o||void 0===o?void 0:o.Female)||0)),"%"]})]}),(0,Wb.jsx)("div",{className:"h-2 sm:h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,Wb.jsx)("div",{className:"h-full bg-gradient-to-r from-pink-400 to-pink-600",style:{width:"".concat(100*((null===o||void 0===o?void 0:o.Female)||0),"%")}})})]})]})]})]})]})})},WN=zb("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),XN=e=>{let{onClose:t,onComplete:n}=e;const[i,s]=(0,r.useState)("gender"),[o,a]=(0,r.useState)("all"),l=e=>{a(e),setTimeout(()=>{s("complete")},300)};return(0,Wb.jsxs)("div",{className:"fixed inset-0 z-50 bg-gradient-to-br from-purple-900 via-pink-900 to-red-900",children:[(0,Wb.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,Wb.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),(0,Wb.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),(0,Wb.jsx)("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-red-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),(0,Wb.jsx)("button",{onClick:t,className:"absolute top-8 right-8 z-60 p-3 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-white/30 transition-all",children:(0,Wb.jsx)(Kb,{className:"w-6 h-6"})}),(0,Wb.jsx)("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-8",children:(0,Wb.jsxs)("div",{className:"max-w-2xl w-full text-center",children:["gender"===i&&(0,Wb.jsxs)("div",{className:"animate-fadeIn",children:[(0,Wb.jsxs)("div",{className:"mb-12",children:[(0,Wb.jsx)("div",{className:"flex justify-center mb-6",children:(0,Wb.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-pink-400 to-red-400 rounded-full flex items-center justify-center animate-pulse",children:(0,Wb.jsx)(fw,{className:"w-10 h-10 text-white"})})}),(0,Wb.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"What are you looking for?"}),(0,Wb.jsx)("p",{className:"text-xl text-white/80 mb-8",children:"Let's find the perfect name for your little one \u2728"})]}),(0,Wb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Wb.jsxs)("button",{onClick:()=>l("male"),className:"group relative p-8 rounded-3xl backdrop-blur-md border-2 transition-all duration-300 transform hover:scale-105 ".concat("male"===o?"bg-blue-500/30 border-blue-300 shadow-lg shadow-blue-500/25":"bg-white/10 border-white/20 hover:bg-blue-500/20 hover:border-blue-300"),children:[(0,Wb.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udc76"}),(0,Wb.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Boy"}),(0,Wb.jsx)("p",{className:"text-white/70",children:"Strong and meaningful names for your little prince"}),"male"===o&&(0,Wb.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-blue-400/20 animate-pulse"})]}),(0,Wb.jsxs)("button",{onClick:()=>l("female"),className:"group relative p-8 rounded-3xl backdrop-blur-md border-2 transition-all duration-300 transform hover:scale-105 ".concat("female"===o?"bg-pink-500/30 border-pink-300 shadow-lg shadow-pink-500/25":"bg-white/10 border-white/20 hover:bg-pink-500/20 hover:border-pink-300"),children:[(0,Wb.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udc67"}),(0,Wb.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Girl"}),(0,Wb.jsx)("p",{className:"text-white/70",children:"Beautiful and elegant names for your little princess"}),"female"===o&&(0,Wb.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-pink-400/20 animate-pulse"})]}),(0,Wb.jsxs)("button",{onClick:()=>l("all"),className:"group relative p-8 rounded-3xl backdrop-blur-md border-2 transition-all duration-300 transform hover:scale-105 ".concat("all"===o?"bg-purple-500/30 border-purple-300 shadow-lg shadow-purple-500/25":"bg-white/10 border-white/20 hover:bg-purple-500/20 hover:border-purple-300"),children:[(0,Wb.jsx)("div",{className:"text-6xl mb-4",children:"\ud83e\udd37\u200d\u2640\ufe0f"}),(0,Wb.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"I Don't Know"}),(0,Wb.jsx)("p",{className:"text-white/70",children:"Explore all beautiful names and get surprised!"}),"all"===o&&(0,Wb.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-purple-400/20 animate-pulse"})]})]}),(0,Wb.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,Wb.jsx)("div",{className:"w-3 h-3 bg-white rounded-full"}),(0,Wb.jsx)("div",{className:"w-8 h-1 bg-white/30 rounded-full"}),(0,Wb.jsx)("div",{className:"w-3 h-3 bg-white/30 rounded-full"})]})]}),"complete"===i&&(0,Wb.jsxs)("div",{className:"animate-fadeIn",children:[(0,Wb.jsxs)("div",{className:"mb-12",children:[(0,Wb.jsx)("div",{className:"flex justify-center mb-6",children:(0,Wb.jsx)("div",{className:"w-24 h-24 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center animate-bounce",children:(0,Wb.jsx)(hw,{className:"w-12 h-12 text-white"})})}),(0,Wb.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Perfect! Let's Start Swiping! \ud83c\udf89"}),(0,Wb.jsx)("p",{className:"text-xl text-white/80 mb-8",children:"We've curated the perfect names based on your preferences"})]}),(0,Wb.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 mb-8 border border-white/20",children:[(0,Wb.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Your Preferences:"}),(0,Wb.jsx)("div",{className:"flex justify-center",children:(0,Wb.jsxs)("span",{className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full text-white font-bold",children:["male"===o&&(0,Wb.jsxs)(Wb.Fragment,{children:[(0,Wb.jsx)("span",{children:"\ud83d\udc76"}),(0,Wb.jsx)("span",{children:"Boy Names"})]}),"female"===o&&(0,Wb.jsxs)(Wb.Fragment,{children:[(0,Wb.jsx)("span",{children:"\ud83d\udc67"}),(0,Wb.jsx)("span",{children:"Girl Names"})]}),"all"===o&&(0,Wb.jsxs)(Wb.Fragment,{children:[(0,Wb.jsx)("span",{children:"\u2728"}),(0,Wb.jsx)("span",{children:"All Names"})]})]})})]}),(0,Wb.jsxs)("button",{onClick:()=>{n({gender:o}),t()},className:"group relative px-12 py-6 bg-gradient-to-r from-green-500 via-blue-500 to-purple-600 text-white rounded-full text-2xl font-bold shadow-2xl hover:shadow-blue-300/50 transform hover:scale-105 transition-all duration-300 border-4 border-white/20 hover:border-white/40",children:[(0,Wb.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Wb.jsx)(nw,{className:"w-8 h-8 animate-pulse",fill:"currentColor"}),(0,Wb.jsx)("span",{className:"text-white drop-shadow-lg",children:"Start Swiping Now!"}),(0,Wb.jsx)(WN,{className:"w-8 h-8 animate-bounce"})]}),(0,Wb.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-green-400 via-blue-400 to-purple-400 opacity-30 blur-xl group-hover:opacity-50 transition-opacity duration-300"})]})]})]})})]})};function YN(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=YN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function QN(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=YN(e))&&(r&&(r+=" "),r+=t);return r}const $N=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),s=i?$N(e.slice(1),i):void 0;if(s)return s;if(0===t.validators.length)return;const o=e.join("-");return null===(n=t.validators.find(e=>{let{validator:t}=e;return t(o)}))||void 0===n?void 0:n.classGroupId},JN=/^\[(.+)\]$/,ZN=e=>{if(JN.test(e)){const t=JN.exec(e)[1],n=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},e_=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)t_(n[i],r,i,t);return r},t_=(e,t,n,r)=>{e.forEach(e=>{if("string"===typeof e){return void((""===e?t:n_(t,e)).classGroupId=n)}if("function"===typeof e)return r_(e)?void t_(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(e=>{let[i,s]=e;t_(s,n_(t,i),n,r)})})},n_=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},r_=e=>e.isThemeGetter,i_=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},s_=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,i=0,s=0;for(let l=0;l<e.length;l++){let o=e[l];if(0===r&&0===i){if(":"===o){t.push(e.slice(s,l)),s=l+1;continue}if("/"===o){n=l;continue}}"["===o?r++:"]"===o?r--:"("===o?i++:")"===o&&i--}const o=0===t.length?e:e.substring(s),a=o_(o);return{modifiers:t,hasImportantModifier:a!==o,baseClassName:a,maybePostfixModifierPosition:n&&n>s?n-s:void 0}};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},o_=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,a_=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach(e=>{"["===e[0]||t[e]?(n.push(...r.sort(),e),r=[]):r.push(e)}),n.push(...r.sort()),n}},l_=e=>u({cache:i_(e.cacheSize),parseClassName:s_(e),sortModifiers:a_(e)},(e=>{const t=e_(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),$N(n,t)||ZN(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}})(e)),c_=/\s+/;function u_(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=h_(e))&&(r&&(r+=" "),r+=t);return r}const h_=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=h_(e[r]))&&(n&&(n+=" "),n+=t);return n};function d_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i,s,o,a=function(t){const r=n.reduce((e,t)=>t(e),e());return i=l_(r),s=i.cache.get,o=i.cache.set,a=l,l(t)};function l(e){const t=s(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,o=[],a=e.trim().split(c_);let l="";for(let c=a.length-1;c>=0;c-=1){const e=a[c],{isExternal:t,modifiers:u,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:f}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let p=!!f,m=r(p?d.substring(0,f):d);if(!m){if(!p){l=e+(l.length>0?" "+l:l);continue}if(m=r(d),!m){l=e+(l.length>0?" "+l:l);continue}p=!1}const g=s(u).join(":"),y=h?g+"!":g,v=y+m;if(o.includes(v))continue;o.push(v);const b=i(m,p);for(let n=0;n<b.length;++n){const e=b[n];o.push(y+e)}l=e+(l.length>0?" "+l:l)}return l})(e,i);return o(e,n),n}return function(){return a(u_.apply(null,arguments))}}const f_=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},p_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,m_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,g_=/^\d+\/\d+$/,y_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,v_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,b_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,w_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,x_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,S_=e=>g_.test(e),k_=e=>!!e&&!Number.isNaN(Number(e)),E_=e=>!!e&&Number.isInteger(Number(e)),C_=e=>e.endsWith("%")&&k_(e.slice(0,-1)),T_=e=>y_.test(e),I_=()=>!0,N_=e=>v_.test(e)&&!b_.test(e),__=()=>!1,A_=e=>w_.test(e),P_=e=>x_.test(e),D_=e=>!M_(e)&&!U_(e),R_=e=>W_(e,$_,__),M_=e=>p_.test(e),L_=e=>W_(e,J_,N_),O_=e=>W_(e,Z_,k_),F_=e=>W_(e,Y_,__),j_=e=>W_(e,Q_,P_),V_=e=>W_(e,tA,A_),U_=e=>m_.test(e),z_=e=>X_(e,J_),B_=e=>X_(e,eA),H_=e=>X_(e,Y_),q_=e=>X_(e,$_),G_=e=>X_(e,Q_),K_=e=>X_(e,tA,!0),W_=(e,t,n)=>{const r=p_.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},X_=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=m_.exec(e);return!!r&&(r[1]?t(r[1]):n)},Y_=e=>"position"===e||"percentage"===e,Q_=e=>"image"===e||"url"===e,$_=e=>"length"===e||"size"===e||"bg-size"===e,J_=e=>"length"===e,Z_=e=>"number"===e,eA=e=>"family-name"===e,tA=e=>"shadow"===e,nA=(Symbol.toStringTag,()=>{const e=f_("color"),t=f_("font"),n=f_("text"),r=f_("font-weight"),i=f_("tracking"),s=f_("leading"),o=f_("breakpoint"),a=f_("container"),l=f_("spacing"),c=f_("radius"),u=f_("shadow"),h=f_("inset-shadow"),d=f_("text-shadow"),f=f_("drop-shadow"),p=f_("blur"),m=f_("perspective"),g=f_("aspect"),y=f_("ease"),v=f_("animate"),b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",U_,M_],w=()=>[U_,M_,l],x=()=>[S_,"full","auto",...w()],S=()=>[E_,"none","subgrid",U_,M_],k=()=>["auto",{span:["full",E_,U_,M_]},E_,U_,M_],E=()=>[E_,"auto",U_,M_],C=()=>["auto","min","max","fr",U_,M_],T=()=>["auto",...w()],I=()=>[S_,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],N=()=>[e,U_,M_],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",H_,F_,{position:[U_,M_]}],A=()=>["auto","cover","contain",q_,R_,{size:[U_,M_]}],P=()=>[C_,z_,L_],D=()=>["","none","full",c,U_,M_],R=()=>["",k_,z_,L_],M=()=>[k_,C_,H_,F_],L=()=>["","none",p,U_,M_],O=()=>["none",k_,U_,M_],F=()=>["none",k_,U_,M_],j=()=>[k_,U_,M_],V=()=>[S_,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[T_],breakpoint:[T_],color:[I_],container:[T_],"drop-shadow":[T_],ease:["in","out","in-out"],font:[D_],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[T_],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[T_],shadow:[T_],spacing:["px",k_],text:[T_],"text-shadow":[T_],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",S_,M_,U_,g]}],container:["container"],columns:[{columns:[k_,M_,U_,a]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:x()}],"inset-x":[{"inset-x":x()}],"inset-y":[{"inset-y":x()}],start:[{start:x()}],end:[{end:x()}],top:[{top:x()}],right:[{right:x()}],bottom:[{bottom:x()}],left:[{left:x()}],visibility:["visible","invisible","collapse"],z:[{z:[E_,"auto",U_,M_]}],basis:[{basis:[S_,"full","auto",a,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[k_,S_,"auto","initial","none",M_]}],grow:[{grow:["",k_,U_,M_]}],shrink:[{shrink:["",k_,U_,M_]}],order:[{order:[E_,"first","last","none",U_,M_]}],"grid-cols":[{"grid-cols":S()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":S()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[a,"screen",...I()]}],"min-w":[{"min-w":[a,"screen","none",...I()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",n,z_,L_]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,U_,O_]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",C_,M_]}],"font-family":[{font:[B_,M_,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,U_,M_]}],"line-clamp":[{"line-clamp":[k_,"none",U_,O_]}],leading:[{leading:[s,...w()]}],"list-image":[{"list-image":["none",U_,M_]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",U_,M_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[k_,"from-font","auto",U_,L_]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[k_,"auto",U_,M_]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",U_,M_]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",U_,M_]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:_()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:A()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},E_,U_,M_],radial:["",U_,M_],conic:[E_,U_,M_]},G_,j_]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:P()}],"gradient-via-pos":[{via:P()}],"gradient-to-pos":[{to:P()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:D()}],"rounded-s":[{"rounded-s":D()}],"rounded-e":[{"rounded-e":D()}],"rounded-t":[{"rounded-t":D()}],"rounded-r":[{"rounded-r":D()}],"rounded-b":[{"rounded-b":D()}],"rounded-l":[{"rounded-l":D()}],"rounded-ss":[{"rounded-ss":D()}],"rounded-se":[{"rounded-se":D()}],"rounded-ee":[{"rounded-ee":D()}],"rounded-es":[{"rounded-es":D()}],"rounded-tl":[{"rounded-tl":D()}],"rounded-tr":[{"rounded-tr":D()}],"rounded-br":[{"rounded-br":D()}],"rounded-bl":[{"rounded-bl":D()}],"border-w":[{border:R()}],"border-w-x":[{"border-x":R()}],"border-w-y":[{"border-y":R()}],"border-w-s":[{"border-s":R()}],"border-w-e":[{"border-e":R()}],"border-w-t":[{"border-t":R()}],"border-w-r":[{"border-r":R()}],"border-w-b":[{"border-b":R()}],"border-w-l":[{"border-l":R()}],"divide-x":[{"divide-x":R()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":R()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[k_,U_,M_]}],"outline-w":[{outline:["",k_,z_,L_]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",u,K_,V_]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",h,K_,V_]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[k_,L_]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":R()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",d,K_,V_]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[k_,U_,M_]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[k_]}],"mask-image-linear-from-pos":[{"mask-linear-from":M()}],"mask-image-linear-to-pos":[{"mask-linear-to":M()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":M()}],"mask-image-t-to-pos":[{"mask-t-to":M()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":M()}],"mask-image-r-to-pos":[{"mask-r-to":M()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":M()}],"mask-image-b-to-pos":[{"mask-b-to":M()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":M()}],"mask-image-l-to-pos":[{"mask-l-to":M()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":M()}],"mask-image-x-to-pos":[{"mask-x-to":M()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":M()}],"mask-image-y-to-pos":[{"mask-y-to":M()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[U_,M_]}],"mask-image-radial-from-pos":[{"mask-radial-from":M()}],"mask-image-radial-to-pos":[{"mask-radial-to":M()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[k_]}],"mask-image-conic-from-pos":[{"mask-conic-from":M()}],"mask-image-conic-to-pos":[{"mask-conic-to":M()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:_()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:A()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",U_,M_]}],filter:[{filter:["","none",U_,M_]}],blur:[{blur:L()}],brightness:[{brightness:[k_,U_,M_]}],contrast:[{contrast:[k_,U_,M_]}],"drop-shadow":[{"drop-shadow":["","none",f,K_,V_]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",k_,U_,M_]}],"hue-rotate":[{"hue-rotate":[k_,U_,M_]}],invert:[{invert:["",k_,U_,M_]}],saturate:[{saturate:[k_,U_,M_]}],sepia:[{sepia:["",k_,U_,M_]}],"backdrop-filter":[{"backdrop-filter":["","none",U_,M_]}],"backdrop-blur":[{"backdrop-blur":L()}],"backdrop-brightness":[{"backdrop-brightness":[k_,U_,M_]}],"backdrop-contrast":[{"backdrop-contrast":[k_,U_,M_]}],"backdrop-grayscale":[{"backdrop-grayscale":["",k_,U_,M_]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[k_,U_,M_]}],"backdrop-invert":[{"backdrop-invert":["",k_,U_,M_]}],"backdrop-opacity":[{"backdrop-opacity":[k_,U_,M_]}],"backdrop-saturate":[{"backdrop-saturate":[k_,U_,M_]}],"backdrop-sepia":[{"backdrop-sepia":["",k_,U_,M_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",U_,M_]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[k_,"initial",U_,M_]}],ease:[{ease:["linear","initial",y,U_,M_]}],delay:[{delay:[k_,U_,M_]}],animate:[{animate:["none",v,U_,M_]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,U_,M_]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:O()}],"rotate-x":[{"rotate-x":O()}],"rotate-y":[{"rotate-y":O()}],"rotate-z":[{"rotate-z":O()}],scale:[{scale:F()}],"scale-x":[{"scale-x":F()}],"scale-y":[{"scale-y":F()}],"scale-z":[{"scale-z":F()}],"scale-3d":["scale-3d"],skew:[{skew:j()}],"skew-x":[{"skew-x":j()}],"skew-y":[{"skew-y":j()}],transform:[{transform:[U_,M_,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:V()}],"translate-x":[{"translate-x":V()}],"translate-y":[{"translate-y":V()}],"translate-z":[{"translate-z":V()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",U_,M_]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",U_,M_]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[k_,z_,L_,O_]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),rA=d_(nA);function iA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rA(QN(t))}var sA="https://cdn.jsdelivr.net/gh/hiunicornstudio/unicornstudio.js@v".concat("1.4.31","/dist/unicornStudio.umd.js"),oA={width:"100%",height:"100%",scale:1,production:!0,dpi:1.5,fps:60,altText:"Scene",className:"",lazyLoad:!0,showPlaceholderOnError:!0,showPlaceholderWhileLoading:!0},aA=[15,24,30,60,120];function lA(e,t){return function(e){return e>=.25&&e<=1}(e)?function(e){return aA.includes(e)}(t)?null:"Invalid fps: ".concat(t,". FPS must be one of: 15, 24, 30, 60, 120"):"Invalid scale: ".concat(e,". Scale must be between 0.25 and 1.0")}var cA={container:{position:"relative",width:"var(--unicorn-width)",height:"var(--unicorn-height)"},errorWrapper:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},errorBox:{textAlign:"center",padding:"1rem",borderRadius:"0.5rem",backgroundColor:"rgb(254 242 242)",color:"rgb(239 68 68)"},errorTitle:{fontWeight:"600",marginBottom:"0.25rem"},errorMessage:{fontSize:"0.875rem",marginTop:"0.25rem"}};var uA=function(e){let{projectId:t,jsonFilePath:n,width:i=oA.width,height:s=oA.height,scale:o=oA.scale,dpi:a=oA.dpi,fps:l=oA.fps,altText:c=oA.altText,ariaLabel:h,className:d=oA.className,lazyLoad:f=oA.lazyLoad,production:p=oA.production,placeholder:m,placeholderClassName:g,showPlaceholderOnError:y=oA.showPlaceholderOnError,showPlaceholderWhileLoading:v=oA.showPlaceholderWhileLoading,onLoad:b,onError:w}=e;const x=(0,r.useRef)(null),[S,k]=(0,r.useState)(!1),[E,C]=(0,r.useState)(!0),{isLoaded:T,error:I}=function(e){const[t,n]=(0,r.useState)(!1),[i,s]=(0,r.useState)(null),o=(0,r.useCallback)(()=>{n(!0)},[]),a=(0,r.useCallback)(()=>{s(new Error("Failed to load UnicornStudio script"))},[]);return(0,r.useEffect)(()=>{const t=document.querySelector('script[src="'.concat(e,'"]'));if(t)return"true"===t.getAttribute("data-loaded")?void n(!0):(t.addEventListener("load",o),t.addEventListener("error",a),()=>{t.removeEventListener("load",o),t.removeEventListener("error",a)});const r=document.createElement("script");return r.src=e,r.async=!0,r.addEventListener("load",()=>{r.setAttribute("data-loaded","true"),o()}),r.addEventListener("error",a),document.head.appendChild(r),()=>{r.parentNode&&(r.removeEventListener("load",o),r.removeEventListener("error",a))}},[e,o,a]),{isLoaded:t,error:i,handleScriptLoad:o,handleScriptError:a}}(sA),{error:N}=function(e){let{elementRef:t,projectId:n,jsonFilePath:i,production:s,scale:o,dpi:a,fps:l,lazyLoad:c,altText:u,ariaLabel:h,isScriptLoaded:d,onLoad:f,onError:p}=e;const m=(0,r.useRef)(null),[g,y]=(0,r.useState)(null),v=(0,r.useRef)(!1),b=(0,r.useRef)(""),w=(0,r.useRef)(!1),x=(0,r.useMemo)(()=>lA(o,l),[o,l]),S=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(x!==S.current)if(S.current=x,x){const e=new Error(x);y(e),null==p||p(e)}else y(null)},[x,p]);const k=(0,r.useCallback)(()=>{var e;(null==(e=m.current)?void 0:e.destroy)&&(m.current.destroy(),m.current=null),w.current=!1},[]),E=(0,r.useCallback)(async()=>{var e;if(!t.current||!d||x)return;if(w.current)return void console.log("Already initializing, skipping...");const r="".concat(n||"","-").concat(i||"","-").concat(o,"-").concat(a,"-").concat(l,"-").concat(s?"prod":"dev");if(b.current===r&&m.current)console.log("Scene already initialized with this configuration, skipping...");else{b.current=r,v.current=!0,w.current=!0;try{if(k(),!(null==(e=window.UnicornStudio)?void 0:e.addScene))throw new Error("UnicornStudio.addScene not found");const r={elementId:t.current.id||"unicorn-".concat(Math.random().toString(36).slice(2,11)),scale:o,dpi:a,fps:l,lazyLoad:c,altText:u,ariaLabel:h,production:s};if(t.current.id||(t.current.id=r.elementId),i)r.filePath=i;else{if(!n)throw new Error("No project ID or JSON file path provided");r.projectId=n}let d;const p=new Promise((e,t)=>{d=setTimeout(()=>t(new Error("Scene initialization timeout")),15e3)}),g=()=>{d&&clearTimeout(d)};try{const e=await Promise.race([window.UnicornStudio.addScene(r),p]);if(g(),!e)throw w.current=!1,new Error("Failed to initialize scene");m.current=e,v.current=!1,y(null),w.current=!1,null==f||f()}catch(_){throw g(),_}}catch(_){let t=(_ instanceof Error?_:new Error("Unknown error")).message;t.includes("404")||t.includes("Failed to fetch")?t="Resource not found":t.includes("Network")||t.includes("network")?t="Network error occurred":t.includes("timeout")&&(t="Loading timeout");const n=new Error(t);y(n),w.current=!1,null==p||p(n)}}},[t,d,i,n,s,o,a,l,c,u,h,k,f,p,x]);return(0,r.useEffect)(()=>{d&&E()},[d,E]),(0,r.useEffect)(()=>k,[k]),(0,r.useEffect)(()=>{const e="".concat(n||"","-").concat(i||"","-").concat(o,"-").concat(a,"-").concat(l,"-").concat(s?"prod":"dev");b.current!==e&&(v.current=!1,y(null),w.current=!1,b.current="")},[n,i,o,a,l,s]),{error:g}}({elementRef:x,projectId:t,jsonFilePath:n,production:p,scale:o,dpi:a,fps:l,lazyLoad:f,altText:c,ariaLabel:h||c,isScriptLoaded:T,onLoad:()=>{k(!0),null==b||b()},onError:w}),_=I||N;(0,r.useEffect)(()=>{C(function(){if("undefined"===typeof window)return!0;try{const e=document.createElement("canvas");return!(!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(eP){return!1}}())},[]);const A=(m||g)&&(!E||v&&!S||y&&_),P="number"===typeof i?i:0,D="number"===typeof s?s:0,R="number"===typeof i&&"number"===typeof s,M={"--unicorn-width":"number"===typeof i?"".concat(i,"px"):i,"--unicorn-height":"number"===typeof s?"".concat(s,"px"):s};return(0,Wb.jsxs)("div",{ref:x,style:u(u({},cA.container),M),className:d,children:[A&&(m||g)&&(0,Wb.jsx)("div",{style:{position:"absolute",inset:0},children:"string"===typeof m?(0,Wb.jsx)("img",{src:m,alt:c,style:{width:R?"".concat(P,"px"):"100%",height:R?"".concat(D,"px"):"100%",objectFit:"cover"}}):m||(g?(0,Wb.jsx)("div",{className:g,style:{width:"100%",height:"100%"},"aria-label":c}):null)}),_&&!A&&(0,Wb.jsx)("div",{style:cA.errorWrapper,children:(0,Wb.jsxs)("div",{style:cA.errorBox,children:[(0,Wb.jsx)("p",{style:cA.errorTitle,children:"Error loading scene"}),(0,Wb.jsx)("p",{style:cA.errorMessage,children:_.message})]})})]})};const hA=()=>{const{width:e,height:t}=(()=>{const[e,t]=(0,r.useState)({width:"undefined"!==typeof window?window.innerWidth:0,height:"undefined"!==typeof window?window.innerHeight:0});return(0,r.useEffect)(()=>{const e=()=>{t({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e})();return(0,Wb.jsx)("div",{className:iA("flex flex-col items-center"),children:(0,Wb.jsx)(uA,{production:!0,projectId:"1grEuiVDSVmyvEMAYhA6",width:e,height:t})})},dA=()=>{var e,t;const[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)([]),[c,u]=(0,r.useState)([]),[h,d]=(0,r.useState)(null),[f,p]=(0,r.useState)("all"),[m,g]=(0,r.useState)("popularity"),[y,v]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!0),[x,S]=(0,r.useState)(0),[k,E]=(0,r.useState)({total:0,male:0,female:0,unisex:0}),[C,T]=(0,r.useState)(0),[I,N]=(0,r.useState)(!1),[_,A]=(0,r.useState)(!1),[P,D]=(0,r.useState)(0),[R,M]=(0,r.useState)(0),[,L]=(0,r.useState)({}),[O,F]=(0,r.useState)(!1),[j,V]=(0,r.useState)(1),[U]=(0,r.useState)(30),[z,B]=(0,r.useState)(!1),[H,q]=(0,r.useState)(!1),G=me(),{user:K,isAuthenticated:W,login:X,logout:Y,isSyncing:Q,syncError:$,manualSync:J,clearCache:Z}=Zb();(0,r.useEffect)(()=>{(()=>{try{console.log("HomePage: Starting to load names..."),w(!0);const e=RN.getPopularNames(1e3);console.log("HomePage: Got ".concat(e.length," popular names")),l(e),u(e),S(RN.getTotalNames()),console.log("HomePage: Names set, stopping loading spinner..."),w(!1),setTimeout(()=>{console.log("HomePage: Starting background database load..."),RN.loadFullDatabase().then(()=>{const e=RN.getAllNames(25e4);console.log("HomePage: Loaded ".concat(e.length," names in background")),l(e),u(e),S(RN.getTotalNames());const t=RN.getGenderCounts();E(t),T(t.total),ON.startProcessing().then(()=>{console.log("HomePage: Unisex processing started in background");const e=RN.getGenderCounts();E(e)})}).catch(e=>{console.error("HomePage: Error loading full database:",e)})},100)}catch(e){console.error("HomePage: Error in loadNames:",e),w(!1)}})()},[]),(0,r.useEffect)(()=>{const e=()=>{D(Mb.getFavoritesCount()),M(Mb.getDislikesCount())};e(),window.addEventListener("storage",e),window.addEventListener("cloudDataUpdate",e);const t=()=>{q(!0),setTimeout(()=>q(!1),600),e()};return window.addEventListener("favoriteAdded",t),()=>{window.removeEventListener("storage",e),window.removeEventListener("cloudDataUpdate",e),window.removeEventListener("favoriteAdded",t)}},[]);const ee=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[...e];if(t)return n;if(t&&n.some(e=>e.searchPriority)){const e=n.filter(e=>1===e.searchPriority),t=n.filter(e=>2===e.searchPriority),r=n.filter(e=>!e.searchPriority),i=e=>{let t=[...e];switch(m){case"alphabetical":t=t.sort((e,t)=>e.name.localeCompare(t.name));break;case"random":for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}}return y&&"random"!==m&&(t=t.reverse()),t};return[...i(e),...i(t),...i(r)]}switch(m){case"alphabetical":n=n.sort((e,t)=>e.name.localeCompare(t.name));break;case"random":for(let e=n.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[n[e],n[t]]=[n[t],n[e]]}return n;default:n=n.sort((e,t)=>(e.popularityRank||999999)-(t.popularityRank||999999))}return y&&(n=n.reverse()),n},[m,y]);(0,r.useEffect)(()=>{(async()=>{let e=a;e=_?e.filter(e=>Mb.isFavorite(e.name)):e.filter(e=>!Mb.isDisliked(e.name)&&!Mb.isFavorite(e.name)),n&&(e=await RN.searchNames(n),e=e.filter(e=>!Mb.isDisliked(e.name)&&!Mb.isFavorite(e.name))),"all"!==f&&(e=e.filter(e=>{if("unisex"===f)return RN.isUnisexName(e);if("object"===typeof e.gender&&e.gender){const t=(e.gender.Male||0)>(e.gender.Female||0);return"male"===f?t:!t}return!1})),e=ee(e,!!n),u(e),D(Mb.getFavoritesCount()),T(e.length)})()},[n,f,a,m,y,ee,_,P,R]),(0,r.useEffect)(()=>{V(1)},[n]);const te=e=>{if(p(e),V(1),"all"!==e&&!n){const t=RN.getNamesByGender(e);u(t)}},ne=Math.ceil(c.length/U),re=(j-1)*U,ie=re+U,se=c.slice(re,ie),oe=e=>{V(e),window.scrollTo({top:600,behavior:"smooth"})};return(0,Wb.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 overflow-x-hidden",children:[(0,Wb.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,Wb.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),(0,Wb.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),(0,Wb.jsx)("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),(0,Wb.jsx)("header",{className:"bg-white/90 backdrop-blur-sm fixed top-0 left-0 right-0 z-50 border-b border-gray-100",children:(0,Wb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,Wb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Wb.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,Wb.jsx)("h1",{className:"text-lg font-light tracking-wide text-gray-900",children:"babynames"}),(0,Wb.jsxs)("button",{onClick:()=>G("/favorites"),className:"flex items-center gap-2 text-sm transition-all ".concat(P>0?"text-pink-500 hover:text-pink-600":"text-gray-600 hover:text-gray-900"),title:"View favorites",children:[(0,Wb.jsx)(nw,{className:"transition-all ".concat(H?"animate-heartbeat":""," ").concat(P>0?"fill-pink-500":""),style:{width:"1.15rem",height:"1.15rem"}}),(0,Wb.jsx)("span",{className:P>0?"font-medium":"",children:P})]})]}),(0,Wb.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Wb.jsx)("button",{onClick:()=>{o(!s),s&&i("")},className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",title:s?"Close search":"Search names",children:s?(0,Wb.jsx)(Kb,{className:"w-4 h-4"}):(0,Wb.jsx)(rw,{className:"w-4 h-4"})}),(0,Wb.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",children:[(0,Wb.jsx)("button",{onClick:()=>G("/dislikes"),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Dislikes"}),(0,Wb.jsx)("button",{className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Origins"}),W&&K?(0,Wb.jsxs)("div",{className:"flex items-center gap-4",children:[K.picture?(0,Wb.jsx)("img",{src:K.picture,alt:K.name,className:"w-8 h-8 rounded-full",onError:e=>{e.currentTarget.style.display="none"}}):(0,Wb.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-600 text-sm",children:null===(e=K.name)||void 0===e?void 0:e.charAt(0).toUpperCase()}),(0,Wb.jsx)("button",{onClick:Y,className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Logout"})]}):(0,Wb.jsx)("button",{onClick:X,className:"text-sm text-gray-900 hover:text-gray-600 transition-colors",children:"Sign in"})]})]}),(0,Wb.jsx)("button",{onClick:()=>F(!O),className:"md:hidden p-2 text-gray-700 hover:text-purple-600",children:O?(0,Wb.jsx)(Kb,{className:"w-6 h-6"}):(0,Wb.jsx)(iw,{className:"w-6 h-6"})})]}),O&&(0,Wb.jsx)("div",{className:"md:hidden mt-4 pt-4 border-t border-gray-200",children:(0,Wb.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,Wb.jsxs)("button",{onClick:()=>{G("/favorites"),F(!1)},className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-purple-50 rounded-lg transition-colors",children:[(0,Wb.jsx)(nw,{className:"w-4 h-4"}),"Favorites ",P>0&&"(".concat(P,")")]}),(0,Wb.jsxs)("button",{onClick:()=>{G("/dislikes"),F(!1)},className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-purple-50 rounded-lg transition-colors",children:[(0,Wb.jsx)(Kb,{className:"w-4 h-4"}),"Dislikes ",R>0&&"(".concat(R,")")]}),(0,Wb.jsx)("button",{className:"text-left px-4 py-2 text-gray-700 hover:bg-purple-50 rounded-lg transition-colors",children:"By Origin"}),(0,Wb.jsx)("button",{className:"text-left px-4 py-2 text-gray-700 hover:bg-purple-50 rounded-lg transition-colors",children:"AI Assistant"}),W&&K?(0,Wb.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 border-t pt-4",children:[(0,Wb.jsxs)("div",{className:"flex items-center gap-2",children:[K.picture?(0,Wb.jsx)("img",{src:K.picture,alt:K.name,className:"w-8 h-8 rounded-full",onError:e=>{e.currentTarget.style.display="none"}}):(0,Wb.jsx)("div",{className:"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 font-bold text-sm",children:null===(t=K.name)||void 0===t?void 0:t.charAt(0).toUpperCase()}),(0,Wb.jsx)("span",{className:"text-sm font-medium text-gray-700",children:K.name})]}),(0,Wb.jsx)("button",{onClick:()=>{Y(),F(!1)},className:"text-red-600 text-sm font-medium hover:text-red-700",children:"Logout"})]}):(0,Wb.jsx)("button",{onClick:()=>{X(),F(!1)},className:"mx-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Sign in with Google"})]})})]})}),(0,Wb.jsx)(Pw,{children:s&&(0,Wb.jsx)(CN.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"fixed top-[57px] left-0 right-0 z-40 bg-white border-b border-gray-200 overflow-hidden",children:(0,Wb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,Wb.jsxs)("div",{className:"relative",children:[(0,Wb.jsx)(rw,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,Wb.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),onKeyDown:e=>{"Escape"===e.key&&(o(!1),i(""))},placeholder:"Search for a name...",className:"w-full pl-12 pr-4 py-3 text-base border border-gray-200 rounded-lg bg-gray-50 focus:bg-white focus:outline-none focus:border-gray-400 font-light placeholder:text-gray-400 transition-all duration-200",autoFocus:!0}),n&&(0,Wb.jsx)("button",{onClick:()=>i(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,Wb.jsx)(Kb,{className:"w-4 h-4"})})]}),n&&(0,Wb.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Found ",c.length,' names matching "',n,'"']})]})})}),(0,Wb.jsxs)("section",{className:"relative ".concat(s?"pt-48":"pt-32"," pb-16 px-4 min-h-[75vh] overflow-hidden transition-all duration-200"),children:[(0,Wb.jsx)("div",{className:"absolute inset-0 z-0",children:(0,Wb.jsx)(hA,{})}),(0,Wb.jsx)("div",{className:"absolute inset-0 z-[1] pointer-events-none",children:["Emma","Noah","Olivia","Liam","Sophia","Ethan","Isabella","Mason","Mia","Lucas"].map((e,t)=>(0,Wb.jsx)(CN.div,{initial:{opacity:0},animate:{opacity:[.2,.4,.2],x:[0,100,0],y:[0,-50,0]},transition:{duration:10+2*t,repeat:1/0,delay:.5*t,ease:"easeInOut"},className:"absolute text-purple-400/30 font-light",style:{left:"".concat(10+15*t,"%"),top:"".concat(20+t%3*25,"%"),fontSize:"".concat(1.5+t%2*.5,"rem")},children:e},e))}),(0,Wb.jsx)("div",{className:"absolute inset-0 z-[2] bg-gradient-to-b from-white/60 to-white/80"}),(0,Wb.jsxs)("div",{className:"relative z-10 max-w-4xl mx-auto text-center pt-12",children:[(0,Wb.jsxs)(CN.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-5xl md:text-7xl font-light mb-6 tracking-tight",children:[(0,Wb.jsx)("span",{className:"text-gray-900",children:"Find the"}),(0,Wb.jsx)("br",{}),(0,Wb.jsx)("span",{className:"font-medium bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"perfect name"})]}),(0,Wb.jsxs)(CN.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.1},className:"text-lg text-gray-600 mb-12 font-light",children:[C.toLocaleString()," curated names with meaning"]}),(0,Wb.jsxs)(CN.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:"flex justify-center gap-6 mb-8 text-sm",children:[(0,Wb.jsx)("button",{onClick:()=>te("all"),className:"transition-all duration-200 ".concat("all"===f?"text-gray-900 font-medium border-b-2 border-purple-600":"text-gray-500 hover:text-gray-700"),children:"All"}),(0,Wb.jsx)("button",{onClick:()=>te("male"),className:"transition-all duration-200 ".concat("male"===f?"text-gray-900 font-medium border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),children:"Boys"}),(0,Wb.jsx)("button",{onClick:()=>te("female"),className:"transition-all duration-200 ".concat("female"===f?"text-gray-900 font-medium border-b-2 border-pink-600":"text-gray-500 hover:text-gray-700"),children:"Girls"}),(0,Wb.jsx)("button",{onClick:()=>te("unisex"),className:"transition-all duration-200 ".concat("unisex"===f?"text-gray-900 font-medium border-b-2 border-violet-600":"text-gray-500 hover:text-gray-700"),children:"Unisex"})]}),(0,Wb.jsxs)(CN.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"flex flex-col sm:flex-row gap-3 w-full max-w-xl mx-auto",children:[(0,Wb.jsx)("button",{className:"w-full py-4 rounded-full text-sm font-light bg-gray-900 text-white hover:bg-gray-800 transition-all duration-200",children:"Browse Names"}),(0,Wb.jsx)("button",{onClick:()=>G("/swipe"),className:"w-full py-4 rounded-full text-sm font-light bg-white text-gray-900 border border-gray-200 hover:border-gray-400 transition-all duration-200",children:"Swipe Mode"})]}),(0,Wb.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4 mt-8",children:[(0,Wb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Wb.jsx)("span",{className:"text-sm text-gray-600 font-medium",children:"Sort:"}),(0,Wb.jsxs)("div",{className:"flex rounded-lg overflow-hidden shadow-md",children:[(0,Wb.jsxs)("button",{onClick:()=>{"popularity"===m?v(!y):(g("popularity"),v(!1))},className:"px-3 sm:px-4 py-2 flex items-center gap-1 sm:gap-2 text-sm font-medium transition-all ".concat("popularity"===m?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),title:"popularity"===m&&y?"Least popular first":"Most popular first",children:[(0,Wb.jsx)(sw,{className:"w-4 h-4 transition-transform ".concat("popularity"===m&&y?"rotate-180":"")}),(0,Wb.jsxs)("span",{className:"hidden sm:inline",children:["Popular","popularity"===m&&y?" \u2193":""]})]}),(0,Wb.jsxs)("button",{onClick:()=>{"alphabetical"===m?v(!y):(g("alphabetical"),v(!1))},className:"px-3 sm:px-4 py-2 flex items-center gap-1 sm:gap-2 text-sm font-medium transition-all border-l ".concat("alphabetical"===m?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),title:"alphabetical"===m&&y?"Sort Z to A":"Sort A to Z",children:[(0,Wb.jsx)(ow,{className:"w-4 h-4 transition-transform ".concat("alphabetical"===m&&y?"rotate-180":"")}),(0,Wb.jsx)("span",{className:"hidden sm:inline",children:"alphabetical"===m&&y?"Z\u2192A":"A\u2192Z"})]}),(0,Wb.jsxs)("button",{onClick:()=>{g("random"),v(!1)},className:"px-3 sm:px-4 py-2 flex items-center gap-1 sm:gap-2 text-sm font-medium transition-all border-l ".concat("random"===m?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),title:"Shuffle randomly",children:[(0,Wb.jsx)(aw,{className:"w-4 h-4 ".concat("random"===m?"animate-pulse":"")}),(0,Wb.jsx)("span",{className:"hidden sm:inline",children:"Shuffle"})]})]})]}),(0,Wb.jsxs)("div",{className:"relative",children:[(0,Wb.jsxs)("button",{onClick:()=>{N(!0),setTimeout(()=>N(!1),2e3)},className:"px-4 py-2 bg-white border-2 border-purple-300 text-gray-700 rounded-lg hover:border-purple-400 hover:shadow-md transition-all flex items-center gap-2 font-medium",children:[(0,Wb.jsx)(lw,{className:"w-4 h-4"}),(0,Wb.jsx)("span",{children:"Filters"})]}),I&&(0,Wb.jsx)("div",{className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm whitespace-nowrap shadow-lg animate-bounce",children:"Filters coming soon! \ud83d\ude80"})]})]})]})]}),(0,Wb.jsx)("section",{className:"py-12 px-4",children:(0,Wb.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Wb.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Wb.jsx)("h3",{className:"text-3xl font-bold text-gray-800",children:_?"Your Favorite Names":n?"Search Results":"Popular Names"}),(0,Wb.jsx)("span",{className:"text-gray-500",children:c.length>0?"".concat(C.toLocaleString()," names found"):""})]}),b&&0===c.length?(0,Wb.jsx)("div",{className:"text-center py-20",children:(0,Wb.jsxs)("div",{className:"inline-flex items-center gap-3 text-gray-500",children:[(0,Wb.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),(0,Wb.jsx)("span",{className:"text-lg",children:"Loading names..."})]})}):0===c.length?(0,Wb.jsxs)("div",{className:"text-center py-20",children:[(0,Wb.jsx)(cw,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Wb.jsx)("p",{className:"text-xl text-gray-500",children:"No names found matching your search"}),(0,Wb.jsx)("button",{onClick:()=>i(""),className:"mt-4 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Clear Search"})]}):(0,Wb.jsxs)(Wb.Fragment,{children:[(0,Wb.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:(0,Wb.jsx)(Pw,{mode:"popLayout",children:se.map(e=>(0,Wb.jsx)(CN.div,{layout:!0,initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{duration:.08,layout:{type:"spring",stiffness:800,damping:40}},children:(0,Wb.jsx)(qN,{name:e,onClick:d,filterContext:f,onFavoriteToggle:()=>{D(Mb.getFavoritesCount()),M(Mb.getDislikesCount()),setTimeout(()=>{L({})},120)},onDislikeToggle:()=>{D(Mb.getFavoritesCount()),M(Mb.getDislikesCount()),setTimeout(()=>{L({})},120)}})},e.name))})}),(0,Wb.jsx)("div",{className:"mt-16 mb-8",children:(0,Wb.jsxs)("div",{className:"flex flex-col items-center space-y-6",children:[(0,Wb.jsxs)("div",{className:"text-center",children:[(0,Wb.jsxs)("p",{className:"text-lg text-gray-700 mb-2",children:["Showing ",(0,Wb.jsx)("span",{className:"font-bold text-purple-600",children:(j-1)*U+1})," to"," ",(0,Wb.jsx)("span",{className:"font-bold text-purple-600",children:Math.min(j*U,C)})," of"," ",(0,Wb.jsx)("span",{className:"font-bold text-purple-600",children:C.toLocaleString()})," beautiful names"]}),ne>1&&(0,Wb.jsxs)("p",{className:"text-sm text-gray-500",children:["Page ",j," of ",ne]})]}),ne>1&&(0,Wb.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Wb.jsx)("button",{onClick:()=>oe(j-1),disabled:1===j,className:"\n                          flex items-center justify-center px-4 py-3 rounded-lg font-medium transition-all duration-200\n                          ".concat(1===j?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gradient-to-r hover:from-purple-50 hover:to-pink-50 hover:text-purple-600 shadow-md hover:shadow-lg border border-gray-200 hover:border-purple-200","\n                        "),children:"\u2190 Previous"}),(0,Wb.jsx)("div",{className:"flex items-center space-x-1",children:(()=>{const e=[],t=Math.min(ne,7);for(let n=0;n<t;n++)ne<=7||j<=4?e.push(n+1):j>=ne-3?e.push(ne-6+n):e.push(j-3+n);return e.map(e=>e<1||e>ne?null:(0,Wb.jsx)("button",{onClick:()=>oe(e),className:"\n                                  flex items-center justify-center w-12 h-12 rounded-lg font-bold transition-all duration-200 text-sm\n                                  ".concat(j===e?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg transform scale-110":"bg-white text-gray-700 hover:bg-gradient-to-r hover:from-purple-50 hover:to-pink-50 hover:text-purple-600 shadow-md hover:shadow-lg border border-gray-200 hover:border-purple-200 hover:scale-105","\n                                "),children:e},e))})()}),(0,Wb.jsx)("button",{onClick:()=>oe(j+1),disabled:j===ne,className:"\n                          flex items-center justify-center px-4 py-3 rounded-lg font-medium transition-all duration-200\n                          ".concat(j===ne?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gradient-to-r hover:from-purple-50 hover:to-pink-50 hover:text-purple-600 shadow-md hover:shadow-lg border border-gray-200 hover:border-purple-200","\n                        "),children:"Next \u2192"})]}),ne>10&&(0,Wb.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Wb.jsx)("span",{className:"text-sm text-gray-600",children:"Jump to page:"}),(0,Wb.jsx)("input",{type:"number",min:"1",max:ne,value:j,onChange:e=>{const t=parseInt(e.target.value);t>=1&&t<=ne&&oe(t)},className:"w-20 px-3 py-2 text-center border border-gray-300 rounded-lg focus:outline-none focus:border-purple-400 focus:ring-2 focus:ring-purple-200"}),(0,Wb.jsxs)("span",{className:"text-sm text-gray-600",children:["of ",ne]})]}),(0,Wb.jsx)("div",{className:"w-full max-w-md h-px bg-gradient-to-r from-transparent via-purple-200 to-transparent"})]})})]})]})}),(0,Wb.jsx)(KN,{name:h,onClose:()=>d(null)}),z&&(0,Wb.jsx)(XN,{onComplete:e=>{B(!1),G("/names",{state:{preferences:e}})},onClose:()=>B(!1)}),(0,Wb.jsx)("section",{className:"py-6 px-4 bg-white/90",children:(0,Wb.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Wb.jsx)("div",{className:"text-center mb-4",children:(0,Wb.jsx)("h2",{className:"text-lg font-light text-gray-700",children:"Trusted by 2 Million Parents"})}),(0,Wb.jsx)("div",{className:"flex justify-center items-center",children:(0,Wb.jsxs)("div",{className:"flex flex-row items-center gap-8 md:gap-12",children:[(0,Wb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Wb.jsx)("div",{className:"w-8 h-8 rounded-full border border-blue-200 flex items-center justify-center",children:(0,Wb.jsx)(uw,{className:"w-4 h-4 text-blue-400",strokeWidth:1.5})}),(0,Wb.jsx)("span",{className:"text-sm text-gray-600 font-light whitespace-nowrap",children:"Expert Verified"})]}),(0,Wb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Wb.jsx)("div",{className:"w-8 h-8 rounded-full border border-pink-200 flex items-center justify-center",children:(0,Wb.jsx)(hw,{className:"w-4 h-4 text-pink-400",strokeWidth:1.5})}),(0,Wb.jsx)("span",{className:"text-sm text-gray-600 font-light whitespace-nowrap",children:"AI Insights"})]}),(0,Wb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Wb.jsx)("div",{className:"w-8 h-8 rounded-full border border-blue-200 flex items-center justify-center",children:(0,Wb.jsx)(nw,{className:"w-4 h-4 text-blue-400",strokeWidth:1.5})}),(0,Wb.jsx)("span",{className:"text-sm text-gray-600 font-light whitespace-nowrap",children:"Emotional Match"})]}),(0,Wb.jsx)("div",{className:"h-6 w-px bg-gray-200"}),(0,Wb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Wb.jsx)(dw,{className:"w-4 h-4 text-pink-400",strokeWidth:1.5}),(0,Wb.jsxs)("span",{className:"text-sm font-light",children:[(0,Wb.jsx)("span",{className:"text-gray-900",children:"4.9/5"}),(0,Wb.jsx)("span",{className:"text-gray-500 ml-1",children:"\xb7 2,847 reviews"})]})]})]})})]})}),(0,Wb.jsx)("section",{className:"py-16 px-4",children:(0,Wb.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Wb.jsx)("h2",{className:"text-3xl font-bold text-center mb-10 text-gray-800",children:"Everything You Need to Know About Choosing a Baby Name"}),(0,Wb.jsxs)("div",{className:"space-y-6",children:[(0,Wb.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Wb.jsx)("h3",{className:"text-xl font-bold mb-3 text-purple-600",children:"How do I choose the perfect baby name?"}),(0,Wb.jsx)("p",{className:"text-gray-600",children:"Start with names that have personal meaning. Consider family heritage, sound with your surname, and future nicknames. Our AI chat helps narrow down from 164,374 clean English options to your perfect match."})]}),(0,Wb.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Wb.jsx)("h3",{className:"text-xl font-bold mb-3 text-purple-600",children:"What are the most popular baby names in 2025?"}),(0,Wb.jsx)("p",{className:"text-gray-600",children:"Top trending names include Olivia, Emma, and Luna for girls; Liam, Noah, and Oliver for boys. Use our real-time popularity tracker to see what's rising in your area."})]}),(0,Wb.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Wb.jsx)("h3",{className:"text-xl font-bold mb-3 text-purple-600",children:"Should I choose a unique or popular name?"}),(0,Wb.jsx)("p",{className:"text-gray-600",children:"Both have benefits. Popular names are familiar and accepted; unique names stand out. Our database includes rare gems and classics - find your perfect balance."})]}),(0,Wb.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Wb.jsx)("h3",{className:"text-xl font-bold mb-3 text-purple-600",children:"When should I decide on a baby name?"}),(0,Wb.jsx)("p",{className:"text-gray-600",children:"Many parents choose by the third trimester, but there's no rush. Some wait until meeting their baby. Start exploring early to avoid last-minute stress."})]})]})]})}),(0,Wb.jsx)("section",{className:"py-20 px-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:(0,Wb.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,Wb.jsx)("h2",{className:"text-4xl font-bold mb-6",children:"Your Baby's Name Journey Starts Here"}),(0,Wb.jsxs)("p",{className:"text-xl mb-8 opacity-95",children:["Join thousands of parents discovering the perfect name every day.",(0,Wb.jsx)("br",{}),"Free AI assistance. No sign-up required. Start now."]}),(0,Wb.jsx)("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"px-8 py-4 bg-white text-purple-600 rounded-full text-lg font-bold hover:shadow-2xl transition-all transform hover:scale-105",children:"Find My Baby's Name Now \u2192"}),(0,Wb.jsxs)("div",{className:"mt-8 flex justify-center gap-8 text-sm opacity-90",children:[(0,Wb.jsx)("span",{children:"\u2713 164,374 Names"}),(0,Wb.jsx)("span",{children:"\u2713 Instant Results"}),(0,Wb.jsx)("span",{children:"\u2713 100% Free"})]})]})}),(0,Wb.jsx)("section",{className:"py-8 px-4 bg-white/90 backdrop-blur-sm border-t border-gray-100",children:(0,Wb.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,Wb.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[(0,Wb.jsxs)("div",{children:[(0,Wb.jsx)("h3",{className:"text-2xl font-light text-gray-900",children:k.total.toLocaleString()}),(0,Wb.jsx)("p",{className:"text-sm text-gray-600 font-light mt-1",children:"Unique Names"})]}),(0,Wb.jsxs)("div",{children:[(0,Wb.jsx)("h3",{className:"text-2xl font-light text-gray-900",children:"105"}),(0,Wb.jsx)("p",{className:"text-sm text-gray-600 font-light mt-1",children:"Countries"})]}),(0,Wb.jsxs)("div",{children:[(0,Wb.jsx)("h3",{className:"text-2xl font-light text-gray-900",children:"100%"}),(0,Wb.jsx)("p",{className:"text-sm text-gray-600 font-light mt-1",children:"Gender Data"})]}),(0,Wb.jsxs)("div",{children:[(0,Wb.jsx)("h3",{className:"text-2xl font-light text-gray-900",children:"2025"}),(0,Wb.jsx)("p",{className:"text-sm text-gray-600 font-light mt-1",children:"Latest Data"})]})]})})}),(0,Wb.jsx)("footer",{className:"bg-gray-900 text-white py-12",children:(0,Wb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[(0,Wb.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,Wb.jsx)(fw,{className:"h-8 w-8"}),(0,Wb.jsx)("h3",{className:"text-2xl font-bold",children:"BabyNames 2025"})]}),(0,Wb.jsx)("p",{className:"mb-4 text-lg",children:"Your Trusted Partner in Finding the Perfect Baby Name"}),(0,Wb.jsxs)("div",{className:"flex justify-center gap-8 mb-6 text-sm",children:[(0,Wb.jsx)("a",{href:"#",className:"hover:text-purple-400",children:"Privacy Policy"}),(0,Wb.jsx)("a",{href:"#",className:"hover:text-purple-400",children:"Terms of Service"}),(0,Wb.jsx)("a",{href:"#",className:"hover:text-purple-400",children:"Contact Us"}),(0,Wb.jsx)("a",{href:"#",className:"hover:text-purple-400",children:"Blog"})]}),(0,Wb.jsxs)("p",{className:"text-xs opacity-60",children:["\xa9 2025 BabyNames. Helping parents worldwide find perfect names since 2020.",(0,Wb.jsx)("br",{}),"Data sourced from global naming registries and cultural databases."]})]})})]})},fA=zb("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),pA=zb("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),mA=zb("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);var gA=n(119);function yA(e,t,n){var r;let i,s=null!==(r=n.initialDeps)&&void 0!==r?r:[];function o(){var r,o,a,l;let c;n.key&&(null==(r=n.debug)?void 0:r.call(n))&&(c=Date.now());const u=e();if(!(u.length!==s.length||u.some((e,t)=>s[t]!==e)))return i;let h;if(s=u,n.key&&(null==(o=n.debug)?void 0:o.call(n))&&(h=Date.now()),i=t(...u),n.key&&(null==(a=n.debug)?void 0:a.call(n))){const e=Math.round(100*(Date.now()-c))/100,t=Math.round(100*(Date.now()-h))/100,r=t/16,i=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info("%c\u23f1 ".concat(i(t,5)," /").concat(i(e,5)," ms"),"\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(".concat(Math.max(0,Math.min(120-120*r,120)),"deg 100% 31%);"),null==n?void 0:n.key)}return null==(l=null==n?void 0:n.onChange)||l.call(n,i),i}return o.updateDeps=e=>{s=e},o}function vA(e,t){if(void 0===e)throw new Error("Unexpected undefined".concat(t?": ".concat(t):""));return e}const bA=(e,t,n)=>{let r;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},wA=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},xA=e=>e,SA=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},kA=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=e=>{const{width:n,height:r}=e;t({width:Math.round(n),height:Math.round(r)})};if(i(wA(n)),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(t=>{const r=()=>{const e=t[0];if(null==e?void 0:e.borderBoxSize){const t=e.borderBoxSize[0];if(t)return void i({width:t.inlineSize,height:t.blockSize})}i(wA(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},EA={passive:!0},CA="undefined"==typeof window||"onscrollend"in window,TA=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const s=e.options.useScrollendEvent&&CA?()=>{}:bA(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),o=r=>()=>{const{horizontal:o,isRtl:a}=e.options;i=o?n.scrollLeft*(a?-1:1):n.scrollTop,s(),t(i,r)},a=o(!0),l=o(!1);l(),n.addEventListener("scroll",a,EA);const c=e.options.useScrollendEvent&&CA;return c&&n.addEventListener("scrollend",l,EA),()=>{n.removeEventListener("scroll",a),c&&n.removeEventListener("scrollend",l)}},IA=(e,t,n)=>{if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e){return Math.round(e[n.options.horizontal?"inlineSize":"blockSize"])}}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},NA=(e,t,n)=>{let{adjustments:r=0,behavior:i}=t;var s,o;const a=e+r;null==(o=null==(s=n.scrollElement)?void 0:s.scrollTo)||o.call(s,{[n.options.horizontal?"left":"top"]:a,behavior:i})};class _A{constructor(e){var t=this;this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver(e=>{e.forEach(e=>{const t=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()})}):null);return{disconnect:()=>{var n;null==(n=t())||n.disconnect(),e=null},observe:e=>{var n;return null==(n=t())?void 0:n.observe(e,{box:"border-box"})},unobserve:e=>{var n;return null==(n=t())?void 0:n.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(t=>{let[n,r]=t;"undefined"===typeof r&&delete e[n]}),this.options=u({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:xA,rangeExtractor:SA,onChange:()=>{},measureElement:IA,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1},e)},this.notify=e=>{var t,n;null==(n=(t=this.options).onChange)||n.call(t,this,e)},this.maybeNotify=yA(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t)return void this.maybeNotify();var n;if(this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement)this.targetWindow=this.scrollElement.ownerDocument.defaultView;else this.targetWindow=null!==(n=null==(e=this.scrollElement)?void 0:e.window)&&void 0!==n?n:null;this.elementsCache.forEach(e=>{this.observer.observe(e)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()}))}},this.getSize=()=>{var e;return this.options.enabled?(this.scrollRect=null!==(e=this.scrollRect)&&void 0!==e?e:this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0)},this.getScrollOffset=()=>{var e;return this.options.enabled?(this.scrollOffset=null!==(e=this.scrollOffset)&&void 0!==e?e:"function"===typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset,this.scrollOffset):(this.scrollOffset=null,0)},this.getFurthestMeasurement=(e,t)=>{const n=new Map,r=new Map;for(let i=t-1;i>=0;i--){const t=e[i];if(n.has(t.lane))continue;const s=r.get(t.lane);if(null==s||t.end>s.end?r.set(t.lane,t):t.end<s.end&&n.set(t.lane,!0),n.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end)[0]:void 0},this.getMeasurementOptions=yA(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,t,n,r,i)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:i}),{key:!1}),this.getMeasurements=yA(()=>[this.getMeasurementOptions(),this.itemSizeCache],(e,t)=>{let{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o}=e;if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}));const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const l=this.measurementsCache.slice(0,a);for(let c=a;c<n;c++){const e=s(c),n=1===this.options.lanes?l[c-1]:this.getFurthestMeasurement(l,c),o=n?n.end+this.options.gap:r+i,a=t.get(e),u="number"===typeof a?a:this.options.estimateSize(c),h=o+u,d=n?n.lane:c%this.options.lanes;l[c]={index:c,start:o,size:u,end:h,key:e,lane:d}}return this.measurementsCache=l,l},{key:!1,debug:()=>this.options.debug}),this.calculateRange=yA(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,t,n,r)=>this.range=e.length>0&&t>0?function(e){let{measurements:t,outerSize:n,scrollOffset:r,lanes:i}=e;const s=t.length-1,o=e=>t[e].start;if(t.length<=i)return{startIndex:0,endIndex:s};let a=AA(0,s,o,r),l=a;if(1===i)for(;l<s&&t[l].end<r+n;)l++;else if(i>1){const e=Array(i).fill(0);for(;l<s&&e.some(e=>e<r+n);){const n=t[l];e[n.lane]=n.end,l++}const o=Array(i).fill(r+n);for(;a>=0&&o.some(e=>e>=r);){const e=t[a];o[e.lane]=e.start,a--}a=Math.max(0,a-a%i),l=Math.min(s,l+(i-1-l%i))}return{startIndex:a,endIndex:l}}({measurements:e,outerSize:t,scrollOffset:n,lanes:r}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=yA(()=>{let e=null,t=null;const n=this.calculateRange();return n&&(e=n.startIndex,t=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]},(e,t,n,r,i)=>null===r||null===i?[]:e({startIndex:r,endIndex:i,overscan:t,count:n}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const t=this.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn("Missing attribute name '".concat(t,"={index}' on measured element.")),-1)},this._measureElement=(e,t)=>{const n=this.indexFromElement(e),r=this.measurementsCache[n];if(!r)return;const i=r.key,s=this.elementsCache.get(i);s!==e&&(s&&this.observer.unobserve(s),this.observer.observe(e),this.elementsCache.set(i,e)),e.isConnected&&this.resizeItem(n,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{var n;const r=this.measurementsCache[e];if(!r)return;const i=t-(null!==(n=this.itemSizeCache.get(r.key))&&void 0!==n?n:r.size);0!==i&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(r,i,this):r.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(r.index),this.itemSizeCache=new Map(this.itemSizeCache.set(r.key,t)),this.notify(!1))},this.measureElement=e=>{e?this._measureElement(e,void 0):this.elementsCache.forEach((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))})},this.getVirtualItems=yA(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,t)=>{const n=[];for(let r=0,i=e.length;r<i;r++){const i=t[e[r]];n.push(i)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const t=this.getMeasurements();if(0!==t.length)return vA(t[AA(0,t.length-1,e=>vA(t[e]).start,e)])},this.getOffsetForAlignment=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=t.getSize(),s=t.getScrollOffset();"auto"===n&&(n=e>=s+i?"end":"start"),"center"===n?e+=(r-i)/2:"end"===n&&(e-=i);const o=t.getTotalSize()+t.options.scrollMargin-i;return Math.max(Math.min(o,e),0)},this.getOffsetForIndex=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";e=Math.max(0,Math.min(e,t.options.count-1));const r=t.measurementsCache[e];if(!r)return;const i=t.getSize(),s=t.getScrollOffset();if("auto"===n)if(r.end>=s+i-t.options.scrollPaddingEnd)n="end";else{if(!(r.start<=s+t.options.scrollPaddingStart))return[s,n];n="start"}const o="end"===n?r.end+t.options.scrollPaddingEnd:r.start-t.options.scrollPaddingStart;return[t.getOffsetForAlignment(o,n,r.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=function(e){let{align:n="start",behavior:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"smooth"===r&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t._scrollToOffset(t.getOffsetForAlignment(e,n),{adjustments:void 0,behavior:r})},this.scrollToIndex=function(e){let{align:n="auto",behavior:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"smooth"===r&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e=Math.max(0,Math.min(e,t.options.count-1));let i=0;const s=n=>{if(!t.targetWindow)return;const i=t.getOffsetForIndex(e,n);if(!i)return void console.warn("Failed to get offset for index:",e);const[s,a]=i;t._scrollToOffset(s,{adjustments:void 0,behavior:r}),t.targetWindow.requestAnimationFrame(()=>{const n=t.getScrollOffset(),r=t.getOffsetForIndex(e,a);var i,s;r?(i=r[0],s=n,Math.abs(i-s)<1.01||o(a)):console.warn("Failed to get offset for index:",e)})},o=n=>{t.targetWindow&&(i++,i<10?t.targetWindow.requestAnimationFrame(()=>s(n)):console.warn("Failed to scroll to index ".concat(e," after ").concat(10," attempts.")))};s(n)},this.scrollBy=function(e){let{behavior:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"smooth"===n&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t._scrollToOffset(t.getScrollOffset()+e,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var e;const t=this.getMeasurements();let n;if(0===t.length)n=this.options.paddingStart;else if(1===this.options.lanes){var r;n=null!==(r=null==(e=t[t.length-1])?void 0:e.end)&&void 0!==r?r:0}else{const e=Array(this.options.lanes).fill(null);let r=t.length-1;for(;r>=0&&e.some(e=>null===e);){const n=t[r];null===e[n.lane]&&(e[n.lane]=n.end),r--}n=Math.max(...e.filter(e=>null!==e))}return Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,t)=>{let{adjustments:n,behavior:r}=t;this.options.scrollToFn(e,{behavior:r,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const AA=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,s=n(i);if(s<r)e=i+1;else{if(!(s>r))return i;t=i-1}}return e>0?e-1:0};const PA="undefined"!==typeof document?r.useLayoutEffect:r.useEffect;function DA(e){const t=r.useReducer(()=>({}),{})[1],n=u(u({},e),{},{onChange:(n,r)=>{var i;r?(0,gA.flushSync)(t):t(),null==(i=e.onChange)||i.call(e,n,r)}}),[i]=r.useState(()=>new _A(n));return i.setOptions(n),PA(()=>i._didMount(),[]),PA(()=>i._willUpdate()),i}const RA=zb("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),MA=zb("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),LA=zb("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),OA=e=>{let{currentPage:t,totalPages:n,onPageChange:i,itemsPerPage:s,totalItems:o}=e;const a="undefined"!==typeof window&&window.innerWidth<640,l=(()=>{const e=[];if(a)if(n<=5)for(let t=1;t<=n;t++)e.push(t);else if(e.push(1),t<=3){for(let t=2;t<=Math.min(3,n);t++)e.push(t);n>3&&(e.push("..."),e.push(n))}else if(t>=n-2){e.push("...");for(let t=Math.max(n-2,2);t<=n;t++)e.push(t)}else e.push("..."),e.push(t),e.push("..."),e.push(n);else{const r=2;if(n<=7)for(let t=1;t<=n;t++)e.push(t);else if(e.push(1),t<=4){for(let t=2;t<=5;t++)e.push(t);e.push("..."),e.push(n)}else if(t>=n-3){e.push("...");for(let t=n-4;t<=n;t++)e.push(t)}else{e.push("...");for(let n=t-r;n<=t+r;n++)e.push(n);e.push("..."),e.push(n)}}return e})(),c=(t-1)*s+1,u=Math.min(t*s,o);return(0,Wb.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,Wb.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",(0,Wb.jsx)("span",{className:"font-semibold text-gray-900",children:c})," to"," ",(0,Wb.jsx)("span",{className:"font-semibold text-gray-900",children:u})," of"," ",(0,Wb.jsx)("span",{className:"font-semibold text-gray-900",children:o.toLocaleString()})," names"]}),(0,Wb.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,Wb.jsx)("button",{onClick:()=>i(t-1),disabled:1===t,className:"\n            flex items-center justify-center\n            w-11 h-11 sm:w-10 sm:h-10\n            rounded-lg transition-all font-medium\n            ".concat(1===t?"text-gray-400 cursor-not-allowed bg-gray-100":"text-gray-700 hover:text-purple-600 hover:bg-purple-50 bg-white border border-gray-200 hover:border-purple-200 shadow-sm hover:shadow-md active:scale-95","\n          "),title:"Previous page",children:(0,Wb.jsx)(RA,{className:"w-5 h-5 sm:w-4 sm:h-4"})}),l.map((e,n)=>(0,Wb.jsx)(r.Fragment,{children:"..."===e?(0,Wb.jsx)("div",{className:"hidden sm:flex items-center justify-center w-10 h-10",children:(0,Wb.jsx)(MA,{className:"w-5 h-5 text-gray-400"})}):(0,Wb.jsx)("button",{onClick:()=>i(e),className:"\n                  flex items-center justify-center\n                  w-11 h-11 sm:w-10 sm:h-10\n                  rounded-lg transition-all font-medium text-sm\n                  ".concat(t===e?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg transform scale-105":"text-gray-700 hover:text-purple-600 hover:bg-purple-50 bg-white border border-gray-200 hover:border-purple-200 shadow-sm hover:shadow-md active:scale-95","\n                "),title:"Go to page ".concat(e),children:e})},n)),(0,Wb.jsx)("button",{onClick:()=>i(t+1),disabled:t===n,className:"\n            flex items-center justify-center\n            w-11 h-11 sm:w-10 sm:h-10\n            rounded-lg transition-all font-medium\n            ".concat(t===n?"text-gray-400 cursor-not-allowed bg-gray-100":"text-gray-700 hover:text-purple-600 hover:bg-purple-50 bg-white border border-gray-200 hover:border-purple-200 shadow-sm hover:shadow-md active:scale-95","\n          "),title:"Next page",children:(0,Wb.jsx)(LA,{className:"w-5 h-5 sm:w-4 sm:h-4"})})]}),n>10&&(0,Wb.jsxs)("div",{className:"hidden sm:flex items-center space-x-2 text-sm",children:[(0,Wb.jsx)("span",{className:"text-gray-600",children:"Jump to page:"}),(0,Wb.jsx)("input",{type:"number",min:"1",max:n,value:t,onChange:e=>{const t=parseInt(e.target.value);t>=1&&t<=n&&i(t)},className:"w-16 px-2 py-1 text-center border border-gray-300 rounded-md focus:outline-none focus:border-purple-400 focus:ring-1 focus:ring-purple-400"}),(0,Wb.jsxs)("span",{className:"text-gray-600",children:["of ",n]})]}),(0,Wb.jsxs)("div",{className:"sm:hidden text-sm text-gray-600 mt-2",children:["Page ",t," of ",n]})]})},FA=()=>{var e;const[t,n]=(0,r.useState)(""),[i,s]=(0,r.useState)([]),[o,a]=(0,r.useState)([]),[l,c]=(0,r.useState)(null),[h,d]=(0,r.useState)("all"),[f,p]=(0,r.useState)("popularity"),[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!0),[b,w]=(0,r.useState)(0),[x,S]=(0,r.useState)(0),[,k]=(0,r.useState)({}),[E,C]=(0,r.useState)(!1),[T,I]=(0,r.useState)(1),[N]=(0,r.useState)(100),_=(0,r.useRef)(null),A=()=>{if("undefined"===typeof window)return 4;const e=window.innerWidth;return e<768?1:e<1024?3:e<1280?4:5},[P,D]=(0,r.useState)(A);(0,r.useEffect)(()=>{const e=()=>D(A());return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const R=o.length>500,M=Math.ceil(o.length/P),L=DA(u({observeElementRect:kA,observeElementOffset:TA,scrollToFn:NA},{count:R?M:0,getScrollElement:()=>_.current,estimateSize:()=>280,enabled:R,overscan:3}));const O=me(),F=de(),{user:j,isAuthenticated:V,login:U,logout:z}=Zb(),B=(null===(e=F.state)||void 0===e?void 0:e.gender)||"all";(0,r.useEffect)(()=>{d(B)},[B]),(0,r.useEffect)(()=>{(async()=>{v(!0);try{let t=0;const n=20;for(;t<n;){const e=RN.getPopularNames(1e3);if(e.length>0){s(e),a(e),v(!1),console.log("\u26a1 Loaded: ".concat(e.length," names ready for display"));break}await new Promise(e=>setTimeout(e,100)),t++}if(t>=n){console.log("\u26a0\ufe0f Forcing database load..."),await RN.loadFullDatabase();const e=RN.getPopularNames(1e3);e.length>0?(s(e),a(e),v(!1),console.log("\u2705 Force-loaded: ".concat(e.length," names"))):(v(!1),console.error("\u274c Failed to load any names"))}try{await RN.loadMore();const e=RN.getDatabaseInfo();console.log("\ud83d\udcca Progressive loading: ".concat(e.totalNames," names available"));const t=RN.getPopularNames(Math.min(1e4,e.totalNames));t.length>i.length&&(s(t),a(t),console.log("\u2705 Background update: ".concat(t.length," names now available")))}catch(e){console.error("Background loading error:",e)}}catch(e){console.error("Critical loading error:",e),v(!1)}})()},[]),(0,r.useEffect)(()=>{const e=()=>{w(Mb.getFavoritesCount()),S(Mb.getDislikesCount())};return e(),window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]);const H=(0,r.useCallback)(function(e){let t=[...e];if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&t.some(e=>e.searchPriority)){const e=t.filter(e=>1===e.searchPriority),n=t.filter(e=>2===e.searchPriority),r=t.filter(e=>!e.searchPriority),i=e=>{let t=[...e];switch(f){case"alphabetical":t=t.sort((e,t)=>e.name.localeCompare(t.name));break;case"random":for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}}return m&&"random"!==f&&(t=t.reverse()),t};return[...i(e),...i(n),...i(r)]}switch(f){case"alphabetical":t=t.sort((e,t)=>e.name.localeCompare(t.name));break;case"random":for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}return m&&(t=t.reverse()),t},[f,m]);(0,r.useEffect)(()=>{(async()=>{let e=i;e=Mb.filterOutDislikes(e),t&&(e=await RN.searchNames(t),e=Mb.filterOutDislikes(e)),"all"!==h&&(e=e.filter(e=>{if("object"===typeof e.gender&&e.gender){const t=(e.gender.Male||0)>(e.gender.Female||0);return"male"===h?t:!t}return!1})),e=H(e,!!t),a(e),w(Mb.getFavoritesCount())})()},[t,h,i,f,m,H]),(0,r.useEffect)(()=>{I(1)},[t]);const q=e=>{if(d(e),I(1),"all"!==e&&!t){const t=RN.getNamesByGender(e);a(t)}},G=Math.ceil(o.length/N),K=(T-1)*N,W=K+N,X=o.slice(K,W);return(0,Wb.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 overflow-x-hidden",children:[(0,Wb.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,Wb.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),(0,Wb.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),(0,Wb.jsx)("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),(0,Wb.jsx)("header",{className:"bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-40",children:(0,Wb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,Wb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Wb.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Wb.jsx)("button",{onClick:()=>O("/"),className:"p-2 rounded-full hover:bg-purple-100 transition-colors",title:"Back to Home",children:(0,Wb.jsx)(fA,{className:"h-6 w-6 text-purple-600"})}),(0,Wb.jsxs)("div",{className:"relative",children:[(0,Wb.jsx)(fw,{className:"h-10 w-10 text-purple-500"}),(0,Wb.jsx)(hw,{className:"h-4 w-4 text-yellow-400 absolute -top-1 -right-1 animate-pulse"})]}),(0,Wb.jsxs)("div",{children:[(0,Wb.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"BabyNames 2025"}),(0,Wb.jsxs)("p",{className:"text-xs text-gray-500",children:["Unified Database \u2022 ",o.length.toLocaleString()," Names"]})]})]}),(0,Wb.jsxs)("nav",{className:"hidden md:flex items-center space-x-4",children:[(0,Wb.jsxs)("button",{onClick:()=>O("/favorites"),className:"flex items-center gap-2 px-4 py-2 rounded-full transition-all font-medium text-gray-700 hover:text-red-500 hover:bg-red-50",children:[(0,Wb.jsx)(nw,{className:"w-4 h-4"}),"Favorites ",b>0&&"(".concat(b,")")]}),(0,Wb.jsxs)("button",{onClick:()=>O("/dislikes"),className:"flex items-center gap-2 px-4 py-2 rounded-full transition-all font-medium text-gray-700 hover:text-red-500 hover:bg-red-50",children:[(0,Wb.jsx)(Kb,{className:"w-4 h-4"}),"Dislikes ",x>0&&"(".concat(x,")")]}),V&&j?(0,Wb.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Wb.jsx)("img",{src:j.picture,alt:j.name,className:"w-10 h-10 rounded-full border-2 border-purple-200"}),(0,Wb.jsxs)("button",{onClick:z,className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-red-600 transition-colors",children:[(0,Wb.jsx)(pA,{className:"w-4 h-4"}),"Logout"]})]}):(0,Wb.jsxs)("button",{onClick:U,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-full hover:shadow-lg transition-all font-medium",children:[(0,Wb.jsx)(mA,{className:"w-4 h-4"}),"Sign in with Google"]})]}),(0,Wb.jsx)("button",{onClick:()=>C(!E),className:"md:hidden p-2 text-gray-700 hover:text-purple-600",children:E?(0,Wb.jsx)(Kb,{className:"w-6 h-6"}):(0,Wb.jsx)(iw,{className:"w-6 h-6"})})]}),E&&(0,Wb.jsx)("div",{className:"md:hidden mt-4 pt-4 border-t border-gray-200",children:(0,Wb.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,Wb.jsxs)("button",{onClick:()=>{O("/favorites"),C(!1)},className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-purple-50 rounded-lg transition-colors",children:[(0,Wb.jsx)(nw,{className:"w-4 h-4"}),"Favorites ",b>0&&"(".concat(b,")")]}),(0,Wb.jsxs)("button",{onClick:()=>{O("/dislikes"),C(!1)},className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-purple-50 rounded-lg transition-colors",children:[(0,Wb.jsx)(Kb,{className:"w-4 h-4"}),"Dislikes ",x>0&&"(".concat(x,")")]}),V&&j?(0,Wb.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 border-t pt-4",children:[(0,Wb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Wb.jsx)("img",{src:j.picture,alt:j.name,className:"w-8 h-8 rounded-full"}),(0,Wb.jsx)("span",{className:"text-sm font-medium text-gray-700",children:j.name})]}),(0,Wb.jsx)("button",{onClick:z,className:"text-red-600 text-sm",children:"Logout"})]}):(0,Wb.jsx)("button",{onClick:()=>{U(),C(!1)},className:"mx-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Sign in with Google"})]})})]})}),(0,Wb.jsx)("section",{className:"py-8 px-4",children:(0,Wb.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Wb.jsxs)("div",{className:"relative max-w-2xl mx-auto mb-6",children:[(0,Wb.jsx)(rw,{className:"absolute left-6 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,Wb.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),placeholder:"Search for the perfect name...",className:"w-full pl-14 pr-6 py-4 rounded-2xl border-2 border-purple-100 focus:outline-none focus:border-purple-400 shadow-lg text-lg placeholder:text-gray-400 transition-all"}),t&&(0,Wb.jsx)("button",{onClick:()=>n(""),className:"absolute right-6 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,Wb.jsxs)("div",{className:"flex flex-wrap justify-center gap-3 mb-6",children:[(0,Wb.jsx)("button",{onClick:()=>q("all"),className:"px-4 sm:px-6 py-3 rounded-xl font-medium transition-all ".concat("all"===h?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-white text-gray-700 hover:shadow-md"),children:"All Names"}),(0,Wb.jsxs)("button",{onClick:()=>q("male"),className:"px-4 sm:px-6 py-3 rounded-xl font-medium transition-all flex items-center gap-2 ".concat("male"===h?"bg-gradient-to-r from-blue-500 to-blue-700 text-white shadow-lg":"bg-white text-gray-700 hover:shadow-md"),children:[(0,Wb.jsx)("span",{children:"\u2642"})," Boy Names"]}),(0,Wb.jsxs)("button",{onClick:()=>q("female"),className:"px-4 sm:px-6 py-3 rounded-xl font-medium transition-all flex items-center gap-2 ".concat("female"===h?"bg-gradient-to-r from-pink-500 to-pink-700 text-white shadow-lg":"bg-white text-gray-700 hover:shadow-md"),children:[(0,Wb.jsx)("span",{children:"\u2640"})," Girl Names"]})]}),(0,Wb.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-4 mb-8",children:[(0,Wb.jsx)("span",{className:"text-sm text-gray-600 font-medium",children:"Sort:"}),(0,Wb.jsxs)("div",{className:"flex rounded-lg overflow-hidden shadow-md",children:[(0,Wb.jsxs)("button",{onClick:()=>{"popularity"===f?g(!m):(p("popularity"),g(!1))},className:"px-4 py-2 flex items-center gap-2 text-sm font-medium transition-all ".concat("popularity"===f?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),title:"popularity"===f&&m?"Least popular first":"Most popular first",children:[(0,Wb.jsx)(sw,{className:"w-4 h-4 transition-transform ".concat("popularity"===f&&m?"rotate-180":"")}),"Popular","popularity"===f&&m?" \u2193":""]}),(0,Wb.jsxs)("button",{onClick:()=>{"alphabetical"===f?g(!m):(p("alphabetical"),g(!1))},className:"px-4 py-2 flex items-center gap-2 text-sm font-medium transition-all border-l ".concat("alphabetical"===f?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),title:"alphabetical"===f&&m?"Sort Z to A":"Sort A to Z",children:[(0,Wb.jsx)(ow,{className:"w-4 h-4 transition-transform ".concat("alphabetical"===f&&m?"rotate-180":"")}),"alphabetical"===f&&m?"Z\u2192A":"A\u2192Z"]}),(0,Wb.jsxs)("button",{onClick:()=>{p("random"),g(!1)},className:"px-4 py-2 flex items-center gap-2 text-sm font-medium transition-all border-l ".concat("random"===f?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),title:"Shuffle randomly",children:[(0,Wb.jsx)(aw,{className:"w-4 h-4 ".concat("random"===f?"animate-pulse":"")}),"Shuffle"]})]})]})]})}),(0,Wb.jsx)("section",{className:"pb-12 px-4",children:(0,Wb.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Wb.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Wb.jsx)("h3",{className:"text-3xl font-bold text-gray-800",children:(()=>{if(t)return"Search Results";switch(h){case"male":return"Boy Names";case"female":return"Girl Names";default:return"All Names"}})()}),(0,Wb.jsx)("span",{className:"text-gray-500",children:o.length>0?"".concat(o.length.toLocaleString()," names found"):""})]}),y&&0===o.length?(0,Wb.jsx)("div",{className:"text-center py-20",children:(0,Wb.jsxs)("div",{className:"inline-flex items-center gap-3 text-gray-500",children:[(0,Wb.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),(0,Wb.jsx)("span",{className:"text-lg",children:"Loading names..."})]})}):0===o.length?(0,Wb.jsxs)("div",{className:"text-center py-20",children:[(0,Wb.jsx)(fw,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Wb.jsx)("p",{className:"text-xl text-gray-500",children:"No names found matching your search"}),(0,Wb.jsx)("button",{onClick:()=>n(""),className:"mt-4 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Clear Search"})]}):(0,Wb.jsxs)(Wb.Fragment,{children:[R?(0,Wb.jsx)("div",{ref:_,style:{height:"600px",overflow:"auto"},className:"w-full",children:(0,Wb.jsx)("div",{style:{height:"".concat(L.getTotalSize(),"px"),width:"100%",position:"relative"},children:L.getVirtualItems().map(e=>{const t=e.index*P,n=Math.min(t+P,o.length),r=o.slice(t,n);return(0,Wb.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"".concat(e.size,"px"),transform:"translateY(".concat(e.start,"px)")},children:(0,Wb.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 h-full",children:r.map(e=>(0,Wb.jsx)(qN,{name:e,onClick:c,onFavoriteToggle:()=>{w(Mb.getFavoritesCount()),S(Mb.getDislikesCount()),k({})},onDislikeToggle:()=>{w(Mb.getFavoritesCount()),S(Mb.getDislikesCount()),k({})}},e.name))})},e.index)})})}):(0,Wb.jsxs)(Wb.Fragment,{children:[(0,Wb.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:X.map(e=>(0,Wb.jsx)(qN,{name:e,onClick:c,onFavoriteToggle:()=>{w(Mb.getFavoritesCount()),S(Mb.getDislikesCount()),k({})},onDislikeToggle:()=>{w(Mb.getFavoritesCount()),S(Mb.getDislikesCount()),k({})}},e.name))}),G>1&&(0,Wb.jsx)("div",{className:"mt-16",children:(0,Wb.jsx)(OA,{currentPage:T,totalPages:G,onPageChange:e=>{I(e),window.scrollTo({top:100,behavior:"smooth"})},itemsPerPage:N,totalItems:o.length})})]}),R&&(0,Wb.jsxs)("div",{className:"mt-4 text-center text-sm text-gray-500",children:["\u26a1 Virtual scrolling active - ultra-fast performance for ",o.length.toLocaleString()," names"]})]})]})}),(0,Wb.jsx)(KN,{name:l,onClose:()=>c(null)})]})},jA=zb("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),VA=zb("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),UA=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(null),[s,o]=(0,r.useState)(!0),a=me();(0,r.useEffect)(()=>{l()},[]);const l=async()=>{o(!0),await RN.loadFullDatabase();const e=await RN.getPopularNames(1e4),n=Mb.getFavorites(),r=e.filter(e=>n.includes(e.name));t(r),o(!1)},c=()=>{l()};return(0,Wb.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 overflow-x-hidden",children:[(0,Wb.jsx)("header",{className:"bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-40",children:(0,Wb.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,Wb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Wb.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Wb.jsxs)("button",{onClick:()=>a("/"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-purple-600 transition-colors",children:[(0,Wb.jsx)(jA,{className:"w-5 h-5"}),(0,Wb.jsx)("span",{className:"font-medium",children:"Home"})]}),(0,Wb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Wb.jsx)(nw,{className:"w-6 h-6 text-red-500 fill-current"}),(0,Wb.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"My Favorite Names"})]})]}),e.length>0&&(0,Wb.jsxs)("button",{onClick:async()=>{window.confirm("Are you sure you want to clear all favorites? This will delete your favorites from both device and cloud.")&&(await Mb.clearFavorites(),console.log("[FavoritesPage] Favorites cleared and saved"),t([]),setTimeout(()=>{l()},100))},className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[(0,Wb.jsx)(VA,{className:"w-4 h-4"}),"Clear All"]})]})})}),(0,Wb.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Wb.jsx)("div",{className:"mb-6",children:(0,Wb.jsx)("p",{className:"text-gray-600",children:0===e.length?"You haven't added any names to your favorites yet.":"You have ".concat(e.length," favorite name").concat(1===e.length?"":"s")})}),s?(0,Wb.jsx)("div",{className:"text-center py-20",children:(0,Wb.jsxs)("div",{className:"inline-flex items-center gap-3 text-gray-500",children:[(0,Wb.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),(0,Wb.jsx)("span",{className:"text-lg",children:"Loading favorites..."})]})}):0===e.length?(0,Wb.jsxs)("div",{className:"text-center py-20",children:[(0,Wb.jsx)(nw,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Wb.jsx)("p",{className:"text-xl text-gray-500 mb-4",children:"No favorite names yet"}),(0,Wb.jsx)("button",{onClick:()=>a("/"),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Browse Names"})]}):(0,Wb.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(t=>(0,Wb.jsx)(qN,{name:t,onClick:i,onFavoriteToggle:c,onDislikeToggle:c},"".concat(t.name,"-").concat(e.length)))})]}),n&&(0,Wb.jsx)(KN,{name:n,onClose:()=>i(null)})]})},zA=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(null),[s,o]=(0,r.useState)(!0),a=me();(0,r.useEffect)(()=>{l()},[]);const l=async()=>{o(!0),await RN.loadFullDatabase();const e=await RN.getPopularNames(1e4),n=Mb.getDislikes(),r=e.filter(e=>n.includes(e.name));t(r),o(!1)},c=()=>{l()};return(0,Wb.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 overflow-x-hidden",children:[(0,Wb.jsx)("header",{className:"bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-40",children:(0,Wb.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,Wb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Wb.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Wb.jsxs)("button",{onClick:()=>a("/"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-purple-600 transition-colors",children:[(0,Wb.jsx)(jA,{className:"w-5 h-5"}),(0,Wb.jsx)("span",{className:"font-medium",children:"Home"})]}),(0,Wb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Wb.jsx)(Kb,{className:"w-6 h-6 text-red-500"}),(0,Wb.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Disliked Names"})]})]}),e.length>0&&(0,Wb.jsxs)("button",{onClick:async()=>{window.confirm("Are you sure you want to clear all disliked names? This will delete your dislikes from both device and cloud.")&&(await Mb.clearDislikes(),console.log("[DislikesPage] Dislikes cleared and saved"),t([]),setTimeout(()=>{l()},100))},className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[(0,Wb.jsx)(VA,{className:"w-4 h-4"}),"Clear All"]})]})})}),(0,Wb.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Wb.jsxs)("div",{className:"mb-6",children:[(0,Wb.jsx)("p",{className:"text-gray-600",children:0===e.length?"You haven't disliked any names yet.":"You have ".concat(e.length," disliked name").concat(1===e.length?"":"s")}),(0,Wb.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"These names won't appear in your search results or recommendations."})]}),s?(0,Wb.jsx)("div",{className:"text-center py-20",children:(0,Wb.jsxs)("div",{className:"inline-flex items-center gap-3 text-gray-500",children:[(0,Wb.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),(0,Wb.jsx)("span",{className:"text-lg",children:"Loading disliked names..."})]})}):0===e.length?(0,Wb.jsxs)("div",{className:"text-center py-20",children:[(0,Wb.jsx)(Kb,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Wb.jsx)("p",{className:"text-xl text-gray-500 mb-4",children:"No disliked names yet"}),(0,Wb.jsx)("p",{className:"text-gray-400 mb-6",children:"Names you dislike will appear here and be hidden from your searches."}),(0,Wb.jsx)("button",{onClick:()=>a("/"),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Browse Names"})]}):(0,Wb.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(t=>(0,Wb.jsx)(qN,{name:t,onClick:i,onFavoriteToggle:c,onDislikeToggle:c},"".concat(t.name,"-").concat(e.length)))})]}),n&&(0,Wb.jsx)(KN,{name:n,onClose:()=>i(null)})]})},BA=()=>{const{user:e,isAuthenticated:t,clearCache:n}=Zb(),[i,s]=(0,r.useState)({}),[o,a]=(0,r.useState)({}),[l,c]=(0,r.useState)({});return(0,r.useEffect)(()=>{const e={};for(let r=0;r<localStorage.length;r++){const t=localStorage.key(r);if(t)try{e[t]=JSON.parse(localStorage.getItem(t)||"")}catch(tP){e[t]=localStorage.getItem(t)}}s(e);const t=localStorage.getItem("user");if(t)try{const e=JSON.parse(t),n={rawData:e,checks:{}};n.checks.isObject="object"===typeof e&&null!==e,n.checks.hasId=!!e.id,n.checks.idType=typeof e.id,n.checks.idValue=e.id,n.checks.idLength=e.id?e.id.length:0,n.checks.idIsNumeric=/^\d+$/.test(e.id||""),n.checks.idIsLongEnough=e.id&&/^\d{15,}$/.test(e.id),n.checks.hasEmail=!!e.email,n.checks.emailValue=e.email,n.checks.hasName=!!e.name,n.checks.nameValue=e.name,n.checks.hasPicture=!!e.picture,n.isValid=n.checks.isObject&&n.checks.hasId&&n.checks.idIsLongEnough&&n.checks.hasEmail&&n.checks.hasName,a(n)}catch(n){a({error:n.message})}else a({message:"No user data in localStorage"});c({userDataServiceUserId:Rb.userId,favoritesCount:Mb.getFavoritesCount(),dislikesCount:Mb.getDislikesCount(),favorites:Mb.getFavorites().slice(0,5),dislikes:Mb.getDislikes().slice(0,5)})},[]),(0,Wb.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,Wb.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Wb.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-900",children:"\ud83d\udc1b Debug Dashboard"}),(0,Wb.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,Wb.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Authentication Status"}),(0,Wb.jsxs)("div",{className:"space-y-2",children:[(0,Wb.jsxs)("p",{children:[(0,Wb.jsx)("strong",{children:"Authenticated:"})," ",t?"\u2705 Yes":"\u274c No"]}),e&&(0,Wb.jsxs)(Wb.Fragment,{children:[(0,Wb.jsxs)("p",{children:[(0,Wb.jsx)("strong",{children:"User ID:"})," ",(0,Wb.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:e.id})]}),(0,Wb.jsxs)("p",{children:[(0,Wb.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,Wb.jsxs)("p",{children:[(0,Wb.jsx)("strong",{children:"Name:"})," ",e.name]})]})]})]}),(0,Wb.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,Wb.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Validation Results"}),(0,Wb.jsx)("div",{className:"p-4 rounded-lg mb-4 ".concat(o.isValid?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:(0,Wb.jsx)("p",{className:"font-bold text-lg mb-2",children:o.isValid?"\u2705 VALID":"\u274c INVALID"})}),(0,Wb.jsx)("pre",{className:"bg-gray-100 p-4 rounded overflow-auto text-xs",children:JSON.stringify(o,null,2)})]}),(0,Wb.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,Wb.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"localStorage Contents"}),(0,Wb.jsx)("pre",{className:"bg-gray-100 p-4 rounded overflow-auto text-xs",children:JSON.stringify(i,null,2)})]}),(0,Wb.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,Wb.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Service State"}),(0,Wb.jsx)("pre",{className:"bg-gray-100 p-4 rounded overflow-auto text-xs",children:JSON.stringify(l,null,2)})]}),(0,Wb.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Wb.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Actions"}),(0,Wb.jsxs)("div",{className:"flex gap-4",children:[(0,Wb.jsx)("button",{onClick:n,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium",children:"Clear Cache & Reload"}),(0,Wb.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Reload Page"}),(0,Wb.jsx)("button",{onClick:()=>{console.log("LocalStorage:",i),console.log("Validation:",o),console.log("Services:",l),alert("Check browser console for detailed logs")},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-medium",children:"Log to Console"})]})]}),(0,Wb.jsx)("div",{className:"mt-6",children:(0,Wb.jsx)("a",{href:"/",className:"text-blue-600 hover:text-blue-800 font-medium",children:"\u2190 Back to App"})})]})})};function HA(e){const t=mw(()=>jS(e)),{isStatic:n}=(0,r.useContext)(xw);if(n){const[,n]=(0,r.useState)(e);(0,r.useEffect)(()=>t.on("change",n),[])}return t}function qA(e,t){[...t].reverse().forEach(n=>{const r=e.getVariant(n);r&&uE(e,r),e.variantChildren&&e.variantChildren.forEach(e=>{qA(e,t)})})}function GA(){let e=!1;const t=new Set,n={subscribe:e=>(t.add(e),()=>{t.delete(e)}),start(e,n){const r=[];return t.forEach(t=>{r.push(eT(t,e,{transitionOverride:n}))}),Promise.all(r)},set:e=>t.forEach(t=>{!function(e,t){Array.isArray(t)?qA(e,t):"string"===typeof t?qA(e,[t]):uE(e,t)}(t,e)}),stop(){t.forEach(e=>{!function(e){e.values.forEach(e=>e.stop())}(e)})},mount:()=>(e=!0,()=>{e=!1,n.stop()})};return n}const KA=function(){const e=mw(GA);return yw(e.mount,[]),e};function WA(e,t){const n=HA(t()),r=()=>n.set(t());return r(),yw(()=>{const t=()=>Vx.preRender(r,!1,!0),n=e.map(e=>e.on("change",t));return()=>{n.forEach(e=>e()),Ux(r)}}),n}function XA(e,t,n,r){if("function"===typeof e)return function(e){OS.current=[],e();const t=WA(OS.current,e);return OS.current=void 0,t}(e);const i="function"===typeof t?t:function(){const e=!Array.isArray(arguments.length<=0?void 0:arguments[0]),t=e?0:-1,n=0+t<0||arguments.length<=0+t?void 0:arguments[0+t],r=hC(1+t<0||arguments.length<=1+t?void 0:arguments[1+t],2+t<0||arguments.length<=2+t?void 0:arguments[2+t],3+t<0||arguments.length<=3+t?void 0:arguments[3+t]);return e?r(n):r}(t,n,r);return Array.isArray(e)?YA(e,i):YA([e],e=>{let[t]=e;return i(t)})}function YA(e,t){const n=mw(()=>[]);return WA(e,()=>{n.length=0;const r=e.length;for(let t=0;t<r;t++)n[t]=e[t].get();return t(n)})}const QA=zb("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),$A=e=>{let{name:t,isTop:n,onSwipeLeft:r,onSwipeRight:i,dragEnabled:s}=e;const o=HA(0),a=KA(),l=XA(o,[-200,0,200],[-25,0,25]),c=XA(o,[-200,-100,0,100,200],[.5,1,1,1,.5]),u=XA(o,[0,100],[0,1]),h=XA(o,[-100,0],[1,0]),d="object"===typeof t.gender?t.gender:null,f=((null===d||void 0===d?void 0:d.Male)||0)>((null===d||void 0===d?void 0:d.Female)||0),p=f?"from-blue-400 to-blue-600":"from-pink-400 to-pink-600",m=f?"bg-blue-50":"bg-pink-50";return(0,Wb.jsx)(CN.div,{className:"absolute w-full h-full",style:{x:n?o:0,rotate:n?l:0,opacity:c},drag:!(!s||!n)&&"x",dragConstraints:{left:-250,right:250},dragElastic:.5,dragMomentum:!1,onDragEnd:n?(e,t)=>{const n=t.velocity.x,s=t.offset.x;Math.abs(n)>=300||Math.abs(s)>=50?s>0?(a.start({x:1e3,rotate:45,opacity:0,transition:{duration:.3}}),setTimeout(i,300)):(a.start({x:-1e3,rotate:-45,opacity:0,transition:{duration:.3}}),setTimeout(r,300)):a.start({x:0,rotate:0,transition:{type:"spring",stiffness:200,damping:25}})}:void 0,animate:a,children:(0,Wb.jsxs)("div",{className:"relative w-full h-full ".concat(m," rounded-3xl shadow-2xl border-2 border-white overflow-hidden"),children:[n&&(0,Wb.jsxs)(Wb.Fragment,{children:[(0,Wb.jsx)(CN.div,{className:"absolute top-8 left-8 z-10",style:{opacity:h},children:(0,Wb.jsx)("div",{className:"text-red-500 border-4 border-red-500 rounded-xl px-4 py-2 font-bold text-4xl transform -rotate-12",children:"NOPE"})}),(0,Wb.jsx)(CN.div,{className:"absolute top-8 right-8 z-10",style:{opacity:u},children:(0,Wb.jsx)("div",{className:"text-green-500 border-4 border-green-500 rounded-xl px-4 py-2 font-bold text-4xl transform rotate-12",children:"LIKE"})})]}),(0,Wb.jsxs)("div",{className:"h-1/3 bg-gradient-to-br ".concat(p," relative"),children:[(0,Wb.jsx)("div",{className:"absolute inset-0 bg-black opacity-10"}),(0,Wb.jsx)("div",{className:"absolute bottom-4 left-0 right-0 text-center",children:(0,Wb.jsx)("h2",{className:"text-5xl font-bold text-white drop-shadow-lg",children:t.name})})]}),(0,Wb.jsxs)("div",{className:"p-6 h-2/3 flex flex-col justify-between",children:[(0,Wb.jsxs)("div",{children:[(0,Wb.jsx)("div",{className:"flex justify-center mb-4",children:(0,Wb.jsxs)("span",{className:"px-4 py-2 rounded-full bg-gradient-to-r ".concat(p," text-white font-bold text-lg"),children:["Rank #",t.popularityRank||999999]})}),t.meaning&&(0,Wb.jsx)("div",{className:"text-center mb-4",children:(0,Wb.jsxs)("p",{className:"text-xl italic text-gray-700",children:['"',t.meaning,'"']})}),t.origin&&(0,Wb.jsx)("div",{className:"text-center",children:(0,Wb.jsx)("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-100 rounded-full",children:(0,Wb.jsx)("span",{className:"text-sm font-semibold text-purple-700",children:t.origin})})})]}),(0,Wb.jsx)("div",{className:"mt-auto",children:(0,Wb.jsxs)("div",{className:"flex gap-2 items-center justify-center",children:[(0,Wb.jsxs)("div",{className:"flex-1 text-center",children:[(0,Wb.jsx)("span",{className:"text-sm text-gray-600",children:"Male"}),(0,Wb.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden mt-1",children:(0,Wb.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-400 to-blue-600",style:{width:"".concat(100*((null===d||void 0===d?void 0:d.Male)||0),"%")}})})]}),(0,Wb.jsxs)("div",{className:"flex-1 text-center",children:[(0,Wb.jsx)("span",{className:"text-sm text-gray-600",children:"Female"}),(0,Wb.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden mt-1",children:(0,Wb.jsx)("div",{className:"h-full bg-gradient-to-r from-pink-400 to-pink-600",style:{width:"".concat(100*((null===d||void 0===d?void 0:d.Female)||0),"%")}})})]})]})})]})]})})},JA=()=>{const e=me(),[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)(0),[o,a]=(0,r.useState)(!0),[l,c]=(0,r.useState)(0),[u,h]=(0,r.useState)(0),[d,f]=(0,r.useState)(null),[p,m]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{a(!0);let e=RN.getPopularNames(200);e=Mb.filterOutLikedAndDisliked(e),n(e),c(Mb.getFavoritesCount()),h(Mb.getDislikesCount()),a(!1)})()},[]);const g=e=>{const r=t[i],o="right"===e?"like":"dislike";if(m(e=>[...e,{name:r.name,action:o}]),f({name:r.name,action:o}),"right"===e?(Mb.addFavorite(r.name),c(Mb.getFavoritesCount())):(Mb.addDislike(r.name),h(Mb.getDislikesCount())),s(e=>e+1),i>=t.length-5){let e=RN.getPopularNames(100);e=Mb.filterOutLikedAndDisliked(e),n(t=>[...t,...e])}},y=e=>{if(i>=t.length)return;const n=t[i],r=document.querySelector('[data-card-index="0"]');if(r){const t=r;t.style.transition="all 0.3s ease-out",t.style.transform="like"===e?"translateX(1000px) rotate(45deg)":"translateX(-1000px) rotate(-45deg)",t.style.opacity="0"}setTimeout(()=>{m(t=>[...t,{name:n.name,action:e}]),f({name:n.name,action:e}),"like"===e?(Mb.addFavorite(n.name),c(Mb.getFavoritesCount())):(Mb.addDislike(n.name),h(Mb.getDislikesCount())),s(e=>e+1)},300)},v=t.slice(i,i+3).reverse();return(0,Wb.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 overflow-hidden",children:[(0,Wb.jsx)("header",{className:"bg-white/80 backdrop-blur-md shadow-sm fixed top-0 left-0 right-0 z-50",children:(0,Wb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between",children:[(0,Wb.jsxs)("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-gray-700 hover:text-purple-600 transition-colors",children:[(0,Wb.jsx)(fA,{className:"w-5 h-5"}),(0,Wb.jsx)("span",{className:"font-medium",children:"Back"})]}),(0,Wb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Wb.jsx)(fw,{className:"h-8 w-8 text-purple-500"}),(0,Wb.jsx)("h1",{className:"text-lg font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Swipe Mode"})]}),(0,Wb.jsxs)("div",{className:"flex gap-4",children:[(0,Wb.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Wb.jsx)(nw,{className:"w-5 h-5 text-red-500 fill-red-500"}),(0,Wb.jsx)("span",{className:"font-bold text-gray-700",children:l})]}),(0,Wb.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Wb.jsx)(Kb,{className:"w-5 h-5 text-gray-500"}),(0,Wb.jsx)("span",{className:"font-bold text-gray-700",children:u})]})]})]})}),(0,Wb.jsxs)("div",{className:"pt-20 px-4 h-screen flex flex-col",children:[(0,Wb.jsx)("div",{className:"text-center mb-4",children:(0,Wb.jsxs)("p",{className:"text-sm text-gray-600",children:["Reviewing name ",i+1," of ",t.length]})}),(0,Wb.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center",children:[(0,Wb.jsx)("div",{className:"relative w-full max-w-md h-[600px]",children:o?(0,Wb.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Wb.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):i<t.length?(0,Wb.jsx)(Wb.Fragment,{children:v.map((e,t)=>{const n=t===v.length-1,r=v.length-1-t;return(0,Wb.jsx)(CN.div,{className:"absolute inset-0","data-card-index":r,initial:{scale:1-.05*r,y:10*r},animate:{scale:1-.05*r,y:10*r},style:{zIndex:t+1},children:(0,Wb.jsx)($A,{name:e,isTop:n,onSwipeLeft:()=>g("left"),onSwipeRight:()=>g("right"),dragEnabled:!0})},"".concat(e.name,"-").concat(i+r))})}):(0,Wb.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,Wb.jsx)(hw,{className:"w-16 h-16 text-purple-500 mb-4"}),(0,Wb.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"All done!"}),(0,Wb.jsx)("p",{className:"text-gray-600 mb-6",children:"You've reviewed all available names"}),(0,Wb.jsx)("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full font-bold hover:shadow-lg transition-all",children:"Back to Home"})]})}),!o&&i<t.length&&(0,Wb.jsxs)("div",{className:"w-full max-w-md mt-8 pb-8",children:[(0,Wb.jsxs)("div",{className:"flex justify-between items-center px-8",children:[(0,Wb.jsx)("button",{onClick:()=>y("dislike"),className:"flex items-center justify-center w-16 h-16 rounded-full bg-white border-4 border-red-500 shadow-xl hover:scale-110 transition-transform z-50",children:(0,Wb.jsx)(Kb,{className:"w-8 h-8 text-red-500 stroke-[3px]"})}),(0,Wb.jsx)("button",{onClick:()=>{if(0===p.length||0===i)return;const e=p[p.length-1];"like"===e.action?Mb.removeFavorite(e.name):Mb.removeDislikes(e.name),c(Mb.getFavoritesCount()),h(Mb.getDislikesCount()),m(e=>e.slice(0,-1)),s(e=>Math.max(0,e-1))},disabled:0===p.length,className:"flex items-center justify-center w-14 h-14 rounded-full bg-white shadow-xl transition-all z-50 ".concat(0===p.length?"border-2 border-gray-300 opacity-50 cursor-not-allowed":"border-4 border-yellow-500 hover:scale-110"),children:(0,Wb.jsx)(QA,{className:"w-6 h-6 ".concat(0===p.length?"text-gray-400":"text-yellow-500"," stroke-[2.5px]")})}),(0,Wb.jsx)("button",{onClick:()=>y("like"),className:"flex items-center justify-center w-16 h-16 rounded-full bg-white border-4 border-green-500 shadow-xl hover:scale-110 transition-transform z-50",children:(0,Wb.jsx)(nw,{className:"w-8 h-8 text-green-500 stroke-[2px]"})})]}),(0,Wb.jsx)("p",{className:"text-center text-sm text-gray-500 mt-4",children:"Swipe left to pass \u2022 Swipe right to like \u2022 Tap undo to go back"})]})]})]})]})};const ZA=function(){return(0,Wb.jsx)(Qb,{children:(0,Wb.jsx)(tw,{children:(0,Wb.jsx)(ft,{basename:"/babyname2",children:(0,Wb.jsx)("div",{className:"App min-h-screen bg-gradient-to-br from-purple-50 to-pink-50",children:(0,Wb.jsxs)(Me,{children:[(0,Wb.jsx)(De,{path:"/",element:(0,Wb.jsx)(dA,{})}),(0,Wb.jsx)(De,{path:"/names",element:(0,Wb.jsx)(FA,{})}),(0,Wb.jsx)(De,{path:"/favorites",element:(0,Wb.jsx)(UA,{})}),(0,Wb.jsx)(De,{path:"/dislikes",element:(0,Wb.jsx)(zA,{})}),(0,Wb.jsx)(De,{path:"/debug",element:(0,Wb.jsx)(BA,{})}),(0,Wb.jsx)(De,{path:"/swipe",element:(0,Wb.jsx)(JA,{})})]})})})})})};i.createRoot(document.getElementById("root")).render((0,Wb.jsx)(r.StrictMode,{children:(0,Wb.jsx)(ZA,{})}))})();